(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Dx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Fc={},Gv={get exports(){return Fc},set exports(t){Fc=t}},_l={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Zp=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,Vv=Object.prototype.propertyIsEnumerable;function Kv(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Jv(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Ux=Jv()?Object.assign:function(t,e){for(var r,n=Kv(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)qv.call(r,o)&&(n[o]=r[o]);if(Zp){i=Zp(r);for(var a=0;a<i.length;a++)Vv.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n},wn={},Qv={get exports(){return wn},set exports(t){wn=t}},_e={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=Ux,jo=60103,Wx=60106;_e.Fragment=60107;_e.StrictMode=60108;_e.Profiler=60114;var $x=60109,zx=60110,jx=60112;_e.Suspense=60113;var Hx=60115,Gx=60116;if(typeof Symbol=="function"&&Symbol.for){var Yr=Symbol.for;jo=Yr("react.element"),Wx=Yr("react.portal"),_e.Fragment=Yr("react.fragment"),_e.StrictMode=Yr("react.strict_mode"),_e.Profiler=Yr("react.profiler"),$x=Yr("react.provider"),zx=Yr("react.context"),jx=Yr("react.forward_ref"),_e.Suspense=Yr("react.suspense"),Hx=Yr("react.memo"),Gx=Yr("react.lazy")}var eg=typeof Symbol=="function"&&Symbol.iterator;function Yv(t){return t===null||typeof t!="object"?null:(t=eg&&t[eg]||t["@@iterator"],typeof t=="function"?t:null)}function Cl(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vx={};function Ho(t,e,r){this.props=t,this.context=e,this.refs=Vx,this.updater=r||qx}Ho.prototype.isReactComponent={};Ho.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Cl(85));this.updater.enqueueSetState(this,t,e,"setState")};Ho.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Kx(){}Kx.prototype=Ho.prototype;function ah(t,e,r){this.props=t,this.context=e,this.refs=Vx,this.updater=r||qx}var lh=ah.prototype=new Kx;lh.constructor=ah;oh(lh,Ho.prototype);lh.isPureReactComponent=!0;var ch={current:null},Jx=Object.prototype.hasOwnProperty,Qx={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Jx.call(e,n)&&!Qx.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:jo,type:t,key:s,ref:o,props:i,_owner:ch.current}}function Xv(t,e){return{$$typeof:jo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function uh(t){return typeof t=="object"&&t!==null&&t.$$typeof===jo}function Zv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var tg=/\/+/g;function Pf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zv(""+t.key):e.toString(36)}function gc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jo:case Wx:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Pf(o,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(tg,"$&/")+"/"),gc(i,e,r,"",function(u){return u})):i!=null&&(uh(i)&&(i=Xv(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(tg,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Array.isArray(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Pf(s,a);o+=gc(s,e,r,l,i)}else if(l=Yv(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Pf(s,a++),o+=gc(s,e,r,l,i);else if(s==="object")throw e=""+t,Error(Cl(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Vl(t,e,r){if(t==null)return t;var n=[],i=0;return gc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function e2(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var Xx={current:null};function ci(){var t=Xx.current;if(t===null)throw Error(Cl(321));return t}var t2={ReactCurrentDispatcher:Xx,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ch,IsSomeRendererActing:{current:!1},assign:oh};_e.Children={map:Vl,forEach:function(t,e,r){Vl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Vl(t,function(){e++}),e},toArray:function(t){return Vl(t,function(e){return e})||[]},only:function(t){if(!uh(t))throw Error(Cl(143));return t}};_e.Component=Ho;_e.PureComponent=ah;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t2;_e.cloneElement=function(t,e,r){if(t==null)throw Error(Cl(267,t));var n=oh({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ch.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Jx.call(e,l)&&!Qx.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:jo,type:t.type,key:i,ref:s,props:n,_owner:o}};_e.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:zx,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:$x,_context:t},t.Consumer=t};_e.createElement=Yx;_e.createFactory=function(t){var e=Yx.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:jx,render:t}};_e.isValidElement=uh;_e.lazy=function(t){return{$$typeof:Gx,_payload:{_status:-1,_result:t},_init:e2}};_e.memo=function(t,e){return{$$typeof:Hx,type:t,compare:e===void 0?null:e}};_e.useCallback=function(t,e){return ci().useCallback(t,e)};_e.useContext=function(t,e){return ci().useContext(t,e)};_e.useDebugValue=function(){};_e.useEffect=function(t,e){return ci().useEffect(t,e)};_e.useImperativeHandle=function(t,e,r){return ci().useImperativeHandle(t,e,r)};_e.useLayoutEffect=function(t,e){return ci().useLayoutEffect(t,e)};_e.useMemo=function(t,e){return ci().useMemo(t,e)};_e.useReducer=function(t,e,r){return ci().useReducer(t,e,r)};_e.useRef=function(t){return ci().useRef(t)};_e.useState=function(t){return ci().useState(t)};_e.version="17.0.2";(function(t){t.exports=_e})(Qv);const Vn=Fx(wn);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r2=wn,Zx=60103;_l.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var rg=Symbol.for;Zx=rg("react.element"),_l.Fragment=rg("react.fragment")}var n2=r2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i2=Object.prototype.hasOwnProperty,s2={key:!0,ref:!0,__self:!0,__source:!0};function e1(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)i2.call(e,n)&&!s2.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Zx,type:t,key:s,ref:o,props:i,_owner:n2.current}}_l.jsx=e1;_l.jsxs=e1;(function(t){t.exports=_l})(Gv);const ge=Fc.jsx,mn=Fc.jsxs;var bd={},o2={get exports(){return bd},set exports(t){bd=t}},Vr={},vd={},a2={get exports(){return vd},set exports(t){vd=t}},t1={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,p=function(){if(l!==null)try{var h=t.unstable_now();l(!0,h),l=null}catch(c){throw setTimeout(p,0),c}};e=function(h){l!==null?setTimeout(e,0,h):(l=h,setTimeout(p,0))},r=function(h,c){u=setTimeout(h,c)},n=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var x=window.setTimeout,w=window.clearTimeout;if(typeof console<"u"){var E=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof E!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var I=!1,P=null,b=-1,A=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},i=function(){},t.unstable_forceFrameRate=function(h){0>h||125<h?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<h?Math.floor(1e3/h):5};var B=new MessageChannel,O=B.port2;B.port1.onmessage=function(){if(P!==null){var h=t.unstable_now();k=h+A;try{P(!0,h)?O.postMessage(null):(I=!1,P=null)}catch(c){throw O.postMessage(null),c}}else I=!1},e=function(h){P=h,I||(I=!0,O.postMessage(null))},r=function(h,c){b=x(function(){h(t.unstable_now())},c)},n=function(){w(b),b=-1}}function D(h,c){var m=h.length;h.push(c);e:for(;;){var S=m-1>>>1,f=h[S];if(f!==void 0&&0<G(f,c))h[S]=c,h[m]=f,m=S;else break e}}function F(h){return h=h[0],h===void 0?null:h}function j(h){var c=h[0];if(c!==void 0){var m=h.pop();if(m!==c){h[0]=m;e:for(var S=0,f=h.length;S<f;){var N=2*(S+1)-1,R=h[N],L=N+1,W=h[L];if(R!==void 0&&0>G(R,m))W!==void 0&&0>G(W,R)?(h[S]=W,h[L]=m,S=L):(h[S]=R,h[N]=m,S=N);else if(W!==void 0&&0>G(W,m))h[S]=W,h[L]=m,S=L;else break e}}return c}return null}function G(h,c){var m=h.sortIndex-c.sortIndex;return m!==0?m:h.id-c.id}var z=[],X=[],ee=1,ae=null,M=3,d=!1,y=!1,_=!1;function T(h){for(var c=F(X);c!==null;){if(c.callback===null)j(X);else if(c.startTime<=h)j(X),c.sortIndex=c.expirationTime,D(z,c);else break;c=F(X)}}function g(h){if(_=!1,T(h),!y)if(F(z)!==null)y=!0,e(v);else{var c=F(X);c!==null&&r(g,c.startTime-h)}}function v(h,c){y=!1,_&&(_=!1,n()),d=!0;var m=M;try{for(T(c),ae=F(z);ae!==null&&(!(ae.expirationTime>c)||h&&!t.unstable_shouldYield());){var S=ae.callback;if(typeof S=="function"){ae.callback=null,M=ae.priorityLevel;var f=S(ae.expirationTime<=c);c=t.unstable_now(),typeof f=="function"?ae.callback=f:ae===F(z)&&j(z),T(c)}else j(z);ae=F(z)}if(ae!==null)var N=!0;else{var R=F(X);R!==null&&r(g,R.startTime-c),N=!1}return N}finally{ae=null,M=m,d=!1}}var C=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(h){h.callback=null},t.unstable_continueExecution=function(){y||d||(y=!0,e(v))},t.unstable_getCurrentPriorityLevel=function(){return M},t.unstable_getFirstCallbackNode=function(){return F(z)},t.unstable_next=function(h){switch(M){case 1:case 2:case 3:var c=3;break;default:c=M}var m=M;M=c;try{return h()}finally{M=m}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=C,t.unstable_runWithPriority=function(h,c){switch(h){case 1:case 2:case 3:case 4:case 5:break;default:h=3}var m=M;M=h;try{return c()}finally{M=m}},t.unstable_scheduleCallback=function(h,c,m){var S=t.unstable_now();switch(typeof m=="object"&&m!==null?(m=m.delay,m=typeof m=="number"&&0<m?S+m:S):m=S,h){case 1:var f=-1;break;case 2:f=250;break;case 5:f=1073741823;break;case 4:f=1e4;break;default:f=5e3}return f=m+f,h={id:ee++,callback:c,priorityLevel:h,startTime:m,expirationTime:f,sortIndex:-1},m>S?(h.sortIndex=m,D(X,h),F(z)===null&&h===F(X)&&(_?n():_=!0,r(g,m-S))):(h.sortIndex=f,D(z,h),y||d||(y=!0,e(v))),h},t.unstable_wrapCallback=function(h){var c=M;return function(){var m=M;M=c;try{return h.apply(this,arguments)}finally{M=m}}}})(t1);(function(t){t.exports=t1})(a2);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=wn,mt=Ux,Ut=vd;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Ou)throw Error(Y(227));var r1=new Set,tl={};function Rs(t,e){No(t,e),No(t+"Capture",e)}function No(t,e){for(tl[t]=e,t=0;t<e.length;t++)r1.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ng=Object.prototype.hasOwnProperty,ig={},sg={};function c2(t){return ng.call(sg,t)?!0:ng.call(ig,t)?!1:l2.test(t)?sg[t]=!0:(ig[t]=!0,!1)}function u2(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f2(t,e,r,n){if(e===null||typeof e>"u"||u2(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fh=/[\-:]([a-z])/g;function dh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fh,dh);Gt[e]=new lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fh,dh);Gt[e]=new lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fh,dh);Gt[e]=new lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new lr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function hh(t,e,r,n){var i=Gt.hasOwnProperty(e)?Gt[e]:null,s=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(f2(e,r,i,n)&&(r=null),n||i===null?c2(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Os=Ou.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=60103,us=60106,bi=60107,ph=60108,Ma=60114,gh=60109,mh=60110,Bu=60112,Ra=60113,Uc=60120,Lu=60115,xh=60116,yh=60121,wh=60128,n1=60129,bh=60130,Ed=60131;if(typeof Symbol=="function"&&Symbol.for){var Dt=Symbol.for;Sa=Dt("react.element"),us=Dt("react.portal"),bi=Dt("react.fragment"),ph=Dt("react.strict_mode"),Ma=Dt("react.profiler"),gh=Dt("react.provider"),mh=Dt("react.context"),Bu=Dt("react.forward_ref"),Ra=Dt("react.suspense"),Uc=Dt("react.suspense_list"),Lu=Dt("react.memo"),xh=Dt("react.lazy"),yh=Dt("react.block"),Dt("react.scope"),wh=Dt("react.opaque.id"),n1=Dt("react.debug_trace_mode"),bh=Dt("react.offscreen"),Ed=Dt("react.legacy_hidden")}var og=typeof Symbol=="function"&&Symbol.iterator;function sa(t){return t===null||typeof t!="object"?null:(t=og&&t[og]||t["@@iterator"],typeof t=="function"?t:null)}var If;function _a(t){if(If===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);If=e&&e[1]||""}return`
`+If+t}var Mf=!1;function Kl(t,e){if(!t||Mf)return"";Mf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{Mf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?_a(t):""}function d2(t){switch(t.tag){case 5:return _a(t.type);case 16:return _a("Lazy");case 13:return _a("Suspense");case 19:return _a("SuspenseList");case 0:case 2:case 15:return t=Kl(t.type,!1),t;case 11:return t=Kl(t.type.render,!1),t;case 22:return t=Kl(t.type._render,!1),t;case 1:return t=Kl(t.type,!0),t;default:return""}}function ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bi:return"Fragment";case us:return"Portal";case Ma:return"Profiler";case ph:return"StrictMode";case Ra:return"Suspense";case Uc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mh:return(t.displayName||"Context")+".Consumer";case gh:return(t._context.displayName||"Context")+".Provider";case Bu:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Lu:return ho(t.type);case yh:return ho(t._render);case xh:e=t._payload,t=t._init;try{return ho(t(e))}catch{}}return null}function Li(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function i1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function h2(t){var e=i1(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jl(t){t._valueTracker||(t._valueTracker=h2(t))}function s1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=i1(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ad(t,e){var r=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function ag(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Li(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o1(t,e){e=e.checked,e!=null&&hh(t,"checked",e,!1)}function Sd(t,e){o1(t,e);var r=Li(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_d(t,e.type,r):e.hasOwnProperty("defaultValue")&&_d(t,e.type,Li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _d(t,e,r){(e!=="number"||Wc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function p2(t){var e="";return Ou.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Cd(t,e){return t=mt({children:void 0},e),(e=p2(e.children))&&(t.children=e),t}function po(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Li(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Li(r)}}function a1(t,e){var r=Li(e.value),n=Li(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ug(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Nd={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function l1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Td(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?l1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ql,c1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Nd.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ql=Ql||document.createElement("div"),Ql.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ql.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function rl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Oa={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g2=["Webkit","ms","Moz","O"];Object.keys(Oa).forEach(function(t){g2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Oa[e]=Oa[t]})});function u1(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Oa.hasOwnProperty(t)&&Oa[t]?(""+e).trim():e+"px"}function f1(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=u1(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var m2=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pd(t,e){if(e){if(m2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Id(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function vh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Md=null,go=null,mo=null;function fg(t){if(t=Nl(t)){if(typeof Md!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=zu(e),Md(t.stateNode,t.type,e))}}function d1(t){go?mo?mo.push(t):mo=[t]:go=t}function h1(){if(go){var t=go,e=mo;if(mo=go=null,fg(t),e)for(t=0;t<e.length;t++)fg(e[t])}}function Eh(t,e){return t(e)}function p1(t,e,r,n,i){return t(e,r,n,i)}function Ah(){}var g1=Eh,fs=!1,Rf=!1;function Sh(){(go!==null||mo!==null)&&(Ah(),h1())}function x2(t,e,r){if(Rf)return t(e,r);Rf=!0;try{return g1(t,e,r)}finally{Rf=!1,Sh()}}function nl(t,e){var r=t.stateNode;if(r===null)return null;var n=zu(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var Rd=!1;if(ri)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Rd=!1}function y2(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(p){this.onError(p)}}var Ba=!1,$c=null,zc=!1,Od=null,w2={onError:function(t){Ba=!0,$c=t}};function b2(t,e,r,n,i,s,o,a,l){Ba=!1,$c=null,y2.apply(w2,arguments)}function v2(t,e,r,n,i,s,o,a,l){if(b2.apply(this,arguments),Ba){if(Ba){var u=$c;Ba=!1,$c=null}else throw Error(Y(198));zc||(zc=!0,Od=u)}}function Bs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function m1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dg(t){if(Bs(t)!==t)throw Error(Y(188))}function E2(t){var e=t.alternate;if(!e){if(e=Bs(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dg(i),t;if(s===n)return dg(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function x1(t){if(t=E2(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function hg(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var y1,_h,w1,b1,Bd=!1,En=[],ki=null,Ni=null,Ti=null,il=new Map,sl=new Map,aa=[],pg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function gg(t,e){switch(t){case"focusin":case"focusout":ki=null;break;case"dragenter":case"dragleave":Ni=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":il.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(e.pointerId)}}function la(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t=Ld(e,r,n,i,s),e!==null&&(e=Nl(e),e!==null&&_h(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function A2(t,e,r,n,i){switch(e){case"focusin":return ki=la(ki,t,e,r,n,i),!0;case"dragenter":return Ni=la(Ni,t,e,r,n,i),!0;case"mouseover":return Ti=la(Ti,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return il.set(s,la(il.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,sl.set(s,la(sl.get(s)||null,t,e,r,n,i)),!0}return!1}function S2(t){var e=ds(t.target);if(e!==null){var r=Bs(e);if(r!==null){if(e=r.tag,e===13){if(e=m1(r),e!==null){t.blockedOn=e,b1(t.lanePriority,function(){Ut.unstable_runWithPriority(t.priority,function(){w1(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Nl(r),e!==null&&_h(e),t.blockedOn=r,!1;e.shift()}return!0}function mg(t,e,r){mc(t)&&r.delete(e)}function _2(){for(Bd=!1;0<En.length;){var t=En[0];if(t.blockedOn!==null){t=Nl(t.blockedOn),t!==null&&y1(t);break}for(var e=t.targetContainers;0<e.length;){var r=Th(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&En.shift()}ki!==null&&mc(ki)&&(ki=null),Ni!==null&&mc(Ni)&&(Ni=null),Ti!==null&&mc(Ti)&&(Ti=null),il.forEach(mg),sl.forEach(mg)}function ca(t,e){t.blockedOn===e&&(t.blockedOn=null,Bd||(Bd=!0,Ut.unstable_scheduleCallback(Ut.unstable_NormalPriority,_2)))}function v1(t){function e(i){return ca(i,t)}if(0<En.length){ca(En[0],t);for(var r=1;r<En.length;r++){var n=En[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ki!==null&&ca(ki,t),Ni!==null&&ca(Ni,t),Ti!==null&&ca(Ti,t),il.forEach(e),sl.forEach(e),r=0;r<aa.length;r++)n=aa[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<aa.length&&(r=aa[0],r.blockedOn===null);)S2(r),r.blockedOn===null&&aa.shift()}function Yl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var io={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},Of={},E1={};ri&&(E1=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Du(t){if(Of[t])return Of[t];if(!io[t])return t;var e=io[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in E1)return Of[t]=e[r];return t}var A1=Du("animationend"),S1=Du("animationiteration"),_1=Du("animationstart"),C1=Du("transitionend"),k1=new Map,Ch=new Map,C2=["abort","abort",A1,"animationEnd",S1,"animationIteration",_1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",C1,"transitionEnd","waiting","waiting"];function kh(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ch.set(n,e),k1.set(n,i),Rs(i,[n])}}var k2=Ut.unstable_now;k2();var Oe=8;function Xs(t){if(1&t)return Oe=15,1;if(2&t)return Oe=14,2;if(4&t)return Oe=13,4;var e=24&t;return e!==0?(Oe=12,e):t&32?(Oe=11,32):(e=192&t,e!==0?(Oe=10,e):t&256?(Oe=9,256):(e=3584&t,e!==0?(Oe=8,e):t&4096?(Oe=7,4096):(e=4186112&t,e!==0?(Oe=6,e):(e=62914560&t,e!==0?(Oe=5,e):t&67108864?(Oe=4,67108864):t&134217728?(Oe=3,134217728):(e=805306368&t,e!==0?(Oe=2,e):1073741824&t?(Oe=1,1073741824):(Oe=8,t))))))}function N2(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function T2(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Y(358,t))}}function ol(t,e){var r=t.pendingLanes;if(r===0)return Oe=0;var n=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)n=s,i=Oe=15;else if(s=r&134217727,s!==0){var l=s&~o;l!==0?(n=Xs(l),i=Oe):(a&=s,a!==0&&(n=Xs(a),i=Oe))}else s=r&~o,s!==0?(n=Xs(s),i=Oe):a!==0&&(n=Xs(a),i=Oe);if(n===0)return 0;if(n=31-Di(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&o)){if(Xs(e),i<=Oe)return e;Oe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Di(e),i=1<<r,n|=t[r],e&=~i;return n}function N1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function jc(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Zs(24&~e),t===0?jc(10,e):t;case 10:return t=Zs(192&~e),t===0?jc(8,e):t;case 8:return t=Zs(3584&~e),t===0&&(t=Zs(4186112&~e),t===0&&(t=512)),t;case 2:return e=Zs(805306368&~e),e===0&&(e=268435456),e}throw Error(Y(358,t))}function Zs(t){return t&-t}function Bf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Fu(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-Di(e),t[e]=r}var Di=Math.clz32?Math.clz32:M2,P2=Math.log,I2=Math.LN2;function M2(t){return t===0?32:31-(P2(t)/I2|0)|0}var R2=Ut.unstable_UserBlockingPriority,O2=Ut.unstable_runWithPriority,xc=!0;function B2(t,e,r,n){fs||Ah();var i=Nh,s=fs;fs=!0;try{p1(i,t,e,r,n)}finally{(fs=s)||Sh()}}function L2(t,e,r,n){O2(R2,Nh.bind(null,t,e,r,n))}function Nh(t,e,r,n){if(xc){var i;if((i=(e&4)===0)&&0<En.length&&-1<pg.indexOf(t))t=Ld(null,t,e,r,n),En.push(t);else{var s=Th(t,e,r,n);if(s===null)i&&gg(t,n);else{if(i){if(-1<pg.indexOf(t)){t=Ld(s,t,e,r,n),En.push(t);return}if(A2(s,t,e,r,n))return;gg(t,n)}$1(t,e,n,null,r)}}}}function Th(t,e,r,n){var i=vh(n);if(i=ds(i),i!==null){var s=Bs(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=m1(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return $1(t,e,n,i,r),null}var vi=null,Ph=null,yc=null;function T1(){if(yc)return yc;var t,e=Ph,r=e.length,n,i="value"in vi?vi.value:vi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return yc=i.slice(t,1<n?1-n:void 0)}function wc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xl(){return!0}function xg(){return!1}function kr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xl:xg,this.isPropagationStopped=xg,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xl)},persist:function(){},isPersistent:Xl}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ih=kr(Go),kl=mt({},Go,{view:0,detail:0}),D2=kr(kl),Lf,Df,ua,Uu=mt({},kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ua&&(ua&&t.type==="mousemove"?(Lf=t.screenX-ua.screenX,Df=t.screenY-ua.screenY):Df=Lf=0,ua=t),Lf)},movementY:function(t){return"movementY"in t?t.movementY:Df}}),yg=kr(Uu),F2=mt({},Uu,{dataTransfer:0}),U2=kr(F2),W2=mt({},kl,{relatedTarget:0}),Ff=kr(W2),$2=mt({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),z2=kr($2),j2=mt({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H2=kr(j2),G2=mt({},Go,{data:0}),wg=kr(G2),q2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=K2[t])?!!e[t]:!1}function Mh(){return J2}var Q2=mt({},kl,{key:function(t){if(t.key){var e=q2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mh,charCode:function(t){return t.type==="keypress"?wc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y2=kr(Q2),X2=mt({},Uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bg=kr(X2),Z2=mt({},kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mh}),e3=kr(Z2),t3=mt({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),r3=kr(t3),n3=mt({},Uu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i3=kr(n3),s3=[9,13,27,32],Rh=ri&&"CompositionEvent"in window,La=null;ri&&"documentMode"in document&&(La=document.documentMode);var o3=ri&&"TextEvent"in window&&!La,P1=ri&&(!Rh||La&&8<La&&11>=La),vg=String.fromCharCode(32),Eg=!1;function I1(t,e){switch(t){case"keyup":return s3.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function a3(t,e){switch(t){case"compositionend":return M1(e);case"keypress":return e.which!==32?null:(Eg=!0,vg);case"textInput":return t=e.data,t===vg&&Eg?null:t;default:return null}}function l3(t,e){if(so)return t==="compositionend"||!Rh&&I1(t,e)?(t=T1(),yc=Ph=vi=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P1&&e.locale!=="ko"?null:e.data;default:return null}}var c3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c3[t.type]:e==="textarea"}function R1(t,e,r,n){d1(n),e=Hc(e,"onChange"),0<e.length&&(r=new Ih("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Da=null,al=null;function u3(t){F1(t,0)}function Wu(t){var e=ao(t);if(s1(e))return t}function f3(t,e){if(t==="change")return e}var O1=!1;if(ri){var Uf;if(ri){var Wf="oninput"in document;if(!Wf){var Sg=document.createElement("div");Sg.setAttribute("oninput","return;"),Wf=typeof Sg.oninput=="function"}Uf=Wf}else Uf=!1;O1=Uf&&(!document.documentMode||9<document.documentMode)}function _g(){Da&&(Da.detachEvent("onpropertychange",B1),al=Da=null)}function B1(t){if(t.propertyName==="value"&&Wu(al)){var e=[];if(R1(e,al,t,vh(t)),t=u3,fs)t(e);else{fs=!0;try{Eh(t,e)}finally{fs=!1,Sh()}}}}function d3(t,e,r){t==="focusin"?(_g(),Da=e,al=r,Da.attachEvent("onpropertychange",B1)):t==="focusout"&&_g()}function h3(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(al)}function p3(t,e){if(t==="click")return Wu(e)}function g3(t,e){if(t==="input"||t==="change")return Wu(e)}function m3(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:m3,x3=Object.prototype.hasOwnProperty;function ll(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!x3.call(e,r[n])||!Fr(t[r[n]],e[r[n]]))return!1;return!0}function Cg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kg(t,e){var r=Cg(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cg(r)}}function L1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?L1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ng(){for(var t=window,e=Wc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Wc(t.document)}return e}function Dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var y3=ri&&"documentMode"in document&&11>=document.documentMode,oo=null,Fd=null,Fa=null,Ud=!1;function Tg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ud||oo==null||oo!==Wc(n)||(n=oo,"selectionStart"in n&&Dd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fa&&ll(Fa,n)||(Fa=n,n=Hc(Fd,"onSelect"),0<n.length&&(e=new Ih("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=oo)))}kh("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);kh("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);kh(C2,2);for(var Pg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),$f=0;$f<Pg.length;$f++)Ch.set(Pg[$f],0);No("onMouseEnter",["mouseout","mouseover"]);No("onMouseLeave",["mouseout","mouseover"]);No("onPointerEnter",["pointerout","pointerover"]);No("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ca));function Ig(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,v2(n,e,void 0,t),t.currentTarget=null}function F1(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ig(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ig(i,a,u),s=l}}}if(zc)throw t=Od,zc=!1,Od=null,t}function dt(t,e){var r=j1(e),n=t+"__bubble";r.has(n)||(W1(e,t,2,!1),r.add(n))}var Mg="_reactListening"+Math.random().toString(36).slice(2);function U1(t){t[Mg]||(t[Mg]=!0,r1.forEach(function(e){D1.has(e)||Rg(e,!1,t,null),Rg(e,!0,t,null)}))}function Rg(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=r;if(t==="selectionchange"&&r.nodeType!==9&&(s=r.ownerDocument),n!==null&&!e&&D1.has(t)){if(t!=="scroll")return;i|=2,s=n}var o=j1(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),W1(s,t,i,e),o.add(a))}function W1(t,e,r,n){var i=Ch.get(e);switch(i===void 0?2:i){case 0:i=B2;break;case 1:i=L2;break;default:i=Nh}r=i.bind(null,e,r,t),i=void 0,!Rd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function $1(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ds(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}x2(function(){var u=s,p=vh(r),x=[];e:{var w=k1.get(t);if(w!==void 0){var E=Ih,I=t;switch(t){case"keypress":if(wc(r)===0)break e;case"keydown":case"keyup":E=Y2;break;case"focusin":I="focus",E=Ff;break;case"focusout":I="blur",E=Ff;break;case"beforeblur":case"afterblur":E=Ff;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=U2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=e3;break;case A1:case S1:case _1:E=z2;break;case C1:E=r3;break;case"scroll":E=D2;break;case"wheel":E=i3;break;case"copy":case"cut":case"paste":E=H2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=bg}var P=(e&4)!==0,b=!P&&t==="scroll",A=P?w!==null?w+"Capture":null:w;P=[];for(var k=u,B;k!==null;){B=k;var O=B.stateNode;if(B.tag===5&&O!==null&&(B=O,A!==null&&(O=nl(k,A),O!=null&&P.push(cl(k,O,B)))),b)break;k=k.return}0<P.length&&(w=new E(w,I,null,r,p),x.push({event:w,listeners:P}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",w&&!(e&16)&&(I=r.relatedTarget||r.fromElement)&&(ds(I)||I[qo]))break e;if((E||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,E?(I=r.relatedTarget||r.toElement,E=u,I=I?ds(I):null,I!==null&&(b=Bs(I),I!==b||I.tag!==5&&I.tag!==6)&&(I=null)):(E=null,I=u),E!==I)){if(P=yg,O="onMouseLeave",A="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(P=bg,O="onPointerLeave",A="onPointerEnter",k="pointer"),b=E==null?w:ao(E),B=I==null?w:ao(I),w=new P(O,k+"leave",E,r,p),w.target=b,w.relatedTarget=B,O=null,ds(p)===u&&(P=new P(A,k+"enter",I,r,p),P.target=B,P.relatedTarget=b,O=P),b=O,E&&I)t:{for(P=E,A=I,k=0,B=P;B;B=zs(B))k++;for(B=0,O=A;O;O=zs(O))B++;for(;0<k-B;)P=zs(P),k--;for(;0<B-k;)A=zs(A),B--;for(;k--;){if(P===A||A!==null&&P===A.alternate)break t;P=zs(P),A=zs(A)}P=null}else P=null;E!==null&&Og(x,w,E,P,!1),I!==null&&b!==null&&Og(x,b,I,P,!0)}}e:{if(w=u?ao(u):window,E=w.nodeName&&w.nodeName.toLowerCase(),E==="select"||E==="input"&&w.type==="file")var D=f3;else if(Ag(w))if(O1)D=g3;else{D=h3;var F=d3}else(E=w.nodeName)&&E.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(D=p3);if(D&&(D=D(t,u))){R1(x,D,r,p);break e}F&&F(t,w,u),t==="focusout"&&(F=w._wrapperState)&&F.controlled&&w.type==="number"&&_d(w,"number",w.value)}switch(F=u?ao(u):window,t){case"focusin":(Ag(F)||F.contentEditable==="true")&&(oo=F,Fd=u,Fa=null);break;case"focusout":Fa=Fd=oo=null;break;case"mousedown":Ud=!0;break;case"contextmenu":case"mouseup":case"dragend":Ud=!1,Tg(x,r,p);break;case"selectionchange":if(y3)break;case"keydown":case"keyup":Tg(x,r,p)}var j;if(Rh)e:{switch(t){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else so?I1(t,r)&&(G="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(G="onCompositionStart");G&&(P1&&r.locale!=="ko"&&(so||G!=="onCompositionStart"?G==="onCompositionEnd"&&so&&(j=T1()):(vi=p,Ph="value"in vi?vi.value:vi.textContent,so=!0)),F=Hc(u,G),0<F.length&&(G=new wg(G,t,null,r,p),x.push({event:G,listeners:F}),j?G.data=j:(j=M1(r),j!==null&&(G.data=j)))),(j=o3?a3(t,r):l3(t,r))&&(u=Hc(u,"onBeforeInput"),0<u.length&&(p=new wg("onBeforeInput","beforeinput",null,r,p),x.push({event:p,listeners:u}),p.data=j))}F1(x,e)})}function cl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=nl(t,r),s!=null&&n.unshift(cl(t,s,i)),s=nl(t,e),s!=null&&n.push(cl(t,s,i))),t=t.return}return n}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Og(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=nl(r,s),l!=null&&o.unshift(cl(r,l,a))):i||(l=nl(r,s),l!=null&&o.push(cl(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function Gc(){}var zf=null,jf=null;function z1(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Wd(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bg=typeof setTimeout=="function"?setTimeout:void 0,w3=typeof clearTimeout=="function"?clearTimeout:void 0;function Oh(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Lg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Hf=0;function b3(t){return{$$typeof:wh,toString:t,valueOf:t}}var $u=Math.random().toString(36).slice(2),Ei="__reactFiber$"+$u,qc="__reactProps$"+$u,qo="__reactContainer$"+$u,Dg="__reactEvents$"+$u;function ds(t){var e=t[Ei];if(e)return e;for(var r=t.parentNode;r;){if(e=r[qo]||r[Ei]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Lg(t);t!==null;){if(r=t[Ei])return r;t=Lg(t)}return e}t=r,r=t.parentNode}return null}function Nl(t){return t=t[Ei]||t[qo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function zu(t){return t[qc]||null}function j1(t){var e=t[Dg];return e===void 0&&(e=t[Dg]=new Set),e}var $d=[],lo=-1;function zi(t){return{current:t}}function ht(t){0>lo||(t.current=$d[lo],$d[lo]=null,lo--)}function At(t,e){lo++,$d[lo]=t.current,t.current=e}var Fi={},tr=zi(Fi),xr=zi(!1),Ss=Fi;function To(t,e){var r=t.type.contextTypes;if(!r)return Fi;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yr(t){return t=t.childContextTypes,t!=null}function Vc(){ht(xr),ht(tr)}function Fg(t,e,r){if(tr.current!==Fi)throw Error(Y(168));At(tr,e),At(xr,r)}function H1(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Y(108,ho(e)||"Unknown",i));return mt({},r,n)}function bc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fi,Ss=tr.current,At(tr,t),At(xr,xr.current),!0}function Ug(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=H1(t,e,Ss),n.__reactInternalMemoizedMergedChildContext=t,ht(xr),ht(tr),At(tr,t)):ht(xr),At(xr,r)}var Bh=null,xs=null,v3=Ut.unstable_runWithPriority,Lh=Ut.unstable_scheduleCallback,zd=Ut.unstable_cancelCallback,E3=Ut.unstable_shouldYield,Wg=Ut.unstable_requestPaint,jd=Ut.unstable_now,A3=Ut.unstable_getCurrentPriorityLevel,ju=Ut.unstable_ImmediatePriority,G1=Ut.unstable_UserBlockingPriority,q1=Ut.unstable_NormalPriority,V1=Ut.unstable_LowPriority,K1=Ut.unstable_IdlePriority,Gf={},S3=Wg!==void 0?Wg:function(){},Kn=null,vc=null,qf=!1,$g=jd(),Yt=1e4>$g?jd:function(){return jd()-$g};function Po(){switch(A3()){case ju:return 99;case G1:return 98;case q1:return 97;case V1:return 96;case K1:return 95;default:throw Error(Y(332))}}function J1(t){switch(t){case 99:return ju;case 98:return G1;case 97:return q1;case 96:return V1;case 95:return K1;default:throw Error(Y(332))}}function _s(t,e){return t=J1(t),v3(t,e)}function ul(t,e,r){return t=J1(t),Lh(t,e,r)}function jn(){if(vc!==null){var t=vc;vc=null,zd(t)}Q1()}function Q1(){if(!qf&&Kn!==null){qf=!0;var t=0;try{var e=Kn;_s(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),Kn=null}catch(r){throw Kn!==null&&(Kn=Kn.slice(t+1)),Lh(ju,jn),r}finally{qf=!1}}}var _3=Os.ReactCurrentBatchConfig;function nn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Kc=zi(null),Jc=null,co=null,Qc=null;function Dh(){Qc=co=Jc=null}function Fh(t){var e=Kc.current;ht(Kc),t.type._context._currentValue=e}function Y1(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function yo(t,e){Jc=t,Qc=co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function jr(t,e){if(Qc!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Qc=t,e=1073741823),e={context:t,observedBits:e,next:null},co===null){if(Jc===null)throw Error(Y(308));co=e,Jc.dependencies={lanes:0,firstContext:e,responders:null}}else co=co.next=e;return t._currentValue}var wi=!1;function Uh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function X1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ii(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function zg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function fl(t,e,r,n){var i=t.updateQueue;wi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var p=t.alternate;if(p!==null){p=p.updateQueue;var x=p.lastBaseUpdate;x!==o&&(x===null?p.firstBaseUpdate=u:x.next=u,p.lastBaseUpdate=l)}}if(s!==null){x=i.baseState,o=0,p=u=l=null;do{a=s.lane;var w=s.eventTime;if((n&a)===a){p!==null&&(p=p.next={eventTime:w,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var E=t,I=s;switch(a=e,w=r,I.tag){case 1:if(E=I.payload,typeof E=="function"){x=E.call(w,x,a);break e}x=E;break e;case 3:E.flags=E.flags&-4097|64;case 0:if(E=I.payload,a=typeof E=="function"?E.call(w,x,a):E,a==null)break e;x=mt({},x,a);break e;case 2:wi=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else w={eventTime:w,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},p===null?(u=p=w,l=x):p=p.next=w,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);p===null&&(l=x),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=p,Pl|=o,t.lanes=o,t.memoizedState=x}}function jg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var Z1=new Ou.Component().refs;function Yc(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hu={isMounted:function(t){return(t=t._reactInternals)?Bs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=Mi(t),s=Pi(n,i);s.payload=e,r!=null&&(s.callback=r),Ii(t,s),Ri(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=Mi(t),s=Pi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),Ii(t,s),Ri(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cr(),n=Mi(t),i=Pi(r,n);i.tag=2,e!=null&&(i.callback=e),Ii(t,i),Ri(t,n,r)}};function Hg(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!ll(r,n)||!ll(i,s):!0}function ey(t,e,r){var n=!1,i=Fi,s=e.contextType;return typeof s=="object"&&s!==null?s=jr(s):(i=yr(e)?Ss:tr.current,n=e.contextTypes,s=(n=n!=null)?To(t,i):Fi),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Gg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function Hd(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=Z1,Uh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=jr(s):(s=yr(e)?Ss:tr.current,i.context=To(t,s)),fl(t,r,i,n),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yc(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hu.enqueueReplaceState(i,i.state,null),fl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Zl=Array.isArray;function fa(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=n.refs;o===Z1&&(o=n.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function ec(t,e){if(t.type!=="textarea")throw Error(Y(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function ty(t){function e(b,A){if(t){var k=b.lastEffect;k!==null?(k.nextEffect=A,b.lastEffect=A):b.firstEffect=b.lastEffect=A,A.nextEffect=null,A.flags=8}}function r(b,A){if(!t)return null;for(;A!==null;)e(b,A),A=A.sibling;return null}function n(b,A){for(b=new Map;A!==null;)A.key!==null?b.set(A.key,A):b.set(A.index,A),A=A.sibling;return b}function i(b,A){return b=Wi(b,A),b.index=0,b.sibling=null,b}function s(b,A,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<A?(b.flags=2,A):k):(b.flags=2,A)):A}function o(b){return t&&b.alternate===null&&(b.flags=2),b}function a(b,A,k,B){return A===null||A.tag!==6?(A=Yf(k,b.mode,B),A.return=b,A):(A=i(A,k),A.return=b,A)}function l(b,A,k,B){return A!==null&&A.elementType===k.type?(B=i(A,k.props),B.ref=fa(b,A,k),B.return=b,B):(B=_c(k.type,k.key,k.props,null,b.mode,B),B.ref=fa(b,A,k),B.return=b,B)}function u(b,A,k,B){return A===null||A.tag!==4||A.stateNode.containerInfo!==k.containerInfo||A.stateNode.implementation!==k.implementation?(A=Xf(k,b.mode,B),A.return=b,A):(A=i(A,k.children||[]),A.return=b,A)}function p(b,A,k,B,O){return A===null||A.tag!==7?(A=Eo(k,b.mode,B,O),A.return=b,A):(A=i(A,k),A.return=b,A)}function x(b,A,k){if(typeof A=="string"||typeof A=="number")return A=Yf(""+A,b.mode,k),A.return=b,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Sa:return k=_c(A.type,A.key,A.props,null,b.mode,k),k.ref=fa(b,null,A),k.return=b,k;case us:return A=Xf(A,b.mode,k),A.return=b,A}if(Zl(A)||sa(A))return A=Eo(A,b.mode,k,null),A.return=b,A;ec(b,A)}return null}function w(b,A,k,B){var O=A!==null?A.key:null;if(typeof k=="string"||typeof k=="number")return O!==null?null:a(b,A,""+k,B);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Sa:return k.key===O?k.type===bi?p(b,A,k.props.children,B,O):l(b,A,k,B):null;case us:return k.key===O?u(b,A,k,B):null}if(Zl(k)||sa(k))return O!==null?null:p(b,A,k,B,null);ec(b,k)}return null}function E(b,A,k,B,O){if(typeof B=="string"||typeof B=="number")return b=b.get(k)||null,a(A,b,""+B,O);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Sa:return b=b.get(B.key===null?k:B.key)||null,B.type===bi?p(A,b,B.props.children,O,B.key):l(A,b,B,O);case us:return b=b.get(B.key===null?k:B.key)||null,u(A,b,B,O)}if(Zl(B)||sa(B))return b=b.get(k)||null,p(A,b,B,O,null);ec(A,B)}return null}function I(b,A,k,B){for(var O=null,D=null,F=A,j=A=0,G=null;F!==null&&j<k.length;j++){F.index>j?(G=F,F=null):G=F.sibling;var z=w(b,F,k[j],B);if(z===null){F===null&&(F=G);break}t&&F&&z.alternate===null&&e(b,F),A=s(z,A,j),D===null?O=z:D.sibling=z,D=z,F=G}if(j===k.length)return r(b,F),O;if(F===null){for(;j<k.length;j++)F=x(b,k[j],B),F!==null&&(A=s(F,A,j),D===null?O=F:D.sibling=F,D=F);return O}for(F=n(b,F);j<k.length;j++)G=E(F,b,j,k[j],B),G!==null&&(t&&G.alternate!==null&&F.delete(G.key===null?j:G.key),A=s(G,A,j),D===null?O=G:D.sibling=G,D=G);return t&&F.forEach(function(X){return e(b,X)}),O}function P(b,A,k,B){var O=sa(k);if(typeof O!="function")throw Error(Y(150));if(k=O.call(k),k==null)throw Error(Y(151));for(var D=O=null,F=A,j=A=0,G=null,z=k.next();F!==null&&!z.done;j++,z=k.next()){F.index>j?(G=F,F=null):G=F.sibling;var X=w(b,F,z.value,B);if(X===null){F===null&&(F=G);break}t&&F&&X.alternate===null&&e(b,F),A=s(X,A,j),D===null?O=X:D.sibling=X,D=X,F=G}if(z.done)return r(b,F),O;if(F===null){for(;!z.done;j++,z=k.next())z=x(b,z.value,B),z!==null&&(A=s(z,A,j),D===null?O=z:D.sibling=z,D=z);return O}for(F=n(b,F);!z.done;j++,z=k.next())z=E(F,b,j,z.value,B),z!==null&&(t&&z.alternate!==null&&F.delete(z.key===null?j:z.key),A=s(z,A,j),D===null?O=z:D.sibling=z,D=z);return t&&F.forEach(function(ee){return e(b,ee)}),O}return function(b,A,k,B){var O=typeof k=="object"&&k!==null&&k.type===bi&&k.key===null;O&&(k=k.props.children);var D=typeof k=="object"&&k!==null;if(D)switch(k.$$typeof){case Sa:e:{for(D=k.key,O=A;O!==null;){if(O.key===D){switch(O.tag){case 7:if(k.type===bi){r(b,O.sibling),A=i(O,k.props.children),A.return=b,b=A;break e}break;default:if(O.elementType===k.type){r(b,O.sibling),A=i(O,k.props),A.ref=fa(b,O,k),A.return=b,b=A;break e}}r(b,O);break}else e(b,O);O=O.sibling}k.type===bi?(A=Eo(k.props.children,b.mode,B,k.key),A.return=b,b=A):(B=_c(k.type,k.key,k.props,null,b.mode,B),B.ref=fa(b,A,k),B.return=b,b=B)}return o(b);case us:e:{for(O=k.key;A!==null;){if(A.key===O)if(A.tag===4&&A.stateNode.containerInfo===k.containerInfo&&A.stateNode.implementation===k.implementation){r(b,A.sibling),A=i(A,k.children||[]),A.return=b,b=A;break e}else{r(b,A);break}else e(b,A);A=A.sibling}A=Xf(k,b.mode,B),A.return=b,b=A}return o(b)}if(typeof k=="string"||typeof k=="number")return k=""+k,A!==null&&A.tag===6?(r(b,A.sibling),A=i(A,k),A.return=b,b=A):(r(b,A),A=Yf(k,b.mode,B),A.return=b,b=A),o(b);if(Zl(k))return I(b,A,k,B);if(sa(k))return P(b,A,k,B);if(D&&ec(b,k),typeof k>"u"&&!O)switch(b.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Y(152,ho(b.type)||"Component"))}return r(b,A)}}var Xc=ty(!0),ry=ty(!1),Tl={},Pn=zi(Tl),dl=zi(Tl),hl=zi(Tl);function hs(t){if(t===Tl)throw Error(Y(174));return t}function Gd(t,e){switch(At(hl,e),At(dl,t),At(Pn,Tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Td(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Td(e,t)}ht(Pn),At(Pn,e)}function Io(){ht(Pn),ht(dl),ht(hl)}function qg(t){hs(hl.current);var e=hs(Pn.current),r=Td(e,t.type);e!==r&&(At(dl,t),At(Pn,r))}function Wh(t){dl.current===t&&(ht(Pn),ht(dl))}var vt=zi(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xn=null,Ai=null,In=!1;function ny(t,e){var r=Ur(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function Vg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function qd(t){if(In){var e=Ai;if(e){var r=e;if(!Vg(t,e)){if(e=xo(r.nextSibling),!e||!Vg(t,e)){t.flags=t.flags&-1025|2,In=!1,Xn=t;return}ny(Xn,r)}Xn=t,Ai=xo(e.firstChild)}else t.flags=t.flags&-1025|2,In=!1,Xn=t}}function Kg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xn=t}function tc(t){if(t!==Xn)return!1;if(!In)return Kg(t),In=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Wd(e,t.memoizedProps))for(e=Ai;e;)ny(t,e),e=xo(e.nextSibling);if(Kg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ai=xo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ai=null}}else Ai=Xn?xo(t.stateNode.nextSibling):null;return!0}function Vf(){Ai=Xn=null,In=!1}var wo=[];function $h(){for(var t=0;t<wo.length;t++)wo[t]._workInProgressVersionPrimary=null;wo.length=0}var Ua=Os.ReactCurrentDispatcher,$r=Os.ReactCurrentBatchConfig,pl=0,Nt=null,Kt=null,jt=null,eu=!1,Wa=!1;function cr(){throw Error(Y(321))}function zh(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Fr(t[r],e[r]))return!1;return!0}function jh(t,e,r,n,i,s){if(pl=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ua.current=t===null||t.memoizedState===null?k3:N3,t=r(n,i),Wa){s=0;do{if(Wa=!1,!(25>s))throw Error(Y(301));s+=1,jt=Kt=null,e.updateQueue=null,Ua.current=T3,t=r(n,i)}while(Wa)}if(Ua.current=iu,e=Kt!==null&&Kt.next!==null,pl=0,jt=Kt=Nt=null,eu=!1,e)throw Error(Y(300));return t}function ps(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?Nt.memoizedState=jt=t:jt=jt.next=t,jt}function Ls(){if(Kt===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var e=jt===null?Nt.memoizedState:jt.next;if(e!==null)jt=e,Kt=t;else{if(t===null)throw Error(Y(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},jt===null?Nt.memoizedState=jt=t:jt=jt.next=t}return jt}function An(t,e){return typeof e=="function"?e(t):e}function da(t){var e=Ls(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=Kt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=o=s=null,l=i;do{var u=l.lane;if((pl&u)===u)a!==null&&(a=a.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),n=l.eagerReducer===t?l.eagerState:t(n,l.action);else{var p={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};a===null?(o=a=p,s=n):a=a.next=p,Nt.lanes|=u,Pl|=u}l=l.next}while(l!==null&&l!==i);a===null?s=n:a.next=o,Fr(n,e.memoizedState)||(ln=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function ha(t){var e=Ls(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Fr(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Jg(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(pl&t)===t)&&(e._workInProgressVersionPrimary=n,wo.push(e))),t)return r(e._source);throw wo.push(e),Error(Y(350))}function iy(t,e,r,n){var i=ar;if(i===null)throw Error(Y(349));var s=e._getVersion,o=s(e._source),a=Ua.current,l=a.useState(function(){return Jg(i,e,r)}),u=l[1],p=l[0];l=jt;var x=t.memoizedState,w=x.refs,E=w.getSnapshot,I=x.source;x=x.subscribe;var P=Nt;return t.memoizedState={refs:w,source:e,subscribe:n},a.useEffect(function(){w.getSnapshot=r,w.setSnapshot=u;var b=s(e._source);if(!Fr(o,b)){b=r(e._source),Fr(p,b)||(u(b),b=Mi(P),i.mutableReadLanes|=b&i.pendingLanes),b=i.mutableReadLanes,i.entangledLanes|=b;for(var A=i.entanglements,k=b;0<k;){var B=31-Di(k),O=1<<B;A[B]|=b,k&=~O}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var b=w.getSnapshot,A=w.setSnapshot;try{A(b(e._source));var k=Mi(P);i.mutableReadLanes|=k&i.pendingLanes}catch(B){A(function(){throw B})}})},[e,n]),Fr(E,r)&&Fr(I,e)&&Fr(x,n)||(t={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:p},t.dispatch=u=qh.bind(null,Nt,t),l.queue=t,l.baseQueue=null,p=Jg(i,e,r),l.memoizedState=l.baseState=p),p}function sy(t,e,r){var n=Ls();return iy(n,t,e,r)}function pa(t){var e=ps();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:An,lastRenderedState:t},t=t.dispatch=qh.bind(null,Nt,t),[e.memoizedState,t]}function tu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Qg(t){var e=ps();return t={current:t},e.memoizedState=t}function ru(){return Ls().memoizedState}function Vd(t,e,r,n){var i=ps();Nt.flags|=t,i.memoizedState=tu(1|e,r,void 0,n===void 0?null:n)}function Hh(t,e,r,n){var i=Ls();n=n===void 0?null:n;var s=void 0;if(Kt!==null){var o=Kt.memoizedState;if(s=o.destroy,n!==null&&zh(n,o.deps)){tu(e,r,s,n);return}}Nt.flags|=t,i.memoizedState=tu(1|e,r,s,n)}function Yg(t,e){return Vd(516,4,t,e)}function nu(t,e){return Hh(516,4,t,e)}function oy(t,e){return Hh(4,2,t,e)}function ay(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ly(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4,2,ay.bind(null,e,t),r)}function Gh(){}function cy(t,e){var r=Ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zh(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function uy(t,e){var r=Ls();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zh(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function C3(t,e){var r=Po();_s(98>r?98:r,function(){t(!0)}),_s(97<r?97:r,function(){var n=$r.transition;$r.transition=1;try{t(!1),e()}finally{$r.transition=n}})}function qh(t,e,r){var n=Cr(),i=Mi(t),s={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Nt||o!==null&&o===Nt)Wa=eu=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,r);if(s.eagerReducer=o,s.eagerState=l,Fr(l,a))return}catch{}finally{}Ri(t,i,n)}}var iu={readContext:jr,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useOpaqueIdentifier:cr,unstable_isNewReconciler:!1},k3={readContext:jr,useCallback:function(t,e){return ps().memoizedState=[t,e===void 0?null:e],t},useContext:jr,useEffect:Yg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Vd(4,2,ay.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Vd(4,2,t,e)},useMemo:function(t,e){var r=ps();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ps();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=qh.bind(null,Nt,t),[n.memoizedState,t]},useRef:Qg,useState:pa,useDebugValue:Gh,useDeferredValue:function(t){var e=pa(t),r=e[0],n=e[1];return Yg(function(){var i=$r.transition;$r.transition=1;try{n(t)}finally{$r.transition=i}},[t]),r},useTransition:function(){var t=pa(!1),e=t[0];return t=C3.bind(null,t[1]),Qg(t),[t,e]},useMutableSource:function(t,e,r){var n=ps();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},iy(n,t,e,r)},useOpaqueIdentifier:function(){if(In){var t=!1,e=b3(function(){throw t||(t=!0,r("r:"+(Hf++).toString(36))),Error(Y(355))}),r=pa(e)[1];return!(Nt.mode&2)&&(Nt.flags|=516,tu(5,function(){r("r:"+(Hf++).toString(36))},void 0,null)),e}return e="r:"+(Hf++).toString(36),pa(e),e},unstable_isNewReconciler:!1},N3={readContext:jr,useCallback:cy,useContext:jr,useEffect:nu,useImperativeHandle:ly,useLayoutEffect:oy,useMemo:uy,useReducer:da,useRef:ru,useState:function(){return da(An)},useDebugValue:Gh,useDeferredValue:function(t){var e=da(An),r=e[0],n=e[1];return nu(function(){var i=$r.transition;$r.transition=1;try{n(t)}finally{$r.transition=i}},[t]),r},useTransition:function(){var t=da(An)[0];return[ru().current,t]},useMutableSource:sy,useOpaqueIdentifier:function(){return da(An)[0]},unstable_isNewReconciler:!1},T3={readContext:jr,useCallback:cy,useContext:jr,useEffect:nu,useImperativeHandle:ly,useLayoutEffect:oy,useMemo:uy,useReducer:ha,useRef:ru,useState:function(){return ha(An)},useDebugValue:Gh,useDeferredValue:function(t){var e=ha(An),r=e[0],n=e[1];return nu(function(){var i=$r.transition;$r.transition=1;try{n(t)}finally{$r.transition=i}},[t]),r},useTransition:function(){var t=ha(An)[0];return[ru().current,t]},useMutableSource:sy,useOpaqueIdentifier:function(){return ha(An)[0]},unstable_isNewReconciler:!1},P3=Os.ReactCurrentOwner,ln=!1;function dr(t,e,r,n){e.child=t===null?ry(e,null,r,n):Xc(e,t.child,r,n)}function Xg(t,e,r,n,i){r=r.render;var s=e.ref;return yo(e,i),n=jh(t,e,r,n,s,i),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zn(t,e,i)):(e.flags|=1,dr(t,e,n,i),e.child)}function Zg(t,e,r,n,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!Xh(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,fy(t,e,o,n,i,s)):(t=_c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:ll,r(i,n)&&t.ref===e.ref)?Zn(t,e,s):(e.flags|=1,t=Wi(o,n),t.ref=e.ref,t.return=e,e.child=t)}function fy(t,e,r,n,i,s){if(t!==null&&ll(t.memoizedProps,n)&&t.ref===e.ref)if(ln=!1,(s&i)!==0)t.flags&16384&&(ln=!0);else return e.lanes=t.lanes,Zn(t,e,s);return Kd(t,e,r,n,s)}function Kf(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},nc(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},nc(e,s!==null?s.baseLanes:r);else return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},nc(e,t),null;else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,nc(e,n);return dr(t,e,i,r),e.child}function dy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Kd(t,e,r,n,i){var s=yr(r)?Ss:tr.current;return s=To(e,s),yo(e,i),r=jh(t,e,r,n,s,i),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Zn(t,e,i)):(e.flags|=1,dr(t,e,r,i),e.child)}function em(t,e,r,n,i){if(yr(r)){var s=!0;bc(e)}else s=!1;if(yo(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),ey(e,r,n),Hd(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=jr(u):(u=yr(r)?Ss:tr.current,u=To(e,u));var p=r.getDerivedStateFromProps,x=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Gg(e,o,n,u),wi=!1;var w=e.memoizedState;o.state=w,fl(e,n,o,i),l=e.memoizedState,a!==n||w!==l||xr.current||wi?(typeof p=="function"&&(Yc(e,r,p,n),l=e.memoizedState),(a=wi||Hg(e,r,a,n,w,l,u))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,X1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nn(e.type,a),o.props=u,x=e.pendingProps,w=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=jr(l):(l=yr(r)?Ss:tr.current,l=To(e,l));var E=r.getDerivedStateFromProps;(p=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==x||w!==l)&&Gg(e,o,n,l),wi=!1,w=e.memoizedState,o.state=w,fl(e,n,o,i);var I=e.memoizedState;a!==x||w!==I||xr.current||wi?(typeof E=="function"&&(Yc(e,r,E,n),I=e.memoizedState),(u=wi||Hg(e,r,u,n,w,I,l))?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=I),o.props=n,o.state=I,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&w===t.memoizedState||(e.flags|=256),n=!1)}return Jd(t,e,r,n,s,i)}function Jd(t,e,r,n,i,s){dy(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&Ug(e,r,!1),Zn(t,e,s);n=e.stateNode,P3.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Xc(e,t.child,null,s),e.child=Xc(e,null,a,s)):dr(t,e,a,s),e.memoizedState=n.state,i&&Ug(e,r,!0),e.child}function tm(t){var e=t.stateNode;e.pendingContext?Fg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fg(t,e.context,!1),Gd(t,e.containerInfo)}var rc={dehydrated:null,retryLane:0};function rm(t,e,r){var n=e.pendingProps,i=vt.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),At(vt,i&1),t===null?(n.fallback!==void 0&&qd(e),t=n.children,i=n.fallback,s?(t=nm(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=rc,t):typeof n.unstable_expectedLoadTime=="number"?(t=nm(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=rc,e.lanes=33554432,t):(r=Zh({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?s?(n=sm(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=rc,n):(r=im(t,e,n.children,r),e.memoizedState=null,r):s?(n=sm(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=rc,n):(r=im(t,e,n.children,r),e.memoizedState=null,r)}function nm(t,e,r,n){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Zh(e,i,0,null),r=Eo(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r}function im(t,e,r,n){var i=t.child;return t=i.sibling,r=Wi(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function sm(t,e,r,n,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:r};return!(s&2)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=a,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Wi(o,a),t!==null?n=Wi(t,n):(n=Eo(n,s,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function om(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Y1(t.return,e)}function Jf(t,e,r,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=s)}function am(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dr(t,e,n.children,r),n=vt.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&om(t,r);else if(t.tag===19)om(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(At(vt,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Zc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Jf(e,!1,i,r,s,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Jf(e,!0,r,null,s,e.lastEffect);break;case"together":Jf(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Zn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pl|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=Wi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var hy,Qd,py,gy;hy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qd=function(){};py=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,hs(Pn.current);var s=null;switch(r){case"input":i=Ad(t,i),n=Ad(t,n),s=[];break;case"option":i=Cd(t,i),n=Cd(t,n),s=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":i=kd(t,i),n=kd(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gc)}Pd(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dt("scroll",t),s||a===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===wh?l.toString():(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};gy=function(t,e,r,n){r!==n&&(e.flags|=4)};function ga(t,e){if(!In)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function I3(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return yr(e.type)&&Vc(),null;case 3:return Io(),ht(xr),ht(tr),$h(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(tc(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Qd(e),null;case 5:Wh(e);var i=hs(hl.current);if(r=e.type,t!==null&&e.stateNode!=null)py(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return null}if(t=hs(Pn.current),tc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ei]=e,n[qc]=s,r){case"dialog":dt("cancel",n),dt("close",n);break;case"iframe":case"object":case"embed":dt("load",n);break;case"video":case"audio":for(t=0;t<Ca.length;t++)dt(Ca[t],n);break;case"source":dt("error",n);break;case"img":case"image":case"link":dt("error",n),dt("load",n);break;case"details":dt("toggle",n);break;case"input":ag(n,s),dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},dt("invalid",n);break;case"textarea":cg(n,s),dt("invalid",n)}Pd(r,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):tl.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&dt("scroll",n));switch(r){case"input":Jl(n),lg(n,s,!0);break;case"textarea":Jl(n),ug(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gc)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Nd.html&&(t=l1(r)),t===Nd.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ei]=e,t[qc]=n,hy(t,e,!1,!1),e.stateNode=t,o=Id(r,n),r){case"dialog":dt("cancel",t),dt("close",t),i=n;break;case"iframe":case"object":case"embed":dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ca.length;i++)dt(Ca[i],t);i=n;break;case"source":dt("error",t),i=n;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=n;break;case"details":dt("toggle",t),i=n;break;case"input":ag(t,n),i=Ad(t,n),dt("invalid",t);break;case"option":i=Cd(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),dt("invalid",t);break;case"textarea":cg(t,n),i=kd(t,n),dt("invalid",t);break;default:i=n}Pd(r,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?f1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&c1(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&rl(t,l):typeof l=="number"&&rl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(tl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&hh(t,s,l,o))}switch(r){case"input":Jl(t),lg(t,n,!1);break;case"textarea":Jl(t),ug(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Li(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?po(t,!!n.multiple,s,!1):n.defaultValue!=null&&po(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gc)}z1(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)gy(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));r=hs(hl.current),hs(Pn.current),tc(e)?(n=e.stateNode,r=e.memoizedProps,n[Ei]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ei]=e,e.stateNode=n)}return null;case 13:return ht(vt),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&tc(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||vt.current&1?Ht===0&&(Ht=3):((Ht===0||Ht===3)&&(Ht=4),ar===null||!(Pl&134217727)&&!(Ko&134217727)||bo(ar,Zt))),(n||r)&&(e.flags|=4),null);case 4:return Io(),Qd(e),t===null&&U1(e.stateNode.containerInfo),null;case 10:return Fh(e),null;case 17:return yr(e.type)&&Vc(),null;case 19:if(ht(vt),n=e.memoizedState,n===null)return null;if(s=(e.flags&64)!==0,o=n.rendering,o===null)if(s)ga(n,!1);else{if(Ht!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=Zc(t),o!==null){for(e.flags|=64,ga(n,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return At(vt,vt.current&1|2),e.child}t=t.sibling}n.tail!==null&&Yt()>r0&&(e.flags|=64,s=!0,ga(n,!1),e.lanes=33554432)}else{if(!s)if(t=Zc(o),t!==null){if(e.flags|=64,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ga(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!In)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Yt()-n.renderingStartTime>r0&&r!==1073741824&&(e.flags|=64,s=!0,ga(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=Yt(),r.sibling=null,e=vt.current,At(vt,s?e&1|2:e&1),r):null;case 23:case 24:return Yh(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Y(156,e.tag))}function M3(t){switch(t.tag){case 1:yr(t.type)&&Vc();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Io(),ht(xr),ht(tr),$h(),e=t.flags,e&64)throw Error(Y(285));return t.flags=e&-4097|64,t;case 5:return Wh(t),null;case 13:return ht(vt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ht(vt),null;case 4:return Io(),null;case 10:return Fh(t),null;case 23:case 24:return Yh(),null;default:return null}}function Vh(t,e){try{var r="",n=e;do r+=d2(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Yd(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var R3=typeof WeakMap=="function"?WeakMap:Map;function my(t,e,r){r=Pi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ou||(ou=!0,n0=n),Yd(t,e)},r}function xy(t,e,r){r=Pi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Yd(t,e),n(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Sn===null?Sn=new Set([this]):Sn.add(this),Yd(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var O3=typeof WeakSet=="function"?WeakSet:Set;function lm(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Oi(t,r)}else e.current=null}function B3(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:nn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Oh(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Y(163))}function L3(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(Cy(r,t),H3(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:nn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&jg(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}jg(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&z1(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&v1(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Y(163))}function cm(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=u1("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function um(t,e){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Bh,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)Cy(e,r);else{n=e;try{i()}catch(s){Oi(n,s)}}r=r.next}while(r!==t)}break;case 1:if(lm(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Oi(e,s)}break;case 5:lm(e);break;case 4:yy(t,e)}}function fm(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function dm(t){return t.tag===5||t.tag===3||t.tag===4}function hm(t){e:{for(var e=t.return;e!==null;){if(dm(e))break e;e=e.return}throw Error(Y(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Y(161))}r.flags&16&&(rl(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||dm(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Xd(t,r,e):Zd(t,r,e)}function Xd(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gc));else if(n!==4&&(t=t.child,t!==null))for(Xd(t,e,r),t=t.sibling;t!==null;)Xd(t,e,r),t=t.sibling}function Zd(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Zd(t,e,r),t=t.sibling;t!==null;)Zd(t,e,r),t=t.sibling}function yy(t,e){for(var r=e,n=!1,i,s;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Y(160));switch(i=n.stateNode,n.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,a=r,l=a;;)if(um(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,a=r.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(um(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function Qf(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(r[qc]=n,t==="input"&&n.type==="radio"&&n.name!=null&&o1(r,n),Id(t,i),e=Id(t,n),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?f1(r,a):o==="dangerouslySetInnerHTML"?c1(r,a):o==="children"?rl(r,a):hh(r,o,a,e)}switch(t){case"input":Sd(r,n);break;case"textarea":a1(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,s=n.value,s!=null?po(r,!!n.multiple,s,!1):t!==!!n.multiple&&(n.defaultValue!=null?po(r,!!n.multiple,n.defaultValue,!0):po(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Y(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,v1(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Qh=Yt(),cm(e.child,!0)),pm(e);return;case 19:pm(e);return;case 17:return;case 23:case 24:cm(e,e.memoizedState!==null);return}throw Error(Y(163))}function pm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new O3),e.forEach(function(n){var i=V3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function D3(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var F3=Math.ceil,su=Os.ReactCurrentDispatcher,Kh=Os.ReactCurrentOwner,fe=0,ar=null,Lt=null,Zt=0,Cs=0,e0=zi(0),Ht=0,Gu=null,Vo=0,Pl=0,Ko=0,Jh=0,t0=null,Qh=0,r0=1/0;function Jo(){r0=Yt()+500}var ne=null,ou=!1,n0=null,Sn=null,Ui=!1,$a=null,ka=90,i0=[],s0=[],ei=null,za=0,o0=null,Ec=-1,Qn=0,Ac=0,ja=null,Sc=!1;function Cr(){return fe&48?Yt():Ec!==-1?Ec:Ec=Yt()}function Mi(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Po()===99?1:2;if(Qn===0&&(Qn=Vo),_3.transition!==0){Ac!==0&&(Ac=t0!==null?t0.pendingLanes:0),t=Qn;var e=4186112&~Ac;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Po(),fe&4&&t===98?t=jc(12,Qn):(t=N2(t),t=jc(t,Qn)),t}function Ri(t,e,r){if(50<za)throw za=0,o0=null,Error(Y(185));if(t=qu(t,e),t===null)return null;Fu(t,e,r),t===ar&&(Ko|=e,Ht===4&&bo(t,Zt));var n=Po();e===1?fe&8&&!(fe&48)?a0(t):(Hr(t,r),fe===0&&(Jo(),jn())):(!(fe&4)||n!==98&&n!==99||(ei===null?ei=new Set([t]):ei.add(t)),Hr(t,r)),t0=t}function qu(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Hr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Di(o),l=1<<a,u=s[a];if(u===-1){if(!(l&n)||l&i){u=e,Xs(l);var p=Oe;s[a]=10<=p?u+250:6<=p?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);o&=~l}if(n=ol(t,t===ar?Zt:0),e=Oe,n===0)r!==null&&(r!==Gf&&zd(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Gf&&zd(r)}e===15?(r=a0.bind(null,t),Kn===null?(Kn=[r],vc=Lh(ju,Q1)):Kn.push(r),r=Gf):e===14?r=ul(99,a0.bind(null,t)):(r=T2(e),r=ul(r,wy.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function wy(t){if(Ec=-1,Ac=Qn=0,fe&48)throw Error(Y(327));var e=t.callbackNode;if(ji()&&t.callbackNode!==e)return null;var r=ol(t,t===ar?Zt:0);if(r===0)return null;var n=r,i=fe;fe|=16;var s=Ay();(ar!==t||Zt!==n)&&(Jo(),vo(t,n));do try{$3();break}catch(a){Ey(t,a)}while(1);if(Dh(),su.current=s,fe=i,Lt!==null?n=0:(ar=null,Zt=0,n=Ht),Vo&Ko)vo(t,0);else if(n!==0){if(n===2&&(fe|=64,t.hydrate&&(t.hydrate=!1,Oh(t.containerInfo)),r=N1(t),r!==0&&(n=Na(t,r))),n===1)throw e=Gu,vo(t,0),bo(t,r),Hr(t,Yt()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Y(345));case 2:as(t);break;case 3:if(bo(t,r),(r&62914560)===r&&(n=Qh+500-Yt(),10<n)){if(ol(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bg(as.bind(null,t),n);break}as(t);break;case 4:if(bo(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-Di(r);s=1<<o,o=n[o],o>i&&(i=o),r&=~s}if(r=i,r=Yt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*F3(r/1960))-r,10<r){t.timeoutHandle=Bg(as.bind(null,t),r);break}as(t);break;case 5:as(t);break;default:throw Error(Y(329))}}return Hr(t,Yt()),t.callbackNode===e?wy.bind(null,t):null}function bo(t,e){for(e&=~Jh,e&=~Ko,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Di(e),n=1<<r;t[r]=-1,e&=~n}}function a0(t){if(fe&48)throw Error(Y(327));if(ji(),t===ar&&t.expiredLanes&Zt){var e=Zt,r=Na(t,e);Vo&Ko&&(e=ol(t,e),r=Na(t,e))}else e=ol(t,0),r=Na(t,e);if(t.tag!==0&&r===2&&(fe|=64,t.hydrate&&(t.hydrate=!1,Oh(t.containerInfo)),e=N1(t),e!==0&&(r=Na(t,e))),r===1)throw r=Gu,vo(t,0),bo(t,e),Hr(t,Yt()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,as(t),Hr(t,Yt()),null}function U3(){if(ei!==null){var t=ei;ei=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Hr(e,Yt())})}jn()}function by(t,e){var r=fe;fe|=1;try{return t(e)}finally{fe=r,fe===0&&(Jo(),jn())}}function vy(t,e){var r=fe;fe&=-2,fe|=8;try{return t(e)}finally{fe=r,fe===0&&(Jo(),jn())}}function nc(t,e){At(e0,Cs),Cs|=e,Vo|=e}function Yh(){Cs=e0.current,ht(e0)}function vo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,w3(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vc();break;case 3:Io(),ht(xr),ht(tr),$h();break;case 5:Wh(n);break;case 4:Io();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:Fh(n);break;case 23:case 24:Yh()}r=r.return}ar=t,Lt=Wi(t.current,null),Zt=Cs=Vo=e,Ht=0,Gu=null,Jh=Ko=Pl=0}function Ey(t,e){do{var r=Lt;try{if(Dh(),Ua.current=iu,eu){for(var n=Nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}eu=!1}if(pl=0,jt=Kt=Nt=null,Wa=!1,Kh.current=null,r===null||r.return===null){Ht=1,Gu=e,Lt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Zt,a.flags|=2048,a.firstEffect=a.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if(!(a.mode&2)){var p=a.alternate;p?(a.updateQueue=p.updateQueue,a.memoizedState=p.memoizedState,a.lanes=p.lanes):(a.updateQueue=null,a.memoizedState=null)}var x=(vt.current&1)!==0,w=o;do{var E;if(E=w.tag===13){var I=w.memoizedState;if(I!==null)E=I.dehydrated!==null;else{var P=w.memoizedProps;E=P.fallback===void 0?!1:P.unstable_avoidThisFallback!==!0?!0:!x}}if(E){var b=w.updateQueue;if(b===null){var A=new Set;A.add(u),w.updateQueue=A}else b.add(u);if(!(w.mode&2)){if(w.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var k=Pi(-1,1);k.tag=2,Ii(a,k)}a.lanes|=1;break e}l=void 0,a=e;var B=s.pingCache;if(B===null?(B=s.pingCache=new R3,l=new Set,B.set(u,l)):(l=B.get(u),l===void 0&&(l=new Set,B.set(u,l))),!l.has(a)){l.add(a);var O=q3.bind(null,s,u,a);u.then(O,O)}w.flags|=4096,w.lanes=e;break e}w=w.return}while(w!==null);l=Error((ho(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Ht!==5&&(Ht=2),l=Vh(l,a),w=o;do{switch(w.tag){case 3:s=l,w.flags|=4096,e&=-e,w.lanes|=e;var D=my(w,s,e);zg(w,D);break e;case 1:s=l;var F=w.type,j=w.stateNode;if(!(w.flags&64)&&(typeof F.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Sn===null||!Sn.has(j)))){w.flags|=4096,e&=-e,w.lanes|=e;var G=xy(w,s,e);zg(w,G);break e}}w=w.return}while(w!==null)}_y(r)}catch(z){e=z,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function Ay(){var t=su.current;return su.current=iu,t===null?iu:t}function Na(t,e){var r=fe;fe|=16;var n=Ay();ar===t&&Zt===e||vo(t,e);do try{W3();break}catch(i){Ey(t,i)}while(1);if(Dh(),fe=r,su.current=n,Lt!==null)throw Error(Y(261));return ar=null,Zt=0,Ht}function W3(){for(;Lt!==null;)Sy(Lt)}function $3(){for(;Lt!==null&&!E3();)Sy(Lt)}function Sy(t){var e=ky(t.alternate,t,Cs);t.memoizedProps=t.pendingProps,e===null?_y(t):Lt=e,Kh.current=null}function _y(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=M3(e),r!==null){r.flags&=2047,Lt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=I3(r,e,Cs),r!==null){Lt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Cs&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Ht===0&&(Ht=5)}function as(t){var e=Po();return _s(99,z3.bind(null,t,e)),null}function z3(t,e){do ji();while($a!==null);if(fe&48)throw Error(Y(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var l=31-Di(s),u=1<<l;i[l]=0,o[l]=-1,a[l]=-1,s&=~u}if(ei!==null&&!(n&24)&&ei.has(t)&&ei.delete(t),t===ar&&(Lt=ar=null,Zt=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=fe,fe|=32,Kh.current=null,zf=xc,o=Ng(),Dd(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(u=a.getSelection&&a.getSelection())&&u.rangeCount!==0){a=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var p=0,x=-1,w=-1,E=0,I=0,P=o,b=null;t:for(;;){for(var A;P!==a||s!==0&&P.nodeType!==3||(x=p+s),P!==l||u!==0&&P.nodeType!==3||(w=p+u),P.nodeType===3&&(p+=P.nodeValue.length),(A=P.firstChild)!==null;)b=P,P=A;for(;;){if(P===o)break t;if(b===a&&++E===s&&(x=p),b===l&&++I===u&&(w=p),(A=P.nextSibling)!==null)break;P=b,b=P.parentNode}P=A}a=x===-1||w===-1?null:{start:x,end:w}}else a=null;a=a||{start:0,end:0}}else a=null;jf={focusedElem:o,selectionRange:a},xc=!1,ja=null,Sc=!1,ne=n;do try{j3()}catch(z){if(ne===null)throw Error(Y(330));Oi(ne,z),ne=ne.nextEffect}while(ne!==null);ja=null,ne=n;do try{for(o=t;ne!==null;){var k=ne.flags;if(k&16&&rl(ne.stateNode,""),k&128){var B=ne.alternate;if(B!==null){var O=B.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}switch(k&1038){case 2:hm(ne),ne.flags&=-3;break;case 6:hm(ne),ne.flags&=-3,Qf(ne.alternate,ne);break;case 1024:ne.flags&=-1025;break;case 1028:ne.flags&=-1025,Qf(ne.alternate,ne);break;case 4:Qf(ne.alternate,ne);break;case 8:a=ne,yy(o,a);var D=a.alternate;fm(a),D!==null&&fm(D)}ne=ne.nextEffect}}catch(z){if(ne===null)throw Error(Y(330));Oi(ne,z),ne=ne.nextEffect}while(ne!==null);if(O=jf,B=Ng(),k=O.focusedElem,o=O.selectionRange,B!==k&&k&&k.ownerDocument&&L1(k.ownerDocument.documentElement,k)){for(o!==null&&Dd(k)&&(B=o.start,O=o.end,O===void 0&&(O=B),"selectionStart"in k?(k.selectionStart=B,k.selectionEnd=Math.min(O,k.value.length)):(O=(B=k.ownerDocument||document)&&B.defaultView||window,O.getSelection&&(O=O.getSelection(),a=k.textContent.length,D=Math.min(o.start,a),o=o.end===void 0?D:Math.min(o.end,a),!O.extend&&D>o&&(a=o,o=D,D=a),a=kg(k,D),s=kg(k,o),a&&s&&(O.rangeCount!==1||O.anchorNode!==a.node||O.anchorOffset!==a.offset||O.focusNode!==s.node||O.focusOffset!==s.offset)&&(B=B.createRange(),B.setStart(a.node,a.offset),O.removeAllRanges(),D>o?(O.addRange(B),O.extend(s.node,s.offset)):(B.setEnd(s.node,s.offset),O.addRange(B)))))),B=[],O=k;O=O.parentNode;)O.nodeType===1&&B.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<B.length;k++)O=B[k],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}xc=!!zf,jf=zf=null,t.current=r,ne=n;do try{for(k=t;ne!==null;){var F=ne.flags;if(F&36&&L3(k,ne.alternate,ne),F&128){B=void 0;var j=ne.ref;if(j!==null){var G=ne.stateNode;switch(ne.tag){case 5:B=G;break;default:B=G}typeof j=="function"?j(B):j.current=B}}ne=ne.nextEffect}}catch(z){if(ne===null)throw Error(Y(330));Oi(ne,z),ne=ne.nextEffect}while(ne!==null);ne=null,S3(),fe=i}else t.current=r;if(Ui)Ui=!1,$a=t,ka=e;else for(ne=n;ne!==null;)e=ne.nextEffect,ne.nextEffect=null,ne.flags&8&&(F=ne,F.sibling=null,F.stateNode=null),ne=e;if(n=t.pendingLanes,n===0&&(Sn=null),n===1?t===o0?za++:(za=0,o0=t):za=0,r=r.stateNode,xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Bh,r,void 0,(r.current.flags&64)===64)}catch{}if(Hr(t,Yt()),ou)throw ou=!1,t=n0,n0=null,t;return fe&8||jn(),null}function j3(){for(;ne!==null;){var t=ne.alternate;Sc||ja===null||(ne.flags&8?hg(ne,ja)&&(Sc=!0):ne.tag===13&&D3(t,ne)&&hg(ne,ja)&&(Sc=!0));var e=ne.flags;e&256&&B3(t,ne),!(e&512)||Ui||(Ui=!0,ul(97,function(){return ji(),null})),ne=ne.nextEffect}}function ji(){if(ka!==90){var t=97<ka?97:ka;return ka=90,_s(t,G3)}return!1}function H3(t,e){i0.push(e,t),Ui||(Ui=!0,ul(97,function(){return ji(),null}))}function Cy(t,e){s0.push(e,t),Ui||(Ui=!0,ul(97,function(){return ji(),null}))}function G3(){if($a===null)return!1;var t=$a;if($a=null,fe&48)throw Error(Y(331));var e=fe;fe|=32;var r=s0;s0=[];for(var n=0;n<r.length;n+=2){var i=r[n],s=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(Y(330));Oi(s,l)}}for(r=i0,i0=[],n=0;n<r.length;n+=2){i=r[n],s=r[n+1];try{var a=i.create;i.destroy=a()}catch(l){if(s===null)throw Error(Y(330));Oi(s,l)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return fe=e,jn(),!0}function gm(t,e,r){e=Vh(r,e),e=my(t,e,1),Ii(t,e),e=Cr(),t=qu(t,1),t!==null&&(Fu(t,1,e),Hr(t,e))}function Oi(t,e){if(t.tag===3)gm(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){gm(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sn===null||!Sn.has(n))){t=Vh(e,t);var i=xy(r,t,1);if(Ii(r,i),i=Cr(),r=qu(r,1),r!==null)Fu(r,1,i),Hr(r,i);else if(typeof n.componentDidCatch=="function"&&(Sn===null||!Sn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function q3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(Zt&r)===r&&(Ht===4||Ht===3&&(Zt&62914560)===Zt&&500>Yt()-Qh?vo(t,0):Jh|=r),Hr(t,e)}function V3(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Qn===0&&(Qn=Vo),e=Zs(62914560&~Qn),e===0&&(e=4194304)):e=Po()===99?1:2:e=1),r=Cr(),t=qu(t,e),t!==null&&(Fu(t,e,r),Hr(t,r))}var ky;ky=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)ln=!0;else if(r&n)ln=!!(t.flags&16384);else{switch(ln=!1,e.tag){case 3:tm(e),Vf();break;case 5:qg(e);break;case 1:yr(e.type)&&bc(e);break;case 4:Gd(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;At(Kc,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?rm(t,e,r):(At(vt,vt.current&1),e=Zn(t,e,r),e!==null?e.sibling:null);At(vt,vt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return am(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),At(vt,vt.current),n)break;return null;case 23:case 24:return e.lanes=0,Kf(t,e,r)}return Zn(t,e,r)}else ln=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=To(e,tr.current),yo(e,r),i=jh(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,yr(n)){var s=!0;bc(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Uh(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Yc(e,n,o,t),i.updater=Hu,e.stateNode=i,i._reactInternals=e,Hd(e,n,t,r),e=Jd(null,e,n,!0,s,r)}else e.tag=0,dr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=J3(i),t=nn(i,t),s){case 0:e=Kd(null,e,i,t,r);break e;case 1:e=em(null,e,i,t,r);break e;case 11:e=Xg(null,e,i,t,r);break e;case 14:e=Zg(null,e,i,nn(i.type,t),n,r);break e}throw Error(Y(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Kd(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),em(t,e,n,i,r);case 3:if(tm(e),n=e.updateQueue,t===null||n===null)throw Error(Y(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,X1(t,e),fl(e,n,null,r),n=e.memoizedState.element,n===i)Vf(),e=Zn(t,e,r);else{if(i=e.stateNode,(s=i.hydrate)&&(Ai=xo(e.stateNode.containerInfo.firstChild),Xn=e,s=In=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],wo.push(s);for(r=ry(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else dr(t,e,n,r),Vf();e=e.child}return e;case 5:return qg(e),t===null&&qd(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Wd(n,i)?o=null:s!==null&&Wd(n,s)&&(e.flags|=16),dy(t,e),dr(t,e,o,r),e.child;case 6:return t===null&&qd(e),null;case 13:return rm(t,e,r);case 4:return Gd(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xc(e,null,n,r):dr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Xg(t,e,n,i,r);case 7:return dr(t,e,e.pendingProps,r),e.child;case 8:return dr(t,e,e.pendingProps.children,r),e.child;case 12:return dr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(At(Kc,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Fr(a,s)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!xr.current){e=Zn(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var u=l.firstContext;u!==null;){if(u.context===n&&u.observedBits&s){a.tag===1&&(u=Pi(-1,r&-r),u.tag=2,Ii(a,u)),a.lanes|=r,u=a.alternate,u!==null&&(u.lanes|=r),Y1(a.return,r),l.lanes|=r;break}u=u.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}dr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,n=s.children,yo(e,r),i=jr(i,s.unstable_observedBits),n=n(i),e.flags|=1,dr(t,e,n,r),e.child;case 14:return i=e.type,s=nn(i,e.pendingProps),s=nn(i.type,s),Zg(t,e,i,s,n,r);case 15:return fy(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,yr(n)?(t=!0,bc(e)):t=!1,yo(e,r),ey(e,n,i),Hd(e,n,i,r),Jd(null,e,n,!0,t,r);case 19:return am(t,e,r);case 23:return Kf(t,e,r);case 24:return Kf(t,e,r)}throw Error(Y(156,e.tag))};function K3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,r,n){return new K3(t,e,r,n)}function Xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function J3(t){if(typeof t=="function")return Xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bu)return 11;if(t===Lu)return 14}return 2}function Wi(t,e){var r=t.alternate;return r===null?(r=Ur(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function _c(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Xh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case bi:return Eo(r.children,i,s,e);case n1:o=8,i|=16;break;case ph:o=8,i|=1;break;case Ma:return t=Ur(12,r,e,i|8),t.elementType=Ma,t.type=Ma,t.lanes=s,t;case Ra:return t=Ur(13,r,e,i),t.type=Ra,t.elementType=Ra,t.lanes=s,t;case Uc:return t=Ur(19,r,e,i),t.elementType=Uc,t.lanes=s,t;case bh:return Zh(r,i,s,e);case Ed:return t=Ur(24,r,e,i),t.elementType=Ed,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gh:o=10;break e;case mh:o=9;break e;case Bu:o=11;break e;case Lu:o=14;break e;case xh:o=16,n=null;break e;case yh:o=22;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Ur(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Eo(t,e,r,n){return t=Ur(7,t,n,e),t.lanes=r,t}function Zh(t,e,r,n){return t=Ur(23,t,n,e),t.elementType=bh,t.lanes=r,t}function Yf(t,e,r){return t=Ur(6,t,null,e),t.lanes=r,t}function Xf(t,e,r){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Q3(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.mutableSourceEagerHydrationData=null}function Y3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function au(t,e,r,n){var i=e.current,s=Cr(),o=Mi(i);e:if(r){r=r._reactInternals;t:{if(Bs(r)!==r||r.tag!==1)throw Error(Y(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(yr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Y(171))}if(r.tag===1){var l=r.type;if(yr(l)){r=H1(r,l,a);break e}}r=a}else r=Fi;return e.context===null?e.context=r:e.pendingContext=r,e=Pi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Ii(i,e),Ri(i,o,s),o}function Zf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ep(t,e){mm(t,e),(t=t.alternate)&&mm(t,e)}function X3(){return null}function tp(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new Q3(t,e,r!=null&&r.hydrate===!0),e=Ur(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,Uh(e),t[qo]=r.current,U1(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}tp.prototype.render=function(t){au(t,this._internalRoot,null,null)};tp.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;au(null,t,null,function(){e[qo]=null})};function Il(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Z3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new tp(t,0,e?{hydrate:!0}:void 0)}function Vu(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var u=Zf(o);a.call(u)}}au(e,o,t,i)}else{if(s=r._reactRootContainer=Z3(r,n),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var u=Zf(o);l.call(u)}}vy(function(){au(e,o,t,i)})}return Zf(o)}y1=function(t){if(t.tag===13){var e=Cr();Ri(t,4,e),ep(t,4)}};_h=function(t){if(t.tag===13){var e=Cr();Ri(t,67108864,e),ep(t,67108864)}};w1=function(t){if(t.tag===13){var e=Cr(),r=Mi(t);Ri(t,r,e),ep(t,r)}};b1=function(t,e){return e()};Md=function(t,e,r){switch(e){case"input":if(Sd(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=zu(n);if(!i)throw Error(Y(90));s1(n),Sd(n,i)}}}break;case"textarea":a1(t,r);break;case"select":e=r.value,e!=null&&po(t,!!r.multiple,e,!1)}};Eh=by;p1=function(t,e,r,n,i){var s=fe;fe|=4;try{return _s(98,t.bind(null,e,r,n,i))}finally{fe=s,fe===0&&(Jo(),jn())}};Ah=function(){!(fe&49)&&(U3(),ji())};g1=function(t,e){var r=fe;fe|=2;try{return t(e)}finally{fe=r,fe===0&&(Jo(),jn())}};function Ny(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Il(e))throw Error(Y(200));return Y3(t,e,null,r)}var e6={Events:[Nl,ao,zu,d1,h1,ji,{current:!1}]},ma={findFiberByHostInstance:ds,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},t6={bundleType:ma.bundleType,version:ma.version,rendererPackageName:ma.rendererPackageName,rendererConfig:ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x1(t),t===null?null:t.stateNode},findFiberByHostInstance:ma.findFiberByHostInstance||X3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{Bh=ic.inject(t6),xs=ic}catch{}}Vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e6;Vr.createPortal=Ny;Vr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):Error(Y(268,Object.keys(t)));return t=x1(e),t=t===null?null:t.stateNode,t};Vr.flushSync=function(t,e){var r=fe;if(r&48)return t(e);fe|=1;try{if(t)return _s(99,t.bind(null,e))}finally{fe=r,jn()}};Vr.hydrate=function(t,e,r){if(!Il(e))throw Error(Y(200));return Vu(null,t,e,!0,r)};Vr.render=function(t,e,r){if(!Il(e))throw Error(Y(200));return Vu(null,t,e,!1,r)};Vr.unmountComponentAtNode=function(t){if(!Il(t))throw Error(Y(40));return t._reactRootContainer?(vy(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[qo]=null})}),!0):!1};Vr.unstable_batchedUpdates=by;Vr.unstable_createPortal=function(t,e){return Ny(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Vr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Il(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Vu(t,e,r,!1,n)};Vr.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=Vr})(o2);const r6=Fx(bd);var l0={},n6={get exports(){return l0},set exports(t){l0=t}};const i6={},s6=Object.freeze(Object.defineProperty({__proto__:null,default:i6},Symbol.toStringTag,{value:"Module"})),o6=Hv(s6);(function(t){(function(e,r){function n(M,d){if(!M)throw new Error(d||"Assertion failed")}function i(M,d){M.super_=d;var y=function(){};y.prototype=d.prototype,M.prototype=new y,M.prototype.constructor=M}function s(M,d,y){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((d==="le"||d==="be")&&(y=d,d=10),this._init(M||0,d||10,y||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=o6.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,y){return d.cmp(y)>0?d:y},s.min=function(d,y){return d.cmp(y)<0?d:y},s.prototype._init=function(d,y,_){if(typeof d=="number")return this._initNumber(d,y,_);if(typeof d=="object")return this._initArray(d,y,_);y==="hex"&&(y=16),n(y===(y|0)&&y>=2&&y<=36),d=d.toString().replace(/\s+/g,"");var T=0;d[0]==="-"&&(T++,this.negative=1),T<d.length&&(y===16?this._parseHex(d,T,_):(this._parseBase(d,y,T),_==="le"&&this._initArray(this.toArray(),y,_)))},s.prototype._initNumber=function(d,y,_){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),y,_)},s.prototype._initArray=function(d,y,_){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var g,v,C=0;if(_==="be")for(T=d.length-1,g=0;T>=0;T-=3)v=d[T]|d[T-1]<<8|d[T-2]<<16,this.words[g]|=v<<C&67108863,this.words[g+1]=v>>>26-C&67108863,C+=24,C>=26&&(C-=26,g++);else if(_==="le")for(T=0,g=0;T<d.length;T+=3)v=d[T]|d[T+1]<<8|d[T+2]<<16,this.words[g]|=v<<C&67108863,this.words[g+1]=v>>>26-C&67108863,C+=24,C>=26&&(C-=26,g++);return this._strip()};function a(M,d){var y=M.charCodeAt(d);if(y>=48&&y<=57)return y-48;if(y>=65&&y<=70)return y-55;if(y>=97&&y<=102)return y-87;n(!1,"Invalid character in "+M)}function l(M,d,y){var _=a(M,y);return y-1>=d&&(_|=a(M,y-1)<<4),_}s.prototype._parseHex=function(d,y,_){this.length=Math.ceil((d.length-y)/6),this.words=new Array(this.length);for(var T=0;T<this.length;T++)this.words[T]=0;var g=0,v=0,C;if(_==="be")for(T=d.length-1;T>=y;T-=2)C=l(d,y,T)<<g,this.words[v]|=C&67108863,g>=18?(g-=18,v+=1,this.words[v]|=C>>>26):g+=8;else{var h=d.length-y;for(T=h%2===0?y+1:y;T<d.length;T+=2)C=l(d,y,T)<<g,this.words[v]|=C&67108863,g>=18?(g-=18,v+=1,this.words[v]|=C>>>26):g+=8}this._strip()};function u(M,d,y,_){for(var T=0,g=0,v=Math.min(M.length,y),C=d;C<v;C++){var h=M.charCodeAt(C)-48;T*=_,h>=49?g=h-49+10:h>=17?g=h-17+10:g=h,n(h>=0&&g<_,"Invalid character"),T+=g}return T}s.prototype._parseBase=function(d,y,_){this.words=[0],this.length=1;for(var T=0,g=1;g<=67108863;g*=y)T++;T--,g=g/y|0;for(var v=d.length-_,C=v%T,h=Math.min(v,v-C)+_,c=0,m=_;m<h;m+=T)c=u(d,m,m+T,y),this.imuln(g),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(C!==0){var S=1;for(c=u(d,m,d.length,y),m=0;m<C;m++)S*=y;this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var y=0;y<this.length;y++)d.words[y]=this.words[y];d.length=this.length,d.negative=this.negative,d.red=this.red};function p(M,d){M.words=d.words,M.length=d.length,M.negative=d.negative,M.red=d.red}if(s.prototype._move=function(d){p(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{s.prototype.inspect=x}else s.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,y){d=d||10,y=y|0||1;var _;if(d===16||d==="hex"){_="";for(var T=0,g=0,v=0;v<this.length;v++){var C=this.words[v],h=((C<<T|g)&16777215).toString(16);g=C>>>24-T&16777215,T+=2,T>=26&&(T-=26,v--),g!==0||v!==this.length-1?_=w[6-h.length]+h+_:_=h+_}for(g!==0&&(_=g.toString(16)+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(d===(d|0)&&d>=2&&d<=36){var c=E[d],m=I[d];_="";var S=this.clone();for(S.negative=0;!S.isZero();){var f=S.modrn(m).toString(d);S=S.idivn(m),S.isZero()?_=f+_:_=w[c-f.length]+f+_}for(this.isZero()&&(_="0"+_);_.length%y!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,y){return this.toArrayLike(o,d,y)}),s.prototype.toArray=function(d,y){return this.toArrayLike(Array,d,y)};var P=function(d,y){return d.allocUnsafe?d.allocUnsafe(y):new d(y)};s.prototype.toArrayLike=function(d,y,_){this._strip();var T=this.byteLength(),g=_||Math.max(1,T);n(T<=g,"byte array longer than desired length"),n(g>0,"Requested array length <= 0");var v=P(d,g),C=y==="le"?"LE":"BE";return this["_toArrayLike"+C](v,T),v},s.prototype._toArrayLikeLE=function(d,y){for(var _=0,T=0,g=0,v=0;g<this.length;g++){var C=this.words[g]<<v|T;d[_++]=C&255,_<d.length&&(d[_++]=C>>8&255),_<d.length&&(d[_++]=C>>16&255),v===6?(_<d.length&&(d[_++]=C>>24&255),T=0,v=0):(T=C>>>24,v+=2)}if(_<d.length)for(d[_++]=T;_<d.length;)d[_++]=0},s.prototype._toArrayLikeBE=function(d,y){for(var _=d.length-1,T=0,g=0,v=0;g<this.length;g++){var C=this.words[g]<<v|T;d[_--]=C&255,_>=0&&(d[_--]=C>>8&255),_>=0&&(d[_--]=C>>16&255),v===6?(_>=0&&(d[_--]=C>>24&255),T=0,v=0):(T=C>>>24,v+=2)}if(_>=0)for(d[_--]=T;_>=0;)d[_--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var y=d,_=0;return y>=4096&&(_+=13,y>>>=13),y>=64&&(_+=7,y>>>=7),y>=8&&(_+=4,y>>>=4),y>=2&&(_+=2,y>>>=2),_+y},s.prototype._zeroBits=function(d){if(d===0)return 26;var y=d,_=0;return y&8191||(_+=13,y>>>=13),y&127||(_+=7,y>>>=7),y&15||(_+=4,y>>>=4),y&3||(_+=2,y>>>=2),y&1||_++,_},s.prototype.bitLength=function(){var d=this.words[this.length-1],y=this._countBits(d);return(this.length-1)*26+y};function b(M){for(var d=new Array(M.bitLength()),y=0;y<d.length;y++){var _=y/26|0,T=y%26;d[y]=M.words[_]>>>T&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,y=0;y<this.length;y++){var _=this._zeroBits(this.words[y]);if(d+=_,_!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]|d.words[y];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var y;this.length>d.length?y=d:y=this;for(var _=0;_<y.length;_++)this.words[_]=this.words[_]&d.words[_];return this.length=y.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var y,_;this.length>d.length?(y=this,_=d):(y=d,_=this);for(var T=0;T<_.length;T++)this.words[T]=y.words[T]^_.words[T];if(this!==y)for(;T<y.length;T++)this.words[T]=y.words[T];return this.length=y.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var y=Math.ceil(d/26)|0,_=d%26;this._expand(y),_>0&&y--;for(var T=0;T<y;T++)this.words[T]=~this.words[T]&67108863;return _>0&&(this.words[T]=~this.words[T]&67108863>>26-_),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,y){n(typeof d=="number"&&d>=0);var _=d/26|0,T=d%26;return this._expand(_+1),y?this.words[_]=this.words[_]|1<<T:this.words[_]=this.words[_]&~(1<<T),this._strip()},s.prototype.iadd=function(d){var y;if(this.negative!==0&&d.negative===0)return this.negative=0,y=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,y=this.isub(d),d.negative=1,y._normSign();var _,T;this.length>d.length?(_=this,T=d):(_=d,T=this);for(var g=0,v=0;v<T.length;v++)y=(_.words[v]|0)+(T.words[v]|0)+g,this.words[v]=y&67108863,g=y>>>26;for(;g!==0&&v<_.length;v++)y=(_.words[v]|0)+g,this.words[v]=y&67108863,g=y>>>26;if(this.length=_.length,g!==0)this.words[this.length]=g,this.length++;else if(_!==this)for(;v<_.length;v++)this.words[v]=_.words[v];return this},s.prototype.add=function(d){var y;return d.negative!==0&&this.negative===0?(d.negative=0,y=this.sub(d),d.negative^=1,y):d.negative===0&&this.negative!==0?(this.negative=0,y=d.sub(this),this.negative=1,y):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var y=this.iadd(d);return d.negative=1,y._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var _=this.cmp(d);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var T,g;_>0?(T=this,g=d):(T=d,g=this);for(var v=0,C=0;C<g.length;C++)y=(T.words[C]|0)-(g.words[C]|0)+v,v=y>>26,this.words[C]=y&67108863;for(;v!==0&&C<T.length;C++)y=(T.words[C]|0)+v,v=y>>26,this.words[C]=y&67108863;if(v===0&&C<T.length&&T!==this)for(;C<T.length;C++)this.words[C]=T.words[C];return this.length=Math.max(this.length,C),T!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function A(M,d,y){y.negative=d.negative^M.negative;var _=M.length+d.length|0;y.length=_,_=_-1|0;var T=M.words[0]|0,g=d.words[0]|0,v=T*g,C=v&67108863,h=v/67108864|0;y.words[0]=C;for(var c=1;c<_;c++){for(var m=h>>>26,S=h&67108863,f=Math.min(c,d.length-1),N=Math.max(0,c-M.length+1);N<=f;N++){var R=c-N|0;T=M.words[R]|0,g=d.words[N]|0,v=T*g+S,m+=v/67108864|0,S=v&67108863}y.words[c]=S|0,h=m|0}return h!==0?y.words[c]=h|0:y.length--,y._strip()}var k=function(d,y,_){var T=d.words,g=y.words,v=_.words,C=0,h,c,m,S=T[0]|0,f=S&8191,N=S>>>13,R=T[1]|0,L=R&8191,W=R>>>13,K=T[2]|0,q=K&8191,J=K>>>13,me=T[3]|0,Z=me&8191,ue=me>>>13,br=T[4]|0,ke=br&8191,Ee=br>>>13,wt=T[5]|0,Le=wt&8191,De=wt>>>13,Vi=T[6]|0,Fe=Vi&8191,Ue=Vi>>>13,Ki=T[7]|0,We=Ki&8191,$e=Ki>>>13,Ji=T[8]|0,ze=Ji&8191,je=Ji>>>13,Qi=T[9]|0,He=Qi&8191,Ge=Qi>>>13,Yi=g[0]|0,qe=Yi&8191,Ve=Yi>>>13,Xi=g[1]|0,Ke=Xi&8191,Je=Xi>>>13,Zi=g[2]|0,Qe=Zi&8191,Ye=Zi>>>13,es=g[3]|0,Xe=es&8191,Ze=es>>>13,ts=g[4]|0,et=ts&8191,tt=ts>>>13,rs=g[5]|0,rt=rs&8191,nt=rs>>>13,ns=g[6]|0,it=ns&8191,st=ns>>>13,is=g[7]|0,ot=is&8191,at=is>>>13,ss=g[8]|0,lt=ss&8191,ct=ss>>>13,os=g[9]|0,ut=os&8191,ft=os>>>13;_.negative=d.negative^y.negative,_.length=19,h=Math.imul(f,qe),c=Math.imul(f,Ve),c=c+Math.imul(N,qe)|0,m=Math.imul(N,Ve);var di=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(di>>>26)|0,di&=67108863,h=Math.imul(L,qe),c=Math.imul(L,Ve),c=c+Math.imul(W,qe)|0,m=Math.imul(W,Ve),h=h+Math.imul(f,Ke)|0,c=c+Math.imul(f,Je)|0,c=c+Math.imul(N,Ke)|0,m=m+Math.imul(N,Je)|0;var hi=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(hi>>>26)|0,hi&=67108863,h=Math.imul(q,qe),c=Math.imul(q,Ve),c=c+Math.imul(J,qe)|0,m=Math.imul(J,Ve),h=h+Math.imul(L,Ke)|0,c=c+Math.imul(L,Je)|0,c=c+Math.imul(W,Ke)|0,m=m+Math.imul(W,Je)|0,h=h+Math.imul(f,Qe)|0,c=c+Math.imul(f,Ye)|0,c=c+Math.imul(N,Qe)|0,m=m+Math.imul(N,Ye)|0;var pi=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(pi>>>26)|0,pi&=67108863,h=Math.imul(Z,qe),c=Math.imul(Z,Ve),c=c+Math.imul(ue,qe)|0,m=Math.imul(ue,Ve),h=h+Math.imul(q,Ke)|0,c=c+Math.imul(q,Je)|0,c=c+Math.imul(J,Ke)|0,m=m+Math.imul(J,Je)|0,h=h+Math.imul(L,Qe)|0,c=c+Math.imul(L,Ye)|0,c=c+Math.imul(W,Qe)|0,m=m+Math.imul(W,Ye)|0,h=h+Math.imul(f,Xe)|0,c=c+Math.imul(f,Ze)|0,c=c+Math.imul(N,Xe)|0,m=m+Math.imul(N,Ze)|0;var gi=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,h=Math.imul(ke,qe),c=Math.imul(ke,Ve),c=c+Math.imul(Ee,qe)|0,m=Math.imul(Ee,Ve),h=h+Math.imul(Z,Ke)|0,c=c+Math.imul(Z,Je)|0,c=c+Math.imul(ue,Ke)|0,m=m+Math.imul(ue,Je)|0,h=h+Math.imul(q,Qe)|0,c=c+Math.imul(q,Ye)|0,c=c+Math.imul(J,Qe)|0,m=m+Math.imul(J,Ye)|0,h=h+Math.imul(L,Xe)|0,c=c+Math.imul(L,Ze)|0,c=c+Math.imul(W,Xe)|0,m=m+Math.imul(W,Ze)|0,h=h+Math.imul(f,et)|0,c=c+Math.imul(f,tt)|0,c=c+Math.imul(N,et)|0,m=m+Math.imul(N,tt)|0;var mi=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,h=Math.imul(Le,qe),c=Math.imul(Le,Ve),c=c+Math.imul(De,qe)|0,m=Math.imul(De,Ve),h=h+Math.imul(ke,Ke)|0,c=c+Math.imul(ke,Je)|0,c=c+Math.imul(Ee,Ke)|0,m=m+Math.imul(Ee,Je)|0,h=h+Math.imul(Z,Qe)|0,c=c+Math.imul(Z,Ye)|0,c=c+Math.imul(ue,Qe)|0,m=m+Math.imul(ue,Ye)|0,h=h+Math.imul(q,Xe)|0,c=c+Math.imul(q,Ze)|0,c=c+Math.imul(J,Xe)|0,m=m+Math.imul(J,Ze)|0,h=h+Math.imul(L,et)|0,c=c+Math.imul(L,tt)|0,c=c+Math.imul(W,et)|0,m=m+Math.imul(W,tt)|0,h=h+Math.imul(f,rt)|0,c=c+Math.imul(f,nt)|0,c=c+Math.imul(N,rt)|0,m=m+Math.imul(N,nt)|0;var mf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(mf>>>26)|0,mf&=67108863,h=Math.imul(Fe,qe),c=Math.imul(Fe,Ve),c=c+Math.imul(Ue,qe)|0,m=Math.imul(Ue,Ve),h=h+Math.imul(Le,Ke)|0,c=c+Math.imul(Le,Je)|0,c=c+Math.imul(De,Ke)|0,m=m+Math.imul(De,Je)|0,h=h+Math.imul(ke,Qe)|0,c=c+Math.imul(ke,Ye)|0,c=c+Math.imul(Ee,Qe)|0,m=m+Math.imul(Ee,Ye)|0,h=h+Math.imul(Z,Xe)|0,c=c+Math.imul(Z,Ze)|0,c=c+Math.imul(ue,Xe)|0,m=m+Math.imul(ue,Ze)|0,h=h+Math.imul(q,et)|0,c=c+Math.imul(q,tt)|0,c=c+Math.imul(J,et)|0,m=m+Math.imul(J,tt)|0,h=h+Math.imul(L,rt)|0,c=c+Math.imul(L,nt)|0,c=c+Math.imul(W,rt)|0,m=m+Math.imul(W,nt)|0,h=h+Math.imul(f,it)|0,c=c+Math.imul(f,st)|0,c=c+Math.imul(N,it)|0,m=m+Math.imul(N,st)|0;var xf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(xf>>>26)|0,xf&=67108863,h=Math.imul(We,qe),c=Math.imul(We,Ve),c=c+Math.imul($e,qe)|0,m=Math.imul($e,Ve),h=h+Math.imul(Fe,Ke)|0,c=c+Math.imul(Fe,Je)|0,c=c+Math.imul(Ue,Ke)|0,m=m+Math.imul(Ue,Je)|0,h=h+Math.imul(Le,Qe)|0,c=c+Math.imul(Le,Ye)|0,c=c+Math.imul(De,Qe)|0,m=m+Math.imul(De,Ye)|0,h=h+Math.imul(ke,Xe)|0,c=c+Math.imul(ke,Ze)|0,c=c+Math.imul(Ee,Xe)|0,m=m+Math.imul(Ee,Ze)|0,h=h+Math.imul(Z,et)|0,c=c+Math.imul(Z,tt)|0,c=c+Math.imul(ue,et)|0,m=m+Math.imul(ue,tt)|0,h=h+Math.imul(q,rt)|0,c=c+Math.imul(q,nt)|0,c=c+Math.imul(J,rt)|0,m=m+Math.imul(J,nt)|0,h=h+Math.imul(L,it)|0,c=c+Math.imul(L,st)|0,c=c+Math.imul(W,it)|0,m=m+Math.imul(W,st)|0,h=h+Math.imul(f,ot)|0,c=c+Math.imul(f,at)|0,c=c+Math.imul(N,ot)|0,m=m+Math.imul(N,at)|0;var yf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(yf>>>26)|0,yf&=67108863,h=Math.imul(ze,qe),c=Math.imul(ze,Ve),c=c+Math.imul(je,qe)|0,m=Math.imul(je,Ve),h=h+Math.imul(We,Ke)|0,c=c+Math.imul(We,Je)|0,c=c+Math.imul($e,Ke)|0,m=m+Math.imul($e,Je)|0,h=h+Math.imul(Fe,Qe)|0,c=c+Math.imul(Fe,Ye)|0,c=c+Math.imul(Ue,Qe)|0,m=m+Math.imul(Ue,Ye)|0,h=h+Math.imul(Le,Xe)|0,c=c+Math.imul(Le,Ze)|0,c=c+Math.imul(De,Xe)|0,m=m+Math.imul(De,Ze)|0,h=h+Math.imul(ke,et)|0,c=c+Math.imul(ke,tt)|0,c=c+Math.imul(Ee,et)|0,m=m+Math.imul(Ee,tt)|0,h=h+Math.imul(Z,rt)|0,c=c+Math.imul(Z,nt)|0,c=c+Math.imul(ue,rt)|0,m=m+Math.imul(ue,nt)|0,h=h+Math.imul(q,it)|0,c=c+Math.imul(q,st)|0,c=c+Math.imul(J,it)|0,m=m+Math.imul(J,st)|0,h=h+Math.imul(L,ot)|0,c=c+Math.imul(L,at)|0,c=c+Math.imul(W,ot)|0,m=m+Math.imul(W,at)|0,h=h+Math.imul(f,lt)|0,c=c+Math.imul(f,ct)|0,c=c+Math.imul(N,lt)|0,m=m+Math.imul(N,ct)|0;var wf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(wf>>>26)|0,wf&=67108863,h=Math.imul(He,qe),c=Math.imul(He,Ve),c=c+Math.imul(Ge,qe)|0,m=Math.imul(Ge,Ve),h=h+Math.imul(ze,Ke)|0,c=c+Math.imul(ze,Je)|0,c=c+Math.imul(je,Ke)|0,m=m+Math.imul(je,Je)|0,h=h+Math.imul(We,Qe)|0,c=c+Math.imul(We,Ye)|0,c=c+Math.imul($e,Qe)|0,m=m+Math.imul($e,Ye)|0,h=h+Math.imul(Fe,Xe)|0,c=c+Math.imul(Fe,Ze)|0,c=c+Math.imul(Ue,Xe)|0,m=m+Math.imul(Ue,Ze)|0,h=h+Math.imul(Le,et)|0,c=c+Math.imul(Le,tt)|0,c=c+Math.imul(De,et)|0,m=m+Math.imul(De,tt)|0,h=h+Math.imul(ke,rt)|0,c=c+Math.imul(ke,nt)|0,c=c+Math.imul(Ee,rt)|0,m=m+Math.imul(Ee,nt)|0,h=h+Math.imul(Z,it)|0,c=c+Math.imul(Z,st)|0,c=c+Math.imul(ue,it)|0,m=m+Math.imul(ue,st)|0,h=h+Math.imul(q,ot)|0,c=c+Math.imul(q,at)|0,c=c+Math.imul(J,ot)|0,m=m+Math.imul(J,at)|0,h=h+Math.imul(L,lt)|0,c=c+Math.imul(L,ct)|0,c=c+Math.imul(W,lt)|0,m=m+Math.imul(W,ct)|0,h=h+Math.imul(f,ut)|0,c=c+Math.imul(f,ft)|0,c=c+Math.imul(N,ut)|0,m=m+Math.imul(N,ft)|0;var bf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(bf>>>26)|0,bf&=67108863,h=Math.imul(He,Ke),c=Math.imul(He,Je),c=c+Math.imul(Ge,Ke)|0,m=Math.imul(Ge,Je),h=h+Math.imul(ze,Qe)|0,c=c+Math.imul(ze,Ye)|0,c=c+Math.imul(je,Qe)|0,m=m+Math.imul(je,Ye)|0,h=h+Math.imul(We,Xe)|0,c=c+Math.imul(We,Ze)|0,c=c+Math.imul($e,Xe)|0,m=m+Math.imul($e,Ze)|0,h=h+Math.imul(Fe,et)|0,c=c+Math.imul(Fe,tt)|0,c=c+Math.imul(Ue,et)|0,m=m+Math.imul(Ue,tt)|0,h=h+Math.imul(Le,rt)|0,c=c+Math.imul(Le,nt)|0,c=c+Math.imul(De,rt)|0,m=m+Math.imul(De,nt)|0,h=h+Math.imul(ke,it)|0,c=c+Math.imul(ke,st)|0,c=c+Math.imul(Ee,it)|0,m=m+Math.imul(Ee,st)|0,h=h+Math.imul(Z,ot)|0,c=c+Math.imul(Z,at)|0,c=c+Math.imul(ue,ot)|0,m=m+Math.imul(ue,at)|0,h=h+Math.imul(q,lt)|0,c=c+Math.imul(q,ct)|0,c=c+Math.imul(J,lt)|0,m=m+Math.imul(J,ct)|0,h=h+Math.imul(L,ut)|0,c=c+Math.imul(L,ft)|0,c=c+Math.imul(W,ut)|0,m=m+Math.imul(W,ft)|0;var vf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(vf>>>26)|0,vf&=67108863,h=Math.imul(He,Qe),c=Math.imul(He,Ye),c=c+Math.imul(Ge,Qe)|0,m=Math.imul(Ge,Ye),h=h+Math.imul(ze,Xe)|0,c=c+Math.imul(ze,Ze)|0,c=c+Math.imul(je,Xe)|0,m=m+Math.imul(je,Ze)|0,h=h+Math.imul(We,et)|0,c=c+Math.imul(We,tt)|0,c=c+Math.imul($e,et)|0,m=m+Math.imul($e,tt)|0,h=h+Math.imul(Fe,rt)|0,c=c+Math.imul(Fe,nt)|0,c=c+Math.imul(Ue,rt)|0,m=m+Math.imul(Ue,nt)|0,h=h+Math.imul(Le,it)|0,c=c+Math.imul(Le,st)|0,c=c+Math.imul(De,it)|0,m=m+Math.imul(De,st)|0,h=h+Math.imul(ke,ot)|0,c=c+Math.imul(ke,at)|0,c=c+Math.imul(Ee,ot)|0,m=m+Math.imul(Ee,at)|0,h=h+Math.imul(Z,lt)|0,c=c+Math.imul(Z,ct)|0,c=c+Math.imul(ue,lt)|0,m=m+Math.imul(ue,ct)|0,h=h+Math.imul(q,ut)|0,c=c+Math.imul(q,ft)|0,c=c+Math.imul(J,ut)|0,m=m+Math.imul(J,ft)|0;var Ef=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(Ef>>>26)|0,Ef&=67108863,h=Math.imul(He,Xe),c=Math.imul(He,Ze),c=c+Math.imul(Ge,Xe)|0,m=Math.imul(Ge,Ze),h=h+Math.imul(ze,et)|0,c=c+Math.imul(ze,tt)|0,c=c+Math.imul(je,et)|0,m=m+Math.imul(je,tt)|0,h=h+Math.imul(We,rt)|0,c=c+Math.imul(We,nt)|0,c=c+Math.imul($e,rt)|0,m=m+Math.imul($e,nt)|0,h=h+Math.imul(Fe,it)|0,c=c+Math.imul(Fe,st)|0,c=c+Math.imul(Ue,it)|0,m=m+Math.imul(Ue,st)|0,h=h+Math.imul(Le,ot)|0,c=c+Math.imul(Le,at)|0,c=c+Math.imul(De,ot)|0,m=m+Math.imul(De,at)|0,h=h+Math.imul(ke,lt)|0,c=c+Math.imul(ke,ct)|0,c=c+Math.imul(Ee,lt)|0,m=m+Math.imul(Ee,ct)|0,h=h+Math.imul(Z,ut)|0,c=c+Math.imul(Z,ft)|0,c=c+Math.imul(ue,ut)|0,m=m+Math.imul(ue,ft)|0;var Af=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(Af>>>26)|0,Af&=67108863,h=Math.imul(He,et),c=Math.imul(He,tt),c=c+Math.imul(Ge,et)|0,m=Math.imul(Ge,tt),h=h+Math.imul(ze,rt)|0,c=c+Math.imul(ze,nt)|0,c=c+Math.imul(je,rt)|0,m=m+Math.imul(je,nt)|0,h=h+Math.imul(We,it)|0,c=c+Math.imul(We,st)|0,c=c+Math.imul($e,it)|0,m=m+Math.imul($e,st)|0,h=h+Math.imul(Fe,ot)|0,c=c+Math.imul(Fe,at)|0,c=c+Math.imul(Ue,ot)|0,m=m+Math.imul(Ue,at)|0,h=h+Math.imul(Le,lt)|0,c=c+Math.imul(Le,ct)|0,c=c+Math.imul(De,lt)|0,m=m+Math.imul(De,ct)|0,h=h+Math.imul(ke,ut)|0,c=c+Math.imul(ke,ft)|0,c=c+Math.imul(Ee,ut)|0,m=m+Math.imul(Ee,ft)|0;var Sf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(Sf>>>26)|0,Sf&=67108863,h=Math.imul(He,rt),c=Math.imul(He,nt),c=c+Math.imul(Ge,rt)|0,m=Math.imul(Ge,nt),h=h+Math.imul(ze,it)|0,c=c+Math.imul(ze,st)|0,c=c+Math.imul(je,it)|0,m=m+Math.imul(je,st)|0,h=h+Math.imul(We,ot)|0,c=c+Math.imul(We,at)|0,c=c+Math.imul($e,ot)|0,m=m+Math.imul($e,at)|0,h=h+Math.imul(Fe,lt)|0,c=c+Math.imul(Fe,ct)|0,c=c+Math.imul(Ue,lt)|0,m=m+Math.imul(Ue,ct)|0,h=h+Math.imul(Le,ut)|0,c=c+Math.imul(Le,ft)|0,c=c+Math.imul(De,ut)|0,m=m+Math.imul(De,ft)|0;var _f=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(_f>>>26)|0,_f&=67108863,h=Math.imul(He,it),c=Math.imul(He,st),c=c+Math.imul(Ge,it)|0,m=Math.imul(Ge,st),h=h+Math.imul(ze,ot)|0,c=c+Math.imul(ze,at)|0,c=c+Math.imul(je,ot)|0,m=m+Math.imul(je,at)|0,h=h+Math.imul(We,lt)|0,c=c+Math.imul(We,ct)|0,c=c+Math.imul($e,lt)|0,m=m+Math.imul($e,ct)|0,h=h+Math.imul(Fe,ut)|0,c=c+Math.imul(Fe,ft)|0,c=c+Math.imul(Ue,ut)|0,m=m+Math.imul(Ue,ft)|0;var Cf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(Cf>>>26)|0,Cf&=67108863,h=Math.imul(He,ot),c=Math.imul(He,at),c=c+Math.imul(Ge,ot)|0,m=Math.imul(Ge,at),h=h+Math.imul(ze,lt)|0,c=c+Math.imul(ze,ct)|0,c=c+Math.imul(je,lt)|0,m=m+Math.imul(je,ct)|0,h=h+Math.imul(We,ut)|0,c=c+Math.imul(We,ft)|0,c=c+Math.imul($e,ut)|0,m=m+Math.imul($e,ft)|0;var kf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(kf>>>26)|0,kf&=67108863,h=Math.imul(He,lt),c=Math.imul(He,ct),c=c+Math.imul(Ge,lt)|0,m=Math.imul(Ge,ct),h=h+Math.imul(ze,ut)|0,c=c+Math.imul(ze,ft)|0,c=c+Math.imul(je,ut)|0,m=m+Math.imul(je,ft)|0;var Nf=(C+h|0)+((c&8191)<<13)|0;C=(m+(c>>>13)|0)+(Nf>>>26)|0,Nf&=67108863,h=Math.imul(He,ut),c=Math.imul(He,ft),c=c+Math.imul(Ge,ut)|0,m=Math.imul(Ge,ft);var Tf=(C+h|0)+((c&8191)<<13)|0;return C=(m+(c>>>13)|0)+(Tf>>>26)|0,Tf&=67108863,v[0]=di,v[1]=hi,v[2]=pi,v[3]=gi,v[4]=mi,v[5]=mf,v[6]=xf,v[7]=yf,v[8]=wf,v[9]=bf,v[10]=vf,v[11]=Ef,v[12]=Af,v[13]=Sf,v[14]=_f,v[15]=Cf,v[16]=kf,v[17]=Nf,v[18]=Tf,C!==0&&(v[19]=C,_.length++),_};Math.imul||(k=A);function B(M,d,y){y.negative=d.negative^M.negative,y.length=M.length+d.length;for(var _=0,T=0,g=0;g<y.length-1;g++){var v=T;T=0;for(var C=_&67108863,h=Math.min(g,d.length-1),c=Math.max(0,g-M.length+1);c<=h;c++){var m=g-c,S=M.words[m]|0,f=d.words[c]|0,N=S*f,R=N&67108863;v=v+(N/67108864|0)|0,R=R+C|0,C=R&67108863,v=v+(R>>>26)|0,T+=v>>>26,v&=67108863}y.words[g]=C,_=v,v=T}return _!==0?y.words[g]=_:y.length--,y._strip()}function O(M,d,y){return B(M,d,y)}s.prototype.mulTo=function(d,y){var _,T=this.length+d.length;return this.length===10&&d.length===10?_=k(this,d,y):T<63?_=A(this,d,y):T<1024?_=B(this,d,y):_=O(this,d,y),_},s.prototype.mul=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),this.mulTo(d,y)},s.prototype.mulf=function(d){var y=new s(null);return y.words=new Array(this.length+d.length),O(this,d,y)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var y=d<0;y&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var _=0,T=0;T<this.length;T++){var g=(this.words[T]|0)*d,v=(g&67108863)+(_&67108863);_>>=26,_+=g/67108864|0,_+=v>>>26,this.words[T]=v&67108863}return _!==0&&(this.words[T]=_,this.length++),y?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var y=b(d);if(y.length===0)return new s(1);for(var _=this,T=0;T<y.length&&y[T]===0;T++,_=_.sqr());if(++T<y.length)for(var g=_.sqr();T<y.length;T++,g=g.sqr())y[T]!==0&&(_=_.mul(g));return _},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var y=d%26,_=(d-y)/26,T=67108863>>>26-y<<26-y,g;if(y!==0){var v=0;for(g=0;g<this.length;g++){var C=this.words[g]&T,h=(this.words[g]|0)-C<<y;this.words[g]=h|v,v=C>>>26-y}v&&(this.words[g]=v,this.length++)}if(_!==0){for(g=this.length-1;g>=0;g--)this.words[g+_]=this.words[g];for(g=0;g<_;g++)this.words[g]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,y,_){n(typeof d=="number"&&d>=0);var T;y?T=(y-y%26)/26:T=0;var g=d%26,v=Math.min((d-g)/26,this.length),C=67108863^67108863>>>g<<g,h=_;if(T-=v,T=Math.max(0,T),h){for(var c=0;c<v;c++)h.words[c]=this.words[c];h.length=v}if(v!==0)if(this.length>v)for(this.length-=v,c=0;c<this.length;c++)this.words[c]=this.words[c+v];else this.words[0]=0,this.length=1;var m=0;for(c=this.length-1;c>=0&&(m!==0||c>=T);c--){var S=this.words[c]|0;this.words[c]=m<<26-g|S>>>g,m=S&C}return h&&m!==0&&(h.words[h.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,y,_){return n(this.negative===0),this.iushrn(d,y,_)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,_=(d-y)/26,T=1<<y;if(this.length<=_)return!1;var g=this.words[_];return!!(g&T)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var y=d%26,_=(d-y)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(y!==0&&_++,this.length=Math.min(_,this.length),y!==0){var T=67108863^67108863>>>y<<y;this.words[this.length-1]&=T}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var y=0;y<this.length&&this.words[y]>=67108864;y++)this.words[y]-=67108864,y===this.length-1?this.words[y+1]=1:this.words[y+1]++;return this.length=Math.max(this.length,y+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var y=0;y<this.length&&this.words[y]<0;y++)this.words[y]+=67108864,this.words[y+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,y,_){var T=d.length+_,g;this._expand(T);var v,C=0;for(g=0;g<d.length;g++){v=(this.words[g+_]|0)+C;var h=(d.words[g]|0)*y;v-=h&67108863,C=(v>>26)-(h/67108864|0),this.words[g+_]=v&67108863}for(;g<this.length-_;g++)v=(this.words[g+_]|0)+C,C=v>>26,this.words[g+_]=v&67108863;if(C===0)return this._strip();for(n(C===-1),C=0,g=0;g<this.length;g++)v=-(this.words[g]|0)+C,C=v>>26,this.words[g]=v&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,y){var _=this.length-d.length,T=this.clone(),g=d,v=g.words[g.length-1]|0,C=this._countBits(v);_=26-C,_!==0&&(g=g.ushln(_),T.iushln(_),v=g.words[g.length-1]|0);var h=T.length-g.length,c;if(y!=="mod"){c=new s(null),c.length=h+1,c.words=new Array(c.length);for(var m=0;m<c.length;m++)c.words[m]=0}var S=T.clone()._ishlnsubmul(g,1,h);S.negative===0&&(T=S,c&&(c.words[h]=1));for(var f=h-1;f>=0;f--){var N=(T.words[g.length+f]|0)*67108864+(T.words[g.length+f-1]|0);for(N=Math.min(N/v|0,67108863),T._ishlnsubmul(g,N,f);T.negative!==0;)N--,T.negative=0,T._ishlnsubmul(g,1,f),T.isZero()||(T.negative^=1);c&&(c.words[f]=N)}return c&&c._strip(),T._strip(),y!=="div"&&_!==0&&T.iushrn(_),{div:c||null,mod:T}},s.prototype.divmod=function(d,y,_){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var T,g,v;return this.negative!==0&&d.negative===0?(v=this.neg().divmod(d,y),y!=="mod"&&(T=v.div.neg()),y!=="div"&&(g=v.mod.neg(),_&&g.negative!==0&&g.iadd(d)),{div:T,mod:g}):this.negative===0&&d.negative!==0?(v=this.divmod(d.neg(),y),y!=="mod"&&(T=v.div.neg()),{div:T,mod:v.mod}):this.negative&d.negative?(v=this.neg().divmod(d.neg(),y),y!=="div"&&(g=v.mod.neg(),_&&g.negative!==0&&g.isub(d)),{div:v.div,mod:g}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?y==="div"?{div:this.divn(d.words[0]),mod:null}:y==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,y)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var y=this.divmod(d);if(y.mod.isZero())return y.div;var _=y.div.negative!==0?y.mod.isub(d):y.mod,T=d.ushrn(1),g=d.andln(1),v=_.cmp(T);return v<0||g===1&&v===0?y.div:y.div.negative!==0?y.div.isubn(1):y.div.iaddn(1)},s.prototype.modrn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var _=(1<<26)%d,T=0,g=this.length-1;g>=0;g--)T=(_*T+(this.words[g]|0))%d;return y?-T:T},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var y=d<0;y&&(d=-d),n(d<=67108863);for(var _=0,T=this.length-1;T>=0;T--){var g=(this.words[T]|0)+_*67108864;this.words[T]=g/d|0,_=g%d}return this._strip(),y?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var y=this,_=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var T=new s(1),g=new s(0),v=new s(0),C=new s(1),h=0;y.isEven()&&_.isEven();)y.iushrn(1),_.iushrn(1),++h;for(var c=_.clone(),m=y.clone();!y.isZero();){for(var S=0,f=1;!(y.words[0]&f)&&S<26;++S,f<<=1);if(S>0)for(y.iushrn(S);S-- >0;)(T.isOdd()||g.isOdd())&&(T.iadd(c),g.isub(m)),T.iushrn(1),g.iushrn(1);for(var N=0,R=1;!(_.words[0]&R)&&N<26;++N,R<<=1);if(N>0)for(_.iushrn(N);N-- >0;)(v.isOdd()||C.isOdd())&&(v.iadd(c),C.isub(m)),v.iushrn(1),C.iushrn(1);y.cmp(_)>=0?(y.isub(_),T.isub(v),g.isub(C)):(_.isub(y),v.isub(T),C.isub(g))}return{a:v,b:C,gcd:_.iushln(h)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var y=this,_=d.clone();y.negative!==0?y=y.umod(d):y=y.clone();for(var T=new s(1),g=new s(0),v=_.clone();y.cmpn(1)>0&&_.cmpn(1)>0;){for(var C=0,h=1;!(y.words[0]&h)&&C<26;++C,h<<=1);if(C>0)for(y.iushrn(C);C-- >0;)T.isOdd()&&T.iadd(v),T.iushrn(1);for(var c=0,m=1;!(_.words[0]&m)&&c<26;++c,m<<=1);if(c>0)for(_.iushrn(c);c-- >0;)g.isOdd()&&g.iadd(v),g.iushrn(1);y.cmp(_)>=0?(y.isub(_),T.isub(g)):(_.isub(y),g.isub(T))}var S;return y.cmpn(1)===0?S=T:S=g,S.cmpn(0)<0&&S.iadd(d),S},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var y=this.clone(),_=d.clone();y.negative=0,_.negative=0;for(var T=0;y.isEven()&&_.isEven();T++)y.iushrn(1),_.iushrn(1);do{for(;y.isEven();)y.iushrn(1);for(;_.isEven();)_.iushrn(1);var g=y.cmp(_);if(g<0){var v=y;y=_,_=v}else if(g===0||_.cmpn(1)===0)break;y.isub(_)}while(!0);return _.iushln(T)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var y=d%26,_=(d-y)/26,T=1<<y;if(this.length<=_)return this._expand(_+1),this.words[_]|=T,this;for(var g=T,v=_;g!==0&&v<this.length;v++){var C=this.words[v]|0;C+=g,g=C>>>26,C&=67108863,this.words[v]=C}return g!==0&&(this.words[v]=g,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var y=d<0;if(this.negative!==0&&!y)return-1;if(this.negative===0&&y)return 1;this._strip();var _;if(this.length>1)_=1;else{y&&(d=-d),n(d<=67108863,"Number is too big");var T=this.words[0]|0;_=T===d?0:T<d?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var y=this.ucmp(d);return this.negative!==0?-y|0:y},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var y=0,_=this.length-1;_>=0;_--){var T=this.words[_]|0,g=d.words[_]|0;if(T!==g){T<g?y=-1:T>g&&(y=1);break}}return y},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new ee(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var D={k256:null,p224:null,p192:null,p25519:null};function F(M,d){this.name=M,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}F.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},F.prototype.ireduce=function(d){var y=d,_;do this.split(y,this.tmp),y=this.imulK(y),y=y.iadd(this.tmp),_=y.bitLength();while(_>this.n);var T=_<this.n?-1:y.ucmp(this.p);return T===0?(y.words[0]=0,y.length=1):T>0?y.isub(this.p):y.strip!==void 0?y.strip():y._strip(),y},F.prototype.split=function(d,y){d.iushrn(this.n,0,y)},F.prototype.imulK=function(d){return d.imul(this.k)};function j(){F.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(j,F),j.prototype.split=function(d,y){for(var _=4194303,T=Math.min(d.length,9),g=0;g<T;g++)y.words[g]=d.words[g];if(y.length=T,d.length<=9){d.words[0]=0,d.length=1;return}var v=d.words[9];for(y.words[y.length++]=v&_,g=10;g<d.length;g++){var C=d.words[g]|0;d.words[g-10]=(C&_)<<4|v>>>22,v=C}v>>>=22,d.words[g-10]=v,v===0&&d.length>10?d.length-=10:d.length-=9},j.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var y=0,_=0;_<d.length;_++){var T=d.words[_]|0;y+=T*977,d.words[_]=y&67108863,y=T*64+(y/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function G(){F.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(G,F);function z(){F.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(z,F);function X(){F.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(X,F),X.prototype.imulK=function(d){for(var y=0,_=0;_<d.length;_++){var T=(d.words[_]|0)*19+y,g=T&67108863;T>>>=26,d.words[_]=g,y=T}return y!==0&&(d.words[d.length++]=y),d},s._prime=function(d){if(D[d])return D[d];var y;if(d==="k256")y=new j;else if(d==="p224")y=new G;else if(d==="p192")y=new z;else if(d==="p25519")y=new X;else throw new Error("Unknown prime "+d);return D[d]=y,y};function ee(M){if(typeof M=="string"){var d=s._prime(M);this.m=d.p,this.prime=d}else n(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}ee.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},ee.prototype._verify2=function(d,y){n((d.negative|y.negative)===0,"red works only with positives"),n(d.red&&d.red===y.red,"red works only with red numbers")},ee.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(p(d,d.umod(this.m)._forceRed(this)),d)},ee.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},ee.prototype.add=function(d,y){this._verify2(d,y);var _=d.add(y);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},ee.prototype.iadd=function(d,y){this._verify2(d,y);var _=d.iadd(y);return _.cmp(this.m)>=0&&_.isub(this.m),_},ee.prototype.sub=function(d,y){this._verify2(d,y);var _=d.sub(y);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},ee.prototype.isub=function(d,y){this._verify2(d,y);var _=d.isub(y);return _.cmpn(0)<0&&_.iadd(this.m),_},ee.prototype.shl=function(d,y){return this._verify1(d),this.imod(d.ushln(y))},ee.prototype.imul=function(d,y){return this._verify2(d,y),this.imod(d.imul(y))},ee.prototype.mul=function(d,y){return this._verify2(d,y),this.imod(d.mul(y))},ee.prototype.isqr=function(d){return this.imul(d,d.clone())},ee.prototype.sqr=function(d){return this.mul(d,d)},ee.prototype.sqrt=function(d){if(d.isZero())return d.clone();var y=this.m.andln(3);if(n(y%2===1),y===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(d,_)}for(var T=this.m.subn(1),g=0;!T.isZero()&&T.andln(1)===0;)g++,T.iushrn(1);n(!T.isZero());var v=new s(1).toRed(this),C=v.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,h).cmp(C)!==0;)c.redIAdd(C);for(var m=this.pow(c,T),S=this.pow(d,T.addn(1).iushrn(1)),f=this.pow(d,T),N=g;f.cmp(v)!==0;){for(var R=f,L=0;R.cmp(v)!==0;L++)R=R.redSqr();n(L<N);var W=this.pow(m,new s(1).iushln(N-L-1));S=S.redMul(W),m=W.redSqr(),f=f.redMul(m),N=L}return S},ee.prototype.invm=function(d){var y=d._invmp(this.m);return y.negative!==0?(y.negative=0,this.imod(y).redNeg()):this.imod(y)},ee.prototype.pow=function(d,y){if(y.isZero())return new s(1).toRed(this);if(y.cmpn(1)===0)return d.clone();var _=4,T=new Array(1<<_);T[0]=new s(1).toRed(this),T[1]=d;for(var g=2;g<T.length;g++)T[g]=this.mul(T[g-1],d);var v=T[0],C=0,h=0,c=y.bitLength()%26;for(c===0&&(c=26),g=y.length-1;g>=0;g--){for(var m=y.words[g],S=c-1;S>=0;S--){var f=m>>S&1;if(v!==T[0]&&(v=this.sqr(v)),f===0&&C===0){h=0;continue}C<<=1,C|=f,h++,!(h!==_&&(g!==0||S!==0))&&(v=this.mul(v,T[C]),h=0,C=0)}c=26}return v},ee.prototype.convertTo=function(d){var y=d.umod(this.m);return y===d?y.clone():y},ee.prototype.convertFrom=function(d){var y=d.clone();return y.red=null,y},s.mont=function(d){return new ae(d)};function ae(M){ee.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ae,ee),ae.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},ae.prototype.convertFrom=function(d){var y=this.imod(d.mul(this.rinv));return y.red=null,y},ae.prototype.imul=function(d,y){if(d.isZero()||y.isZero())return d.words[0]=0,d.length=1,d;var _=d.imul(y),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=_.isub(T).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},ae.prototype.mul=function(d,y){if(d.isZero()||y.isZero())return new s(0)._forceRed(this);var _=d.mul(y),T=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),g=_.isub(T).iushrn(this.shift),v=g;return g.cmp(this.m)>=0?v=g.isub(this.m):g.cmpn(0)<0&&(v=g.iadd(this.m)),v._forceRed(this)},ae.prototype.invm=function(d){var y=this.imod(d._invmp(this.m).mul(this.r2));return y._forceRed(this)}})(t,Dx)})(n6);const he=l0,a6="logger/5.7.0";let xm=!1,ym=!1;const Cc={debug:1,default:2,info:2,warning:3,error:4,off:5};let wm=Cc.default,ed=null;function l6(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}const bm=l6();var c0;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(c0||(c0={}));var sn;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(sn||(sn={}));const vm="0123456789abcdef";let U=class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Cc[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(wm>Cc[n])&&console.log.apply(console,r)}debug(...e){this._log(Ot.levels.DEBUG,e)}info(...e){this._log(Ot.levels.INFO,e)}warn(...e){this._log(Ot.levels.WARNING,e)}makeError(e,r,n){if(ym)return this.makeError("censored error",r,{});r||(r=Ot.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const u=n[l];try{if(u instanceof Uint8Array){let p="";for(let x=0;x<u.length;x++)p+=vm[u[x]>>4],p+=vm[u[x]&15];i.push(l+"=Uint8Array(0x"+p+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case sn.NUMERIC_FAULT:{o="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":o+="-"+l;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case sn.CALL_EXCEPTION:case sn.INSUFFICIENT_FUNDS:case sn.MISSING_NEW:case sn.NONCE_EXPIRED:case sn.REPLACEMENT_UNDERPRICED:case sn.TRANSACTION_REPLACED:case sn.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(l){a[l]=n[l]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){bm&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:bm})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ot.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ot.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return ed||(ed=new Ot(a6)),ed}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),xm){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ym=!!e,xm=!!r}static setLogLevel(e){const r=Cc[e.toLowerCase()];if(r==null){Ot.globalLogger().warn("invalid log level - "+e);return}wm=r}static from(e){return new Ot(e)}};U.errors=sn;U.levels=c0;const c6="bytes/5.7.0",bt=new U(c6);function Ty(t){return!!t.toHexString}function Ao(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ao(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ml(t){return be(t)&&!(t.length%2)||ui(t)}function Em(t){return typeof t=="number"&&t==t&&t%1===0}function ui(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!Em(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Em(r)||r<0||r>=256)return!1}return!0}function V(t,e){if(e||(e={}),typeof t=="number"){bt.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Ao(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ty(t)&&(t=t.toHexString()),be(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":bt.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Ao(new Uint8Array(n))}return ui(t)?Ao(new Uint8Array(t)):bt.throwArgumentError("invalid arrayify value","value",t)}function Re(t){const e=t.map(i=>V(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Ao(n)}function Mn(t){let e=V(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function Ha(t,e){t=V(t),t.length>e&&bt.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Ao(r)}function be(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const td="0123456789abcdef";function Q(t,e){if(e||(e={}),typeof t=="number"){bt.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=td[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ty(t))return t.toHexString();if(be(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":bt.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ui(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=td[(i&240)>>4]+td[i&15]}return r}return bt.throwArgumentError("invalid hexlify value","value",t)}function Dn(t){if(typeof t!="string")t=Q(t);else if(!be(t)||t.length%2)return null;return(t.length-2)/2}function Et(t,e,r){return typeof t!="string"?t=Q(t):(!be(t)||t.length%2)&&bt.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function sr(t){let e="0x";return t.forEach(r=>{e+=Q(r).substring(2)}),e}function Rl(t){const e=Py(Q(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function Py(t){typeof t!="string"&&(t=Q(t)),be(t)||bt.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Pe(t,e){for(typeof t!="string"?t=Q(t):be(t)||bt.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&bt.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function pn(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Ml(t)){let r=V(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Q(r.slice(0,32)),e.s=Q(r.slice(32,64))):r.length===65?(e.r=Q(r.slice(0,32)),e.s=Q(r.slice(32,64)),e.v=r[64]):bt.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:bt.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Q(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=Ha(V(e._vs),32);e._vs=Q(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&bt.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Q(i);e.s==null?e.s=o:e.s!==o&&bt.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?bt.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&bt.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!be(e.r)?bt.throwArgumentError("signature missing or invalid r","signature",t):e.r=Pe(e.r,32),e.s==null||!be(e.s)?bt.throwArgumentError("signature missing or invalid s","signature",t):e.s=Pe(e.s,32);const r=V(e.s);r[0]>=128&&bt.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Q(r);e._vs&&(be(e._vs)||bt.throwArgumentError("signature invalid _vs","signature",t),e._vs=Pe(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&bt.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function u0(t){return t=pn(t),Q(Re([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Iy="bignumber/5.7.0";var gl=he.BN;const Gn=new U(Iy),rd={},Am=9007199254740991;function u6(t){return t!=null&&($.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||be(t)||typeof t=="bigint"||ui(t))}let Sm=!1;class ${constructor(e,r){e!==rd&&Gn.throwError("cannot call constructor directly; use BigNumber.from",U.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return ur(we(this).fromTwos(e))}toTwos(e){return ur(we(this).toTwos(e))}abs(){return this._hex[0]==="-"?$.from(this._hex.substring(1)):this}add(e){return ur(we(this).add(we(e)))}sub(e){return ur(we(this).sub(we(e)))}div(e){return $.from(e).isZero()&&Pr("division-by-zero","div"),ur(we(this).div(we(e)))}mul(e){return ur(we(this).mul(we(e)))}mod(e){const r=we(e);return r.isNeg()&&Pr("division-by-zero","mod"),ur(we(this).umod(r))}pow(e){const r=we(e);return r.isNeg()&&Pr("negative-power","pow"),ur(we(this).pow(r))}and(e){const r=we(e);return(this.isNegative()||r.isNeg())&&Pr("unbound-bitwise-result","and"),ur(we(this).and(r))}or(e){const r=we(e);return(this.isNegative()||r.isNeg())&&Pr("unbound-bitwise-result","or"),ur(we(this).or(r))}xor(e){const r=we(e);return(this.isNegative()||r.isNeg())&&Pr("unbound-bitwise-result","xor"),ur(we(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Pr("negative-width","mask"),ur(we(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Pr("negative-width","shl"),ur(we(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Pr("negative-width","shr"),ur(we(this).shrn(e))}eq(e){return we(this).eq(we(e))}lt(e){return we(this).lt(we(e))}lte(e){return we(this).lte(we(e))}gt(e){return we(this).gt(we(e))}gte(e){return we(this).gte(we(e))}isNegative(){return this._hex[0]==="-"}isZero(){return we(this).isZero()}toNumber(){try{return we(this).toNumber()}catch{Pr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Gn.throwError("this platform does not support BigInt",U.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?Sm||(Sm=!0,Gn.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Gn.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",U.errors.UNEXPECTED_ARGUMENT,{}):Gn.throwError("BigNumber.toString does not accept parameters",U.errors.UNEXPECTED_ARGUMENT,{})),we(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof $)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new $(rd,ml(e)):e.match(/^-?[0-9]+$/)?new $(rd,ml(new gl(e))):Gn.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Pr("underflow","BigNumber.from",e),(e>=Am||e<=-Am)&&Pr("overflow","BigNumber.from",e),$.from(String(e));const r=e;if(typeof r=="bigint")return $.from(r.toString());if(ui(r))return $.from(Q(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return $.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(be(n)||n[0]==="-"&&be(n.substring(1))))return $.from(n)}return Gn.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function ml(t){if(typeof t!="string")return ml(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Gn.throwArgumentError("invalid hex","value",t),t=ml(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function ur(t){return $.from(ml(t))}function we(t){const e=$.from(t).toHexString();return e[0]==="-"?new gl("-"+e.substring(3),16):new gl(e.substring(2),16)}function Pr(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Gn.throwError(t,U.errors.NUMERIC_FAULT,n)}function f6(t){return new gl(t,36).toString(16)}function d6(t){return new gl(t,16).toString(36)}const or=new U(Iy),Ga={},My=$.from(0),Ry=$.from(-1);function Oy(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),or.throwError(t,U.errors.NUMERIC_FAULT,i)}let qa="0";for(;qa.length<256;)qa+=qa;function rp(t){if(typeof t!="number")try{t=$.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+qa.substring(0,t):or.throwArgumentError("invalid decimal size","decimals",t)}function kc(t,e){e==null&&(e=0);const r=rp(e);t=$.from(t);const n=t.lt(My);n&&(t=t.mul(Ry));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function gn(t,e){e==null&&(e=0);const r=rp(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&or.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&or.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&or.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Oy("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=$.from(s),l=$.from(o);let u=a.mul(r).add(l);return n&&(u=u.mul(Ry)),u}class So{constructor(e,r,n,i){e!==Ga&&or.throwError("cannot use FixedFormat constructor; use FixedFormat.from",U.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=rp(i),Object.freeze(this)}static from(e){if(e instanceof So)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||or.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,l)=>e[o]==null?l:(typeof e[o]!==a&&or.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&or.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&or.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new So(Ga,r,n,i)}}class $t{constructor(e,r,n,i){e!==Ga&&or.throwError("cannot use FixedNumber constructor; use FixedNumber.from",U.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&or.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=gn(this._value,this.format.decimals),n=gn(e._value,e.format.decimals);return $t.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=gn(this._value,this.format.decimals),n=gn(e._value,e.format.decimals);return $t.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=gn(this._value,this.format.decimals),n=gn(e._value,e.format.decimals);return $t.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=gn(this._value,this.format.decimals),n=gn(e._value,e.format.decimals);return $t.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=$t.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(_m.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=$t.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(_m.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&or.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=$t.from("1"+qa.substring(0,e),this.format),i=h6.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&or.throwArgumentError("invalid byte width","width",e);const r=$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Pe(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return $t.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!u6(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),$t.fromString(kc(e,r),So.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=So.from(r),i=gn(e,n.decimals);!n.signed&&i.lt(My)&&Oy("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Pe(s,n.width/8));const o=kc(i,n.decimals);return new $t(Ga,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=So.from(r);if(V(e).length>n.width/8)throw new Error("overflow");let i=$.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=kc(i,n.decimals);return new $t(Ga,s,o,n)}static from(e,r){if(typeof e=="string")return $t.fromString(e,r);if(ui(e))return $t.fromBytes(e,r);try{return $t.fromValue(e,0,r)}catch(n){if(n.code!==U.errors.INVALID_ARGUMENT)throw n}return or.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const _m=$t.from(1),h6=$t.from("0.5"),p6="properties/5.7.0";var g6=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const lu=new U(p6);function H(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function cn(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function pt(t){return g6(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Ku(t,e){(!t||typeof t!="object")&&lu.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||lu.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function It(t){const e={};for(const r in t)e[r]=t[r];return e}const m6={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function By(t){if(t==null||m6[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!By(n))return!1}return!0}return lu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function x6(t){if(By(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Fn(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&H(e,r,Fn(n))}return e}return lu.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Fn(t){return x6(t)}let Ds=class{constructor(e){for(const r in e)this[r]=Fn(e[r])}};const Ol="abi/5.7.0",Ae=new U(Ol),ks={};let Cm={calldata:!0,memory:!0,storage:!0},y6={calldata:!0,memory:!0};function sc(t,e){if(t==="bytes"||t==="string"){if(Cm[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&y6[e])return!0;return(Cm[e]||e==="payable")&&Ae.throwArgumentError("invalid modifier","name",e),!1}function w6(t,e){let r=t;function n(a){Ae.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let l={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(l.indexed=!1),l}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let l=t[a];switch(l){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=eo(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),sc(o.type,o.name)&&(o.name=""),o.type=eo(o.type);let u=o;o=o.parent,o||n(a),delete u.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),sc(o.type,o.name)&&(o.name=""),o.type=eo(o.type);let p=i(o.parent);o.parent.components.push(p),delete o.parent,o=p;break;case" ":o.state.allowType&&o.type!==""&&(o.type=eo(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):sc(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=l,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=l,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=l,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=l,delete o.state.allowArray):o.state.readArray?o.type+=l:n(a)}}return o.parent&&Ae.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):sc(o.type,o.name)&&(o.name=""),s.type=eo(s.type),s}function Nc(t,e){for(let r in e)H(t,r,e[r])}const Se=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),b6=new RegExp(/^(.*)\[([0-9]*)\]$/);class Bt{constructor(e,r){e!==ks&&Ae.throwError("use fromString",U.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),Nc(this,r);let n=this.type.match(b6);n?Nc(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Bt.fromObject({type:n[1],components:this.components}),baseType:"array"}):Nc(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=Se.sighash),Se[e]||Ae.throwArgumentError("invalid format type","format",e),e===Se.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==Se.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===Se.full?", ":",")+")"):r+=this.type,e!==Se.sighash&&(this.indexed===!0&&(r+=" indexed"),e===Se.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Bt.fromString(e,r):Bt.fromObject(e)}static fromObject(e){return Bt.isParamType(e)?e:new Bt(ks,{name:e.name||null,type:eo(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Bt.fromObject):null})}static fromString(e,r){function n(i){return Bt.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(w6(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function xl(t,e){return E6(t).map(r=>Bt.fromString(r,e))}class _n{constructor(e,r){e!==ks&&Ae.throwError("use a static from method",U.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),Nc(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return _n.isFragment(e)?e:typeof e=="string"?_n.fromString(e):_n.fromObject(e)}static fromObject(e){if(_n.isFragment(e))return e;switch(e.type){case"function":return an.fromObject(e);case"event":return bn.fromObject(e);case"constructor":return on.fromObject(e);case"error":return Yn.fromObject(e);case"fallback":case"receive":return null}return Ae.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?bn.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?an.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?on.fromString(e.trim()):e.split(" ")[0]==="error"?Yn.fromString(e.substring(5).trim()):Ae.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class bn extends _n{format(e){if(e||(e=Se.sighash),Se[e]||Ae.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",e!==Se.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?bn.fromString(e):bn.fromObject(e)}static fromObject(e){if(bn.isEventFragment(e))return e;e.type!=="event"&&Ae.throwArgumentError("invalid event object","value",e);const r={name:yl(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],type:"event"};return new bn(ks,r)}static fromString(e){let r=e.match(wl);r||Ae.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:Ae.warn("unknown modifier: "+i)}}),bn.fromObject({name:r[1].trim(),anonymous:n,inputs:xl(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function Ly(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&Ae.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||Ae.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=$.from(r[1]),r[0]):t}function Dy(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Fy(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&Ae.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&Ae.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&Ae.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Ae.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&Ae.throwArgumentError("unable to determine stateMutability","value",t),e}class on extends _n{format(e){if(e||(e=Se.sighash),Se[e]||Ae.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===Se.sighash&&Ae.throwError("cannot format a constructor for sighash",U.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?on.fromString(e):on.fromObject(e)}static fromObject(e){if(on.isConstructorFragment(e))return e;e.type!=="constructor"&&Ae.throwArgumentError("invalid constructor object","value",e);let r=Fy(e);r.constant&&Ae.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?$.from(e.gas):null};return new on(ks,n)}static fromString(e){let r={type:"constructor"};e=Ly(e,r);let n=e.match(wl);return(!n||n[1].trim()!=="constructor")&&Ae.throwArgumentError("invalid constructor string","value",e),r.inputs=xl(n[2].trim(),!1),Dy(n[3].trim(),r),on.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class an extends on{format(e){if(e||(e=Se.sighash),Se[e]||Ae.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",e!==Se.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?an.fromString(e):an.fromObject(e)}static fromObject(e){if(an.isFunctionFragment(e))return e;e.type!=="function"&&Ae.throwArgumentError("invalid function object","value",e);let r=Fy(e);const n={type:e.type,name:yl(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Bt.fromObject):[],outputs:e.outputs?e.outputs.map(Bt.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?$.from(e.gas):null};return new an(ks,n)}static fromString(e){let r={type:"function"};e=Ly(e,r);let n=e.split(" returns ");n.length>2&&Ae.throwArgumentError("invalid function string","value",e);let i=n[0].match(wl);if(i||Ae.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&yl(r.name),r.inputs=xl(i[2],!1),Dy(i[3].trim(),r),n.length>1){let s=n[1].match(wl);(s[1].trim()!=""||s[3].trim()!="")&&Ae.throwArgumentError("unexpected tokens","value",e),r.outputs=xl(s[2],!1)}else r.outputs=[];return an.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function km(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Ae.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class Yn extends _n{format(e){if(e||(e=Se.sighash),Se[e]||Ae.throwArgumentError("invalid format type","format",e),e===Se.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==Se.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===Se.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?Yn.fromString(e):Yn.fromObject(e)}static fromObject(e){if(Yn.isErrorFragment(e))return e;e.type!=="error"&&Ae.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:yl(e.name),inputs:e.inputs?e.inputs.map(Bt.fromObject):[]};return km(new Yn(ks,r))}static fromString(e){let r={type:"error"},n=e.match(wl);return n||Ae.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&yl(r.name),r.inputs=xl(n[2],!1),km(Yn.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function eo(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const v6=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function yl(t){return(!t||!t.match(v6))&&Ae.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const wl=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function E6(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&Ae.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const np=new U(Ol);function Uy(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class fi{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){np.throwArgumentError(e,this.localName,r)}}class f0{constructor(e){H(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return sr(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Re(e._data))}writeBytes(e){let r=V(e);const n=r.length%this.wordSize;return n&&(r=Re([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=V($.from(e));return r.length>this.wordSize&&np.throwError("value out-of-bounds",U.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Re([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class cu{constructor(e,r,n,i){H(this,"_data",V(e)),H(this,"wordSize",r||32),H(this,"_coerceFunc",n),H(this,"allowLoose",i),this._offset=0}get data(){return Q(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):cu.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:np.throwError("data out-of-bounds",U.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new cu(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return $.from(this.readBytes(this.wordSize))}}var d0={},A6={get exports(){return d0},set exports(t){d0=t}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Dx:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),p=[31,7936,2031616,520093696],x=[4,1024,262144,67108864],w=[1,256,65536,16777216],E=[6,1536,393216,100663296],I=[0,8,16,24],P=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],A=[128,256],k=["hex","buffer","arrayBuffer","array","digest"],B={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(f){return typeof f=="object"&&f.buffer&&f.buffer.constructor===ArrayBuffer});for(var O=function(f,N,R){return function(L){return new c(f,N,f).update(L)[R]()}},D=function(f,N,R){return function(L,W){return new c(f,N,W).update(L)[R]()}},F=function(f,N,R){return function(L,W,K,q){return d["cshake"+f].update(L,W,K,q)[R]()}},j=function(f,N,R){return function(L,W,K,q){return d["kmac"+f].update(L,W,K,q)[R]()}},G=function(f,N,R,L){for(var W=0;W<k.length;++W){var K=k[W];f[K]=N(R,L,K)}return f},z=function(f,N){var R=O(f,N,"hex");return R.create=function(){return new c(f,N,f)},R.update=function(L){return R.create().update(L)},G(R,O,f,N)},X=function(f,N){var R=D(f,N,"hex");return R.create=function(L){return new c(f,N,L)},R.update=function(L,W){return R.create(W).update(L)},G(R,D,f,N)},ee=function(f,N){var R=B[f],L=F(f,N,"hex");return L.create=function(W,K,q){return!K&&!q?d["shake"+f].create(W):new c(f,N,W).bytepad([K,q],R)},L.update=function(W,K,q,J){return L.create(K,q,J).update(W)},G(L,F,f,N)},ae=function(f,N){var R=B[f],L=j(f,N,"hex");return L.create=function(W,K,q){return new m(f,N,K).bytepad(["KMAC",q],R).bytepad([W],R)},L.update=function(W,K,q,J){return L.create(W,q,J).update(K)},G(L,j,f,N)},M=[{name:"keccak",padding:w,bits:b,createMethod:z},{name:"sha3",padding:E,bits:b,createMethod:z},{name:"shake",padding:p,bits:A,createMethod:X},{name:"cshake",padding:x,bits:A,createMethod:ee},{name:"kmac",padding:x,bits:A,createMethod:ae}],d={},y=[],_=0;_<M.length;++_)for(var T=M[_],g=T.bits,v=0;v<g.length;++v){var C=T.name+"_"+g[v];if(y.push(C),d[C]=T.createMethod(g[v],T.padding),T.name!=="sha3"){var h=T.name+g[v];y.push(h),d[h]=d[C]}}function c(f,N,R){this.blocks=[],this.s=[],this.padding=N,this.outputBits=R,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(f<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=R>>5,this.extraBytes=(R&31)>>3;for(var L=0;L<50;++L)this.s[L]=0}c.prototype.update=function(f){if(this.finalized)throw new Error(r);var N,R=typeof f;if(R!=="string"){if(R==="object"){if(f===null)throw new Error(e);if(l&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!l||!ArrayBuffer.isView(f)))throw new Error(e)}else throw new Error(e);N=!0}for(var L=this.blocks,W=this.byteCount,K=f.length,q=this.blockCount,J=0,me=this.s,Z,ue;J<K;){if(this.reset)for(this.reset=!1,L[0]=this.block,Z=1;Z<q+1;++Z)L[Z]=0;if(N)for(Z=this.start;J<K&&Z<W;++J)L[Z>>2]|=f[J]<<I[Z++&3];else for(Z=this.start;J<K&&Z<W;++J)ue=f.charCodeAt(J),ue<128?L[Z>>2]|=ue<<I[Z++&3]:ue<2048?(L[Z>>2]|=(192|ue>>6)<<I[Z++&3],L[Z>>2]|=(128|ue&63)<<I[Z++&3]):ue<55296||ue>=57344?(L[Z>>2]|=(224|ue>>12)<<I[Z++&3],L[Z>>2]|=(128|ue>>6&63)<<I[Z++&3],L[Z>>2]|=(128|ue&63)<<I[Z++&3]):(ue=65536+((ue&1023)<<10|f.charCodeAt(++J)&1023),L[Z>>2]|=(240|ue>>18)<<I[Z++&3],L[Z>>2]|=(128|ue>>12&63)<<I[Z++&3],L[Z>>2]|=(128|ue>>6&63)<<I[Z++&3],L[Z>>2]|=(128|ue&63)<<I[Z++&3]);if(this.lastByteIndex=Z,Z>=W){for(this.start=Z-W,this.block=L[q],Z=0;Z<q;++Z)me[Z]^=L[Z];S(me),this.reset=!0}else this.start=Z}return this},c.prototype.encode=function(f,N){var R=f&255,L=1,W=[R];for(f=f>>8,R=f&255;R>0;)W.unshift(R),f=f>>8,R=f&255,++L;return N?W.push(L):W.unshift(L),this.update(W),W.length},c.prototype.encodeString=function(f){var N,R=typeof f;if(R!=="string"){if(R==="object"){if(f===null)throw new Error(e);if(l&&f.constructor===ArrayBuffer)f=new Uint8Array(f);else if(!Array.isArray(f)&&(!l||!ArrayBuffer.isView(f)))throw new Error(e)}else throw new Error(e);N=!0}var L=0,W=f.length;if(N)L=W;else for(var K=0;K<f.length;++K){var q=f.charCodeAt(K);q<128?L+=1:q<2048?L+=2:q<55296||q>=57344?L+=3:(q=65536+((q&1023)<<10|f.charCodeAt(++K)&1023),L+=4)}return L+=this.encode(L*8),this.update(f),L},c.prototype.bytepad=function(f,N){for(var R=this.encode(N),L=0;L<f.length;++L)R+=this.encodeString(f[L]);var W=N-R%N,K=[];return K.length=W,this.update(K),this},c.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var f=this.blocks,N=this.lastByteIndex,R=this.blockCount,L=this.s;if(f[N>>2]|=this.padding[N&3],this.lastByteIndex===this.byteCount)for(f[0]=f[R],N=1;N<R+1;++N)f[N]=0;for(f[R-1]|=2147483648,N=0;N<R;++N)L[N]^=f[N];S(L)}},c.prototype.toString=c.prototype.hex=function(){this.finalize();for(var f=this.blockCount,N=this.s,R=this.outputBlocks,L=this.extraBytes,W=0,K=0,q="",J;K<R;){for(W=0;W<f&&K<R;++W,++K)J=N[W],q+=u[J>>4&15]+u[J&15]+u[J>>12&15]+u[J>>8&15]+u[J>>20&15]+u[J>>16&15]+u[J>>28&15]+u[J>>24&15];K%f===0&&(S(N),W=0)}return L&&(J=N[W],q+=u[J>>4&15]+u[J&15],L>1&&(q+=u[J>>12&15]+u[J>>8&15]),L>2&&(q+=u[J>>20&15]+u[J>>16&15])),q},c.prototype.arrayBuffer=function(){this.finalize();var f=this.blockCount,N=this.s,R=this.outputBlocks,L=this.extraBytes,W=0,K=0,q=this.outputBits>>3,J;L?J=new ArrayBuffer(R+1<<2):J=new ArrayBuffer(q);for(var me=new Uint32Array(J);K<R;){for(W=0;W<f&&K<R;++W,++K)me[K]=N[W];K%f===0&&S(N)}return L&&(me[W]=N[W],J=J.slice(0,q)),J},c.prototype.buffer=c.prototype.arrayBuffer,c.prototype.digest=c.prototype.array=function(){this.finalize();for(var f=this.blockCount,N=this.s,R=this.outputBlocks,L=this.extraBytes,W=0,K=0,q=[],J,me;K<R;){for(W=0;W<f&&K<R;++W,++K)J=K<<2,me=N[W],q[J]=me&255,q[J+1]=me>>8&255,q[J+2]=me>>16&255,q[J+3]=me>>24&255;K%f===0&&S(N)}return L&&(J=K<<2,me=N[W],q[J]=me&255,L>1&&(q[J+1]=me>>8&255),L>2&&(q[J+2]=me>>16&255)),q};function m(f,N,R){c.call(this,f,N,R)}m.prototype=new c,m.prototype.finalize=function(){return this.encode(this.outputBits,!0),c.prototype.finalize.call(this)};var S=function(f){var N,R,L,W,K,q,J,me,Z,ue,br,ke,Ee,wt,Le,De,Vi,Fe,Ue,Ki,We,$e,Ji,ze,je,Qi,He,Ge,Yi,qe,Ve,Xi,Ke,Je,Zi,Qe,Ye,es,Xe,Ze,ts,et,tt,rs,rt,nt,ns,it,st,is,ot,at,ss,lt,ct,os,ut,ft,di,hi,pi,gi,mi;for(L=0;L<48;L+=2)W=f[0]^f[10]^f[20]^f[30]^f[40],K=f[1]^f[11]^f[21]^f[31]^f[41],q=f[2]^f[12]^f[22]^f[32]^f[42],J=f[3]^f[13]^f[23]^f[33]^f[43],me=f[4]^f[14]^f[24]^f[34]^f[44],Z=f[5]^f[15]^f[25]^f[35]^f[45],ue=f[6]^f[16]^f[26]^f[36]^f[46],br=f[7]^f[17]^f[27]^f[37]^f[47],ke=f[8]^f[18]^f[28]^f[38]^f[48],Ee=f[9]^f[19]^f[29]^f[39]^f[49],N=ke^(q<<1|J>>>31),R=Ee^(J<<1|q>>>31),f[0]^=N,f[1]^=R,f[10]^=N,f[11]^=R,f[20]^=N,f[21]^=R,f[30]^=N,f[31]^=R,f[40]^=N,f[41]^=R,N=W^(me<<1|Z>>>31),R=K^(Z<<1|me>>>31),f[2]^=N,f[3]^=R,f[12]^=N,f[13]^=R,f[22]^=N,f[23]^=R,f[32]^=N,f[33]^=R,f[42]^=N,f[43]^=R,N=q^(ue<<1|br>>>31),R=J^(br<<1|ue>>>31),f[4]^=N,f[5]^=R,f[14]^=N,f[15]^=R,f[24]^=N,f[25]^=R,f[34]^=N,f[35]^=R,f[44]^=N,f[45]^=R,N=me^(ke<<1|Ee>>>31),R=Z^(Ee<<1|ke>>>31),f[6]^=N,f[7]^=R,f[16]^=N,f[17]^=R,f[26]^=N,f[27]^=R,f[36]^=N,f[37]^=R,f[46]^=N,f[47]^=R,N=ue^(W<<1|K>>>31),R=br^(K<<1|W>>>31),f[8]^=N,f[9]^=R,f[18]^=N,f[19]^=R,f[28]^=N,f[29]^=R,f[38]^=N,f[39]^=R,f[48]^=N,f[49]^=R,wt=f[0],Le=f[1],nt=f[11]<<4|f[10]>>>28,ns=f[10]<<4|f[11]>>>28,Ge=f[20]<<3|f[21]>>>29,Yi=f[21]<<3|f[20]>>>29,hi=f[31]<<9|f[30]>>>23,pi=f[30]<<9|f[31]>>>23,et=f[40]<<18|f[41]>>>14,tt=f[41]<<18|f[40]>>>14,Je=f[2]<<1|f[3]>>>31,Zi=f[3]<<1|f[2]>>>31,De=f[13]<<12|f[12]>>>20,Vi=f[12]<<12|f[13]>>>20,it=f[22]<<10|f[23]>>>22,st=f[23]<<10|f[22]>>>22,qe=f[33]<<13|f[32]>>>19,Ve=f[32]<<13|f[33]>>>19,gi=f[42]<<2|f[43]>>>30,mi=f[43]<<2|f[42]>>>30,lt=f[5]<<30|f[4]>>>2,ct=f[4]<<30|f[5]>>>2,Qe=f[14]<<6|f[15]>>>26,Ye=f[15]<<6|f[14]>>>26,Fe=f[25]<<11|f[24]>>>21,Ue=f[24]<<11|f[25]>>>21,is=f[34]<<15|f[35]>>>17,ot=f[35]<<15|f[34]>>>17,Xi=f[45]<<29|f[44]>>>3,Ke=f[44]<<29|f[45]>>>3,ze=f[6]<<28|f[7]>>>4,je=f[7]<<28|f[6]>>>4,os=f[17]<<23|f[16]>>>9,ut=f[16]<<23|f[17]>>>9,es=f[26]<<25|f[27]>>>7,Xe=f[27]<<25|f[26]>>>7,Ki=f[36]<<21|f[37]>>>11,We=f[37]<<21|f[36]>>>11,at=f[47]<<24|f[46]>>>8,ss=f[46]<<24|f[47]>>>8,rs=f[8]<<27|f[9]>>>5,rt=f[9]<<27|f[8]>>>5,Qi=f[18]<<20|f[19]>>>12,He=f[19]<<20|f[18]>>>12,ft=f[29]<<7|f[28]>>>25,di=f[28]<<7|f[29]>>>25,Ze=f[38]<<8|f[39]>>>24,ts=f[39]<<8|f[38]>>>24,$e=f[48]<<14|f[49]>>>18,Ji=f[49]<<14|f[48]>>>18,f[0]=wt^~De&Fe,f[1]=Le^~Vi&Ue,f[10]=ze^~Qi&Ge,f[11]=je^~He&Yi,f[20]=Je^~Qe&es,f[21]=Zi^~Ye&Xe,f[30]=rs^~nt&it,f[31]=rt^~ns&st,f[40]=lt^~os&ft,f[41]=ct^~ut&di,f[2]=De^~Fe&Ki,f[3]=Vi^~Ue&We,f[12]=Qi^~Ge&qe,f[13]=He^~Yi&Ve,f[22]=Qe^~es&Ze,f[23]=Ye^~Xe&ts,f[32]=nt^~it&is,f[33]=ns^~st&ot,f[42]=os^~ft&hi,f[43]=ut^~di&pi,f[4]=Fe^~Ki&$e,f[5]=Ue^~We&Ji,f[14]=Ge^~qe&Xi,f[15]=Yi^~Ve&Ke,f[24]=es^~Ze&et,f[25]=Xe^~ts&tt,f[34]=it^~is&at,f[35]=st^~ot&ss,f[44]=ft^~hi&gi,f[45]=di^~pi&mi,f[6]=Ki^~$e&wt,f[7]=We^~Ji&Le,f[16]=qe^~Xi&ze,f[17]=Ve^~Ke&je,f[26]=Ze^~et&Je,f[27]=ts^~tt&Zi,f[36]=is^~at&rs,f[37]=ot^~ss&rt,f[46]=hi^~gi&lt,f[47]=pi^~mi&ct,f[8]=$e^~wt&De,f[9]=Ji^~Le&Vi,f[18]=Xi^~ze&Qi,f[19]=Ke^~je&He,f[28]=et^~Je&Qe,f[29]=tt^~Zi&Ye,f[38]=at^~rs&nt,f[39]=ss^~rt&ns,f[48]=gi^~lt&os,f[49]=mi^~ct&ut,f[0]^=P[L],f[1]^=P[L+1]};if(a)t.exports=d;else for(_=0;_<y.length;++_)i[y[_]]=d[y[_]]})()})(A6);const S6=d0;function pe(t){return"0x"+S6.keccak_256(V(t))}const _6="rlp/5.7.0",xn=new U(_6);function Nm(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Tm(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Wy(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Wy(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=Nm(n.length);return i.unshift(247+i.length),i.concat(n)}Ml(t)||xn.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(V(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=Nm(e.length);return r.unshift(183+r.length),r.concat(e)}function Ns(t){return Q(Wy(t))}function Pm(t,e,r,n){const i=[];for(;r<e+1+n;){const s=$y(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&xn.throwError("child data too short",U.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function $y(t,e){if(t.length===0&&xn.throwError("data too short",U.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&xn.throwError("data short segment too short",U.errors.BUFFER_OVERRUN,{});const n=Tm(t,e+1,r);return e+1+r+n>t.length&&xn.throwError("data long segment too short",U.errors.BUFFER_OVERRUN,{}),Pm(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&xn.throwError("data array too short",U.errors.BUFFER_OVERRUN,{}),Pm(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&xn.throwError("data array too short",U.errors.BUFFER_OVERRUN,{});const n=Tm(t,e+1,r);e+1+r+n>t.length&&xn.throwError("data array too short",U.errors.BUFFER_OVERRUN,{});const i=Q(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&xn.throwError("data too short",U.errors.BUFFER_OVERRUN,{});const n=Q(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Q(t[e])}}function Ju(t){const e=V(t),r=$y(e,0);return r.consumed!==e.length&&xn.throwArgumentError("invalid rlp data","data",t),r.result}const C6=Object.freeze(Object.defineProperty({__proto__:null,decode:Ju,encode:Ns},Symbol.toStringTag,{value:"Module"})),k6="address/5.7.0",Si=new U(k6);function Im(t){be(t,20)||Si.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=V(pe(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const N6=9007199254740991;function T6(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const ip={};for(let t=0;t<10;t++)ip[String(t)]=String(t);for(let t=0;t<26;t++)ip[String.fromCharCode(65+t)]=String(10+t);const Mm=Math.floor(T6(N6));function zy(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>ip[n]).join("");for(;e.length>=Mm;){let n=e.substring(0,Mm);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function oe(t){let e=null;if(typeof t!="string"&&Si.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=Im(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Si.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==zy(t)&&Si.throwArgumentError("bad icap checksum","address",t),e=f6(t.substring(4));e.length<40;)e="0"+e;e=Im("0x"+e)}else Si.throwArgumentError("invalid address","address",t);return e}function P6(t){try{return oe(t),!0}catch{}return!1}function I6(t){let e=d6(oe(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+zy("XE00"+e)+e}function sp(t){let e=null;try{e=oe(t.from)}catch{Si.throwArgumentError("missing from address","transaction",t)}const r=Mn(V($.from(t.nonce).toHexString()));return oe(Et(pe(Ns([e,r])),12))}function M6(t,e,r){return Dn(e)!==32&&Si.throwArgumentError("salt must be 32 bytes","salt",e),Dn(r)!==32&&Si.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),oe(Et(pe(Re(["0xff",oe(t),e,r])),12))}class R6 extends fi{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=oe(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return oe(Pe(e.readValue().toHexString(),20))}}class O6 extends fi{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const uo=new U(Ol);function jy(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let l={};n=e.map(u=>{const p=u.localName;return p||uo.throwError("cannot encode object for signature with missing names",U.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[p]&&uo.throwError("cannot encode object for signature with duplicate names",U.errors.INVALID_ARGUMENT,{argument:"values",coder:u,value:r}),l[p]=!0,r[p]})}else uo.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&uo.throwArgumentError("types/value length mismatch","tuple",r);let i=new f0(t.wordSize),s=new f0(t.wordSize),o=[];e.forEach((l,u)=>{let p=n[u];if(l.dynamic){let x=s.length;l.encode(s,p);let w=i.writeUpdatableValue();o.push(E=>{w(E+x)})}else l.encode(i,p)}),o.forEach(l=>{l(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function Hy(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),l=n.subReader(a.toNumber());try{o=s.decode(l)}catch(u){if(u.code===U.errors.BUFFER_OVERRUN)throw u;o=u,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===U.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const l=r[o];l instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw l}}):r[a]=l});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class B6 extends fi{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),uo.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return jy(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&uo.throwError("insufficient data length",U.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new O6(this.coder));return e.coerce(this.name,Hy(e,n))}}class L6 extends fi{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class Gy extends fi{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=V(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class D6 extends Gy{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Q(super.decode(e)))}}class F6 extends fi{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=V(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Q(e.readBytes(this.size)))}}class U6 extends fi{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const qy="0x0000000000000000000000000000000000000000",W6=$.from(-1),Be=$.from(0),$6=$.from(1),Qu=$.from(2),z6=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),op="0x0000000000000000000000000000000000000000000000000000000000000000";class j6 extends fi{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=$.from(r),i=z6.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add($6).mul(W6)))&&this._throwError("value out-of-bounds",r)}else(n.lt(Be)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}const H6="strings/5.7.0",Vy=new U(H6);var Un;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Un||(Un={}));var gr;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(gr||(gr={}));function G6(t,e,r,n,i){return Vy.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function Ky(t,e,r,n,i){if(t===gr.BAD_PREFIX||t===gr.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===gr.OVERRUN?r.length-e-1:0}function q6(t,e,r,n,i){return t===gr.OVERLONG?(n.push(i),0):(n.push(65533),Ky(t,e,r))}const Jy=Object.freeze({error:G6,ignore:Ky,replace:q6});function ap(t,e){e==null&&(e=Jy.error),t=V(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(gr.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(gr.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(gr.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=t[n];if((u&192)!=128){n+=e(gr.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(gr.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(gr.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(gr.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Ce(t,e=Un.current){e!=Un.current&&(Vy.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return V(r)}function nd(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function V6(t,e){return'"'+ap(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?nd(r):(r-=65536,nd((r>>10&1023)+55296)+nd((r&1023)+56320))}).join("")+'"'}function h0(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Hi(t,e){return h0(ap(t,e))}function uu(t,e=Un.current){return ap(Ce(t,e))}function K6(t){const e=Ce(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Q(Re([e,op]).slice(0,32))}function J6(t){const e=V(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return Hi(e.slice(0,r))}function Q6(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function lp(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function Qy(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function cp(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const Y6=Qy("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),X6="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Z6=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],e4=lp("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),t4=lp("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),r4=lp("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Q6),n4=Qy("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function i4(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function s4(t){return!!cp(t,Y6)}function o4(t){let e=cp(t,Z6);if(e)return[t+e.s];let r=e4[t];if(r)return r;let n=t4[t];if(n)return[t+n[0]];let i=r4[t];return i||null}function a4(t){return!!cp(t,n4)}function l4(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=uu(t);e=i4(e.map(n=>{if(X6.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=o4(n);return i||[n]})),e=uu(h0(e),Un.NFKC),e.forEach(n=>{if(a4(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(s4(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=h0(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}class c4 extends Gy{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Ce(r))}decode(e){return Hi(super.decode(e))}}class oc extends fi{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return jy(e,this.coders,r)}decode(e){return e.coerce(this.name,Hy(e,this.coders))}}const ac=new U(Ol),u4=new RegExp(/^bytes([0-9]*)$/),f4=new RegExp(/^(u?int)([0-9]*)$/);class Yy{constructor(e){H(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new R6(e.name);case"bool":return new L6(e.name);case"string":return new c4(e.name);case"bytes":return new D6(e.name);case"array":return new B6(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new oc((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new U6(e.name)}let r=e.type.match(f4);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&ac.throwArgumentError("invalid "+r[1]+" bit length","param",e),new j6(n/8,r[1]==="int",e.name)}if(r=e.type.match(u4),r){let n=parseInt(r[1]);return(n===0||n>32)&&ac.throwArgumentError("invalid bytes length","param",e),new F6(n,e.name)}return ac.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new cu(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new f0(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Bt.from(i)));return new oc(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&ac.throwError("types/values length mismatch",U.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Bt.from(o))),i=new oc(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Bt.from(o)));return new oc(i,"_").decode(this._getReader(V(r),n))}}const dn=new Yy;function _i(t){return pe(Ce(t))}const Xy="hash/5.7.0";function up(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return V(e)}function fp(t){t=V(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const d4=Object.freeze(Object.defineProperty({__proto__:null,decode:up,encode:fp},Symbol.toStringTag,{value:"Module"}));function Zy(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function h4(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function p4(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let D=1;D<n;D++)s.push(i+=r());let o=r(),a=e;e+=o;let l=0,u=0;function p(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const x=31,w=Math.pow(2,x),E=w>>>1,I=E>>1,P=w-1;let b=0;for(let D=0;D<x;D++)b=b<<1|p();let A=[],k=0,B=w;for(;;){let D=Math.floor(((b-k+1)*i-1)/B),F=0,j=n;for(;j-F>1;){let X=F+j>>>1;D<s[X]?j=X:F=X}if(F==0)break;A.push(F);let G=k+Math.floor(B*s[F]/i),z=k+Math.floor(B*s[F+1]/i)-1;for(;!((G^z)&E);)b=b<<1&P|p(),G=G<<1&P,z=z<<1&P|1;for(;G&~z&I;)b=b&E|b<<1&P>>>1|p(),G=G<<1^E,z=(z^E)<<1|E|1;k=G,B=1+z-G}let O=n-4;return A.map(D=>{switch(D-O){case 3:return O+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return O+256+(t[a++]<<8|t[a++]);case 1:return O+t[a++];default:return D-1}})}function g4(t){let e=0;return()=>t[e++]}function m4(t){return g4(p4(t))}function x4(t){return t&1?~t>>1:t>>1}function y4(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function Rm(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function w4(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=x4(e());return r}function fu(t,e){let r=Rm(t(),t),n=t(),i=Rm(n,t),s=y4(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function b4(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(E4(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(A4(r,t))}return h4(Zy(e))}function v4(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function ew(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)w4(t,r).forEach((s,o)=>n[o].push(s));return n}function E4(t,e){let r=1+e(),n=e(),i=v4(e),s=ew(i.length,1+t,e);return Zy(s.map((o,a)=>{const l=o[0],u=o.slice(1);return Array(i[a]).fill(void 0).map((p,x)=>{let w=x*n;return[l+x*r,u.map(E=>E+w)]})}))}function A4(t,e){let r=1+e();return ew(r,1+t,e).map(i=>[i[0],i.slice(1)])}function S4(t){let e=fu(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=fu(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,p)=>p.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,l=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:l}}}function _4(){return m4(up("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Yu=_4(),C4=new Set(fu(Yu)),k4=new Set(fu(Yu)),N4=b4(Yu),T4=S4(Yu),Om=45,Bm=95;function tw(t){return uu(t)}function P4(t){return t.filter(e=>e!=65039)}function rw(t){for(let e of t.split(".")){let r=tw(e);try{for(let n=r.lastIndexOf(Bm)-1;n>=0;n--)if(r[n]!==Bm)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===Om&&r[3]===Om)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function I4(t){return rw(M4(t,P4))}function M4(t,e){let r=tw(t).reverse(),n=[];for(;r.length;){let i=O4(r);if(i){n.push(...e(i));continue}let s=r.pop();if(C4.has(s)){n.push(s);continue}if(k4.has(s))continue;let o=N4[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return rw(R4(String.fromCodePoint(...n)))}function R4(t){return t.normalize("NFC")}function O4(t,e){var r;let n=T4,i,s,o=[],a=t.length;for(e&&(e.length=0);a;){let l=t[--a];if(n=(r=n.branches.find(u=>u.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;o.push(l),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),e&&e.push(...t.slice(a).reverse()),t.length=a)}return i}const B4=new U(Xy),nw=new Uint8Array(32);nw.fill(0);function Lm(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function dp(t){const e=Ce(I4(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(Lm(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(Lm(e.slice(n))),r}function L4(t){try{return dp(t).length!==0}catch{}return!1}function Va(t){typeof t!="string"&&B4.throwArgumentError("invalid ENS name; not a string","name",t);let e=nw;const r=dp(t);for(;r.length;)e=pe(Re([e,pe(r.pop())]));return Q(e)}function iw(t){return Q(Re(dp(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const D4=`Ethereum Signed Message:
`;function hp(t){return typeof t=="string"&&(t=Ce(t)),pe(Re([Ce(D4),Ce(String(t.length)),t]))}var F4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const yt=new U(Xy),sw=new Uint8Array(32);sw.fill(0);const U4=$.from(-1),ow=$.from(0),aw=$.from(1),W4=$.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $4(t){const e=V(t),r=e.length%32;return r?sr([e,sw.slice(r)]):Q(e)}const z4=Pe(aw.toHexString(),32),j4=Pe(ow.toHexString(),32),Dm={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},id=["name","version","chainId","verifyingContract","salt"];function Fm(t){return function(e){return typeof e!="string"&&yt.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const H4={name:Fm("name"),version:Fm("version"),chainId:function(t){try{return $.from(t).toString()}catch{}return yt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return oe(t).toLowerCase()}catch{}return yt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=V(t);if(e.length!==32)throw new Error("bad length");return Q(e)}catch{}return yt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function sd(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&yt.throwArgumentError("invalid numeric width","type",t);const i=W4.mask(r?n-1:n),s=r?i.add(aw).mul(U4):ow;return function(o){const a=$.from(o);return(a.lt(s)||a.gt(i))&&yt.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Pe(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&yt.throwArgumentError("invalid bytes width","type",t),function(n){return V(n).length!==r&&yt.throwArgumentError(`invalid length for ${t}`,"value",n),$4(n)}}}switch(t){case"address":return function(e){return Pe(oe(e),32)};case"bool":return function(e){return e?z4:j4};case"bytes":return function(e){return pe(e)};case"string":return function(e){return _i(e)}}return null}function Um(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Tt{constructor(e){H(this,"types",Object.freeze(Fn(e))),H(this,"_encoderCache",{}),H(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const l={};e[a].forEach(u=>{l[u.name]&&yt.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(a)}`,"types",e),l[u.name]=!0;const p=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];p===a&&yt.throwArgumentError(`circular type reference to ${JSON.stringify(p)}`,"types",e),!sd(p)&&(n[p]||yt.throwArgumentError(`unknown type ${JSON.stringify(p)}`,"types",e),n[p].push(a),r[a][p]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?yt.throwArgumentError("missing primary type","types",e):s.length>1&&yt.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),H(this,"primaryType",s[0]);function o(a,l){l[a]&&yt.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),l[a]=!0,Object.keys(r[a]).forEach(u=>{n[u]&&(o(u,l),Object.keys(l).forEach(p=>{i[p][u]=!0}))}),delete l[a]}o(this.primaryType,{});for(const a in i){const l=Object.keys(i[a]);l.sort(),this._types[a]=Um(a,e[a])+l.map(u=>Um(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=sd(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&yt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let l=a.map(s);return this._types[i]&&(l=l.map(pe)),pe(sr(l))}}const n=this.types[e];if(n){const i=_i(this._types[e]);return s=>{const o=n.map(({name:a,type:l})=>{const u=this.getEncoder(l)(s[a]);return this._types[l]?pe(u):u});return o.unshift(i),sr(o)}}return yt.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||yt.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return pe(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(sd(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&yt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(o,l,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:l})=>(o[a]=this._visit(l,r[a],n),o),{}):yt.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Tt(e)}static getPrimaryType(e){return Tt.from(e).primaryType}static hashStruct(e,r,n){return Tt.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=Dm[n];i||yt.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>id.indexOf(n.name)-id.indexOf(i.name)),Tt.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return sr(["0x1901",Tt.hashDomain(e),Tt.from(r).hash(n)])}static hash(e,r,n){return pe(Tt.encode(e,r,n))}static resolveNames(e,r,n,i){return F4(this,void 0,void 0,function*(){e=It(e);const s={};e.verifyingContract&&!be(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Tt.from(r);o.visit(n,(a,l)=>(a==="address"&&!be(l,20)&&(s[l]="0x"),l));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,l)=>a==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){Tt.hashDomain(e);const i={},s=[];id.forEach(l=>{const u=e[l];u!=null&&(i[l]=H4[l](u),s.push({name:l,type:Dm[l]}))});const o=Tt.from(r),a=It(r);return a.EIP712Domain?yt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return Q(V(u));if(l.match(/^u?int/))return $.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&yt.throwArgumentError("invalid string","value",u),u}return yt.throwArgumentError("unsupported type","type",l)})}}}const xt=new U(Ol);class lw extends Ds{}class cw extends Ds{}class G4 extends Ds{}class du extends Ds{static isIndexed(e){return!!(e&&e._isIndexed)}}const q4={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function Wm(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class St{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,H(this,"fragments",r.map(n=>_n.from(n)).filter(n=>n!=null)),H(this,"_abiCoder",cn(new.target,"getAbiCoder")()),H(this,"functions",{}),H(this,"errors",{}),H(this,"events",{}),H(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){xt.warn("duplicate definition - constructor");return}H(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){xt.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||H(this,"deploy",on.from({payable:!1,type:"constructor"})),H(this,"_isInterface",!0)}format(e){e||(e=Se.full),e===Se.sighash&&xt.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===Se.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return dn}static getAddress(e){return oe(e)}static getSighash(e){return Et(_i(e.format()),0,4)}static getEventTopic(e){return _i(e.format())}getFunction(e){if(be(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];xt.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?xt.throwArgumentError("no matching function","name",n):i.length>1&&xt.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[an.fromString(e).format()];return r||xt.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(be(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];xt.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?xt.throwArgumentError("no matching event","name",n):i.length>1&&xt.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[bn.fromString(e).format()];return r||xt.throwArgumentError("no matching event","signature",e),r}getError(e){if(be(e)){const n=cn(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}xt.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?xt.throwArgumentError("no matching error","name",n):i.length>1&&xt.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[an.fromString(e).format()];return r||xt.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return cn(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),cn(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=V(r);return Q(n.slice(0,4))!==this.getSighash(e)&&xt.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Q(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Q(Re([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=V(r);return Q(n.slice(0,4))!==this.getSighash(e)&&xt.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Q(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Q(Re([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=V(r),i=null,s="",o=null,a=null,l=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const u=Q(n.slice(0,4)),p=q4[u];if(p)o=this._abiCoder.decode(p.inputs,n.slice(4)),a=p.name,l=p.signature,p.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const x=this.getError(u);o=this._abiCoder.decode(x.inputs,n.slice(4)),a=x.name,l=x.format()}catch{}break}}return xt.throwError("call revert exception"+s,U.errors.CALL_EXCEPTION,{method:e.format(),data:Q(r),errorArgs:o,errorName:a,errorSignature:l,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Q(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&xt.throwError("too many arguments for "+e.format(),U.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?_i(o):s.type==="bytes"?pe(Q(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=$.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Pe(Q(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&xt.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?xt.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(l=>i(a,l))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&xt.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const l=r[a];if(o.indexed)if(o.type==="string")n.push(_i(l));else if(o.type==="bytes")n.push(pe(l));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[l]))}else i.push(o),s.push(l)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let w=this.getEventTopic(e);(!be(n[0],32)||n[0].toLowerCase()!==w)&&xt.throwError("fragment/topic mismatch",U.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:w,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((w,E)=>{w.indexed?w.type==="string"||w.type==="bytes"||w.baseType==="tuple"||w.baseType==="array"?(i.push(Bt.fromObject({type:"bytes32",name:w.name})),o.push(!0)):(i.push(w),o.push(!1)):(s.push(w),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Re(n)):null,l=this._abiCoder.decode(s,r,!0),u=[],p=0,x=0;e.inputs.forEach((w,E)=>{if(w.indexed)if(a==null)u[E]=new du({_isIndexed:!0,hash:null});else if(o[E])u[E]=new du({_isIndexed:!0,hash:a[x++]});else try{u[E]=a[x++]}catch(I){u[E]=I}else try{u[E]=l[p++]}catch(I){u[E]=I}if(w.name&&u[w.name]==null){const I=u[E];I instanceof Error?Object.defineProperty(u,w.name,{enumerable:!0,get:()=>{throw Wm(`property ${JSON.stringify(w.name)}`,I)}}):u[w.name]=I}});for(let w=0;w<u.length;w++){const E=u[w];E instanceof Error&&Object.defineProperty(u,w,{enumerable:!0,get:()=>{throw Wm(`index ${w}`,E)}})}return Object.freeze(u)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new cw({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:$.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new lw({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Q(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new G4({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const V4="abstract-provider/5.7.0";var K4=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const J4=new U(V4);class Q4 extends Ds{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Gi{constructor(){J4.checkAbstract(new.target,Gi),H(this,"_isProvider",!0)}getFeeData(){return K4(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield pt({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=$.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const Y4="abstract-signer/5.7.0";var Xr=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Mr=new U(Y4),X4=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Z4=[U.errors.INSUFFICIENT_FUNDS,U.errors.NONCE_EXPIRED,U.errors.REPLACEMENT_UNDERPRICED];let Gr=class uw{constructor(){Mr.checkAbstract(new.target,uw),H(this,"_isSigner",!0)}getBalance(e){return Xr(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Xr(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Xr(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield pt(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Xr(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield pt(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Xr(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Xr(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Xr(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Xr(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Xr(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)X4.indexOf(n)===-1&&Mr.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=It(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&Mr.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Xr(this,void 0,void 0,function*(){const r=yield pt(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Xr(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&Mr.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?Mr.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&Mr.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&Mr.throwError("network does not support EIP-1559",U.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):Mr.throwError("failed to get consistent fee data",U.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(Z4.indexOf(i.code)>=0)throw i;return Mr.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",U.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&Mr.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield pt(r)})}_checkProvider(e){this.provider||Mr.throwError("missing provider",U.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}};class pp extends Gr{constructor(e,r){super(),H(this,"address",e),H(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{Mr.throwError(e,U.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new pp(this.address,e)}}var fw={},ve={},Bl=dw;function dw(t,e){if(!t)throw new Error(e||"Assertion failed")}dw.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var p0={},$m={get exports(){return p0},set exports(t){p0=t}};typeof Object.create=="function"?$m.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:$m.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var e5=Bl,t5=p0;ve.inherits=t5;function r5(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function n5(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):r5(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}ve.toArray=n5;function i5(t){for(var e="",r=0;r<t.length;r++)e+=pw(t[r].toString(16));return e}ve.toHex=i5;function hw(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}ve.htonl=hw;function s5(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=hw(i)),r+=gw(i.toString(16))}return r}ve.toHex32=s5;function pw(t){return t.length===1?"0"+t:t}ve.zero2=pw;function gw(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}ve.zero8=gw;function o5(t,e,r,n){var i=r-e;e5(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var l;n==="big"?l=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:l=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=l>>>0}return s}ve.join32=o5;function a5(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}ve.split32=a5;function l5(t,e){return t>>>e|t<<32-e}ve.rotr32=l5;function c5(t,e){return t<<e|t>>>32-e}ve.rotl32=c5;function u5(t,e){return t+e>>>0}ve.sum32=u5;function f5(t,e,r){return t+e+r>>>0}ve.sum32_3=f5;function d5(t,e,r,n){return t+e+r+n>>>0}ve.sum32_4=d5;function h5(t,e,r,n,i){return t+e+r+n+i>>>0}ve.sum32_5=h5;function p5(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}ve.sum64=p5;function g5(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}ve.sum64_hi=g5;function m5(t,e,r,n){var i=e+n;return i>>>0}ve.sum64_lo=m5;function x5(t,e,r,n,i,s,o,a){var l=0,u=e;u=u+n>>>0,l+=u<e?1:0,u=u+s>>>0,l+=u<s?1:0,u=u+a>>>0,l+=u<a?1:0;var p=t+r+i+o+l;return p>>>0}ve.sum64_4_hi=x5;function y5(t,e,r,n,i,s,o,a){var l=e+n+s+a;return l>>>0}ve.sum64_4_lo=y5;function w5(t,e,r,n,i,s,o,a,l,u){var p=0,x=e;x=x+n>>>0,p+=x<e?1:0,x=x+s>>>0,p+=x<s?1:0,x=x+a>>>0,p+=x<a?1:0,x=x+u>>>0,p+=x<u?1:0;var w=t+r+i+o+l+p;return w>>>0}ve.sum64_5_hi=w5;function b5(t,e,r,n,i,s,o,a,l,u){var p=e+n+s+a+u;return p>>>0}ve.sum64_5_lo=b5;function v5(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}ve.rotr64_hi=v5;function E5(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ve.rotr64_lo=E5;function A5(t,e,r){return t>>>r}ve.shr64_hi=A5;function S5(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}ve.shr64_lo=S5;var Qo={},zm=ve,_5=Bl;function Xu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Qo.BlockHash=Xu;Xu.prototype.update=function(e,r){if(e=zm.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=zm.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Xu.prototype.digest=function(e){return this.update(this._pad()),_5(this.pending===null),this._digest(e)};Xu.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Yo={},Hn={},C5=ve,Rn=C5.rotr32;function k5(t,e,r,n){if(t===0)return mw(e,r,n);if(t===1||t===3)return yw(e,r,n);if(t===2)return xw(e,r,n)}Hn.ft_1=k5;function mw(t,e,r){return t&e^~t&r}Hn.ch32=mw;function xw(t,e,r){return t&e^t&r^e&r}Hn.maj32=xw;function yw(t,e,r){return t^e^r}Hn.p32=yw;function N5(t){return Rn(t,2)^Rn(t,13)^Rn(t,22)}Hn.s0_256=N5;function T5(t){return Rn(t,6)^Rn(t,11)^Rn(t,25)}Hn.s1_256=T5;function P5(t){return Rn(t,7)^Rn(t,18)^t>>>3}Hn.g0_256=P5;function I5(t){return Rn(t,17)^Rn(t,19)^t>>>10}Hn.g1_256=I5;var Mo=ve,M5=Qo,R5=Hn,od=Mo.rotl32,xa=Mo.sum32,O5=Mo.sum32_5,B5=R5.ft_1,ww=M5.BlockHash,L5=[1518500249,1859775393,2400959708,3395469782];function Wn(){if(!(this instanceof Wn))return new Wn;ww.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Mo.inherits(Wn,ww);var D5=Wn;Wn.blockSize=512;Wn.outSize=160;Wn.hmacStrength=80;Wn.padLength=64;Wn.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=od(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4];for(i=0;i<n.length;i++){var p=~~(i/20),x=O5(od(s,5),B5(p,o,a,l),u,n[i],L5[p]);u=l,l=a,a=od(o,30),o=s,s=x}this.h[0]=xa(this.h[0],s),this.h[1]=xa(this.h[1],o),this.h[2]=xa(this.h[2],a),this.h[3]=xa(this.h[3],l),this.h[4]=xa(this.h[4],u)};Wn.prototype._digest=function(e){return e==="hex"?Mo.toHex32(this.h,"big"):Mo.split32(this.h,"big")};var Ro=ve,F5=Qo,Xo=Hn,U5=Bl,Zr=Ro.sum32,W5=Ro.sum32_4,$5=Ro.sum32_5,z5=Xo.ch32,j5=Xo.maj32,H5=Xo.s0_256,G5=Xo.s1_256,q5=Xo.g0_256,V5=Xo.g1_256,bw=F5.BlockHash,K5=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function $n(){if(!(this instanceof $n))return new $n;bw.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=K5,this.W=new Array(64)}Ro.inherits($n,bw);var vw=$n;$n.blockSize=512;$n.outSize=256;$n.hmacStrength=192;$n.padLength=64;$n.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=W5(V5(n[i-2]),n[i-7],q5(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],u=this.h[4],p=this.h[5],x=this.h[6],w=this.h[7];for(U5(this.k.length===n.length),i=0;i<n.length;i++){var E=$5(w,G5(u),z5(u,p,x),this.k[i],n[i]),I=Zr(H5(s),j5(s,o,a));w=x,x=p,p=u,u=Zr(l,E),l=a,a=o,o=s,s=Zr(E,I)}this.h[0]=Zr(this.h[0],s),this.h[1]=Zr(this.h[1],o),this.h[2]=Zr(this.h[2],a),this.h[3]=Zr(this.h[3],l),this.h[4]=Zr(this.h[4],u),this.h[5]=Zr(this.h[5],p),this.h[6]=Zr(this.h[6],x),this.h[7]=Zr(this.h[7],w)};$n.prototype._digest=function(e){return e==="hex"?Ro.toHex32(this.h,"big"):Ro.split32(this.h,"big")};var g0=ve,Ew=vw;function ni(){if(!(this instanceof ni))return new ni;Ew.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g0.inherits(ni,Ew);var J5=ni;ni.blockSize=512;ni.outSize=224;ni.hmacStrength=192;ni.padLength=64;ni.prototype._digest=function(e){return e==="hex"?g0.toHex32(this.h.slice(0,7),"big"):g0.split32(this.h.slice(0,7),"big")};var wr=ve,Q5=Qo,Y5=Bl,On=wr.rotr64_hi,Bn=wr.rotr64_lo,Aw=wr.shr64_hi,Sw=wr.shr64_lo,xi=wr.sum64,ad=wr.sum64_hi,ld=wr.sum64_lo,X5=wr.sum64_4_hi,Z5=wr.sum64_4_lo,e8=wr.sum64_5_hi,t8=wr.sum64_5_lo,_w=Q5.BlockHash,r8=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function hn(){if(!(this instanceof hn))return new hn;_w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=r8,this.W=new Array(160)}wr.inherits(hn,_w);var Cw=hn;hn.blockSize=1024;hn.outSize=512;hn.hmacStrength=192;hn.padLength=128;hn.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=h8(n[i-4],n[i-3]),o=p8(n[i-4],n[i-3]),a=n[i-14],l=n[i-13],u=f8(n[i-30],n[i-29]),p=d8(n[i-30],n[i-29]),x=n[i-32],w=n[i-31];n[i]=X5(s,o,a,l,u,p,x,w),n[i+1]=Z5(s,o,a,l,u,p,x,w)}};hn.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],l=this.h[4],u=this.h[5],p=this.h[6],x=this.h[7],w=this.h[8],E=this.h[9],I=this.h[10],P=this.h[11],b=this.h[12],A=this.h[13],k=this.h[14],B=this.h[15];Y5(this.k.length===n.length);for(var O=0;O<n.length;O+=2){var D=k,F=B,j=c8(w,E),G=u8(w,E),z=n8(w,E,I,P,b),X=i8(w,E,I,P,b,A),ee=this.k[O],ae=this.k[O+1],M=n[O],d=n[O+1],y=e8(D,F,j,G,z,X,ee,ae,M,d),_=t8(D,F,j,G,z,X,ee,ae,M,d);D=a8(i,s),F=l8(i,s),j=s8(i,s,o,a,l),G=o8(i,s,o,a,l,u);var T=ad(D,F,j,G),g=ld(D,F,j,G);k=b,B=A,b=I,A=P,I=w,P=E,w=ad(p,x,y,_),E=ld(x,x,y,_),p=l,x=u,l=o,u=a,o=i,a=s,i=ad(y,_,T,g),s=ld(y,_,T,g)}xi(this.h,0,i,s),xi(this.h,2,o,a),xi(this.h,4,l,u),xi(this.h,6,p,x),xi(this.h,8,w,E),xi(this.h,10,I,P),xi(this.h,12,b,A),xi(this.h,14,k,B)};hn.prototype._digest=function(e){return e==="hex"?wr.toHex32(this.h,"big"):wr.split32(this.h,"big")};function n8(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function i8(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function s8(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function o8(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function a8(t,e){var r=On(t,e,28),n=On(e,t,2),i=On(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function l8(t,e){var r=Bn(t,e,28),n=Bn(e,t,2),i=Bn(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function c8(t,e){var r=On(t,e,14),n=On(t,e,18),i=On(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function u8(t,e){var r=Bn(t,e,14),n=Bn(t,e,18),i=Bn(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function f8(t,e){var r=On(t,e,1),n=On(t,e,8),i=Aw(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function d8(t,e){var r=Bn(t,e,1),n=Bn(t,e,8),i=Sw(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function h8(t,e){var r=On(t,e,19),n=On(e,t,29),i=Aw(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function p8(t,e){var r=Bn(t,e,19),n=Bn(e,t,29),i=Sw(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var m0=ve,kw=Cw;function ii(){if(!(this instanceof ii))return new ii;kw.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}m0.inherits(ii,kw);var g8=ii;ii.blockSize=1024;ii.outSize=384;ii.hmacStrength=192;ii.padLength=128;ii.prototype._digest=function(e){return e==="hex"?m0.toHex32(this.h.slice(0,12),"big"):m0.split32(this.h.slice(0,12),"big")};Yo.sha1=D5;Yo.sha224=J5;Yo.sha256=vw;Yo.sha384=g8;Yo.sha512=Cw;var Nw={},Ts=ve,m8=Qo,lc=Ts.rotl32,jm=Ts.sum32,ya=Ts.sum32_3,Hm=Ts.sum32_4,Tw=m8.BlockHash;function zn(){if(!(this instanceof zn))return new zn;Tw.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ts.inherits(zn,Tw);Nw.ripemd160=zn;zn.blockSize=512;zn.outSize=160;zn.hmacStrength=192;zn.padLength=64;zn.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],l=n,u=i,p=s,x=o,w=a,E=0;E<80;E++){var I=jm(lc(Hm(n,Gm(E,i,s,o),e[w8[E]+r],x8(E)),v8[E]),a);n=a,a=o,o=lc(s,10),s=i,i=I,I=jm(lc(Hm(l,Gm(79-E,u,p,x),e[b8[E]+r],y8(E)),E8[E]),w),l=w,w=x,x=lc(p,10),p=u,u=I}I=ya(this.h[1],s,x),this.h[1]=ya(this.h[2],o,w),this.h[2]=ya(this.h[3],a,l),this.h[3]=ya(this.h[4],n,u),this.h[4]=ya(this.h[0],i,p),this.h[0]=I};zn.prototype._digest=function(e){return e==="hex"?Ts.toHex32(this.h,"little"):Ts.split32(this.h,"little")};function Gm(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function x8(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function y8(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var w8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b8=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],v8=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],E8=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],A8=ve,S8=Bl;function Oo(t,e,r){if(!(this instanceof Oo))return new Oo(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(A8.toArray(e,r))}var _8=Oo;Oo.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),S8(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Oo.prototype.update=function(e,r){return this.inner.update(e,r),this};Oo.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=ve,e.common=Qo,e.sha=Yo,e.ripemd=Nw,e.hmac=_8,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(fw);const hr=fw;function Zo(t,e,r){return r={path:e,exports:{},require:function(n,i){return C8(n,i??r.path)}},t(r,r.exports),r.exports}function C8(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var gp=Pw;function Pw(t,e){if(!t)throw new Error(e||"Assertion failed")}Pw.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var un=Zo(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var l=[];if(typeof o!="string"){for(var u=0;u<o.length;u++)l[u]=o[u]|0;return l}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var u=0;u<o.length;u+=2)l.push(parseInt(o[u]+o[u+1],16))}else for(var u=0;u<o.length;u++){var p=o.charCodeAt(u),x=p>>8,w=p&255;x?l.push(x,w):l.push(w)}return l}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",l=0;l<o.length;l++)a+=i(o[l].toString(16));return a}r.toHex=s,r.encode=function(a,l){return l==="hex"?s(a):a}}),Nr=Zo(function(t,e){var r=e;r.assert=gp,r.toArray=un.toArray,r.zero2=un.zero2,r.toHex=un.toHex,r.encode=un.encode;function n(l,u,p){var x=new Array(Math.max(l.bitLength(),p)+1);x.fill(0);for(var w=1<<u+1,E=l.clone(),I=0;I<x.length;I++){var P,b=E.andln(w-1);E.isOdd()?(b>(w>>1)-1?P=(w>>1)-b:P=b,E.isubn(P)):P=0,x[I]=P,E.iushrn(1)}return x}r.getNAF=n;function i(l,u){var p=[[],[]];l=l.clone(),u=u.clone();for(var x=0,w=0,E;l.cmpn(-x)>0||u.cmpn(-w)>0;){var I=l.andln(3)+x&3,P=u.andln(3)+w&3;I===3&&(I=-1),P===3&&(P=-1);var b;I&1?(E=l.andln(7)+x&7,(E===3||E===5)&&P===2?b=-I:b=I):b=0,p[0].push(b);var A;P&1?(E=u.andln(7)+w&7,(E===3||E===5)&&I===2?A=-P:A=P):A=0,p[1].push(A),2*x===b+1&&(x=1-x),2*w===A+1&&(w=1-w),l.iushrn(1),u.iushrn(1)}return p}r.getJSF=i;function s(l,u,p){var x="_"+u;l.prototype[u]=function(){return this[x]!==void 0?this[x]:this[x]=p.call(this)}}r.cachedProperty=s;function o(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=o;function a(l){return new he(l,"hex","le")}r.intFromLE=a}),hu=Nr.getNAF,k8=Nr.getJSF,pu=Nr.assert;function qi(t,e){this.type=t,this.p=new he(e.p,16),this.red=e.prime?he.red(e.prime):he.mont(this.p),this.zero=new he(0).toRed(this.red),this.one=new he(1).toRed(this.red),this.two=new he(2).toRed(this.red),this.n=e.n&&new he(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Fs=qi;qi.prototype.point=function(){throw new Error("Not implemented")};qi.prototype.validate=function(){throw new Error("Not implemented")};qi.prototype._fixedNafMul=function(e,r){pu(e.precomputed);var n=e._getDoubles(),i=hu(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,l;for(a=0;a<i.length;a+=n.step){l=0;for(var u=a+n.step-1;u>=a;u--)l=(l<<1)+i[u];o.push(l)}for(var p=this.jpoint(null,null,null),x=this.jpoint(null,null,null),w=s;w>0;w--){for(a=0;a<o.length;a++)l=o[a],l===w?x=x.mixedAdd(n.points[a]):l===-w&&(x=x.mixedAdd(n.points[a].neg()));p=p.add(x)}return p.toP()};qi.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=hu(r,n,this._bitLength),a=this.jpoint(null,null,null),l=o.length-1;l>=0;l--){for(var u=0;l>=0&&o[l]===0;l--)u++;if(l>=0&&u++,a=a.dblp(u),l<0)break;var p=o[l];pu(p!==0),e.type==="affine"?p>0?a=a.mixedAdd(s[p-1>>1]):a=a.mixedAdd(s[-p-1>>1].neg()):p>0?a=a.add(s[p-1>>1]):a=a.add(s[-p-1>>1].neg())}return e.type==="affine"?a.toP():a};qi.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,l=this._wnafT3,u=0,p,x,w;for(p=0;p<i;p++){w=r[p];var E=w._getNAFPoints(e);o[p]=E.wnd,a[p]=E.points}for(p=i-1;p>=1;p-=2){var I=p-1,P=p;if(o[I]!==1||o[P]!==1){l[I]=hu(n[I],o[I],this._bitLength),l[P]=hu(n[P],o[P],this._bitLength),u=Math.max(l[I].length,u),u=Math.max(l[P].length,u);continue}var b=[r[I],null,null,r[P]];r[I].y.cmp(r[P].y)===0?(b[1]=r[I].add(r[P]),b[2]=r[I].toJ().mixedAdd(r[P].neg())):r[I].y.cmp(r[P].y.redNeg())===0?(b[1]=r[I].toJ().mixedAdd(r[P]),b[2]=r[I].add(r[P].neg())):(b[1]=r[I].toJ().mixedAdd(r[P]),b[2]=r[I].toJ().mixedAdd(r[P].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],k=k8(n[I],n[P]);for(u=Math.max(k[0].length,u),l[I]=new Array(u),l[P]=new Array(u),x=0;x<u;x++){var B=k[0][x]|0,O=k[1][x]|0;l[I][x]=A[(B+1)*3+(O+1)],l[P][x]=0,a[I]=b}}var D=this.jpoint(null,null,null),F=this._wnafT4;for(p=u;p>=0;p--){for(var j=0;p>=0;){var G=!0;for(x=0;x<i;x++)F[x]=l[x][p]|0,F[x]!==0&&(G=!1);if(!G)break;j++,p--}if(p>=0&&j++,D=D.dblp(j),p<0)break;for(x=0;x<i;x++){var z=F[x];z!==0&&(z>0?w=a[x][z-1>>1]:z<0&&(w=a[x][-z-1>>1].neg()),w.type==="affine"?D=D.mixedAdd(w):D=D.add(w))}}for(p=0;p<i;p++)a[p]=null;return s?D:D.toP()};function Kr(t,e){this.curve=t,this.type=e,this.precomputed=null}qi.BasePoint=Kr;Kr.prototype.eq=function(){throw new Error("Not implemented")};Kr.prototype.validate=function(){return this.curve.validate(this)};qi.prototype.decodePoint=function(e,r){e=Nr.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?pu(e[e.length-1]%2===0):e[0]===7&&pu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Kr.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Kr.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Kr.prototype.encode=function(e,r){return Nr.encode(this._encode(r),e)};Kr.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Kr.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Kr.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Kr.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Kr.prototype._getBeta=function(){return null};Kr.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var mp=Zo(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),N8=Nr.assert;function Jr(t){Fs.call(this,"short",t),this.a=new he(t.a,16).toRed(this.red),this.b=new he(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}mp(Jr,Fs);var T8=Jr;Jr.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new he(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new he(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],N8(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new he(a.a,16),b:new he(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Jr.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:he.mont(e),n=new he(2).toRed(r).redInvm(),i=n.redNeg(),s=new he(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Jr.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new he(1),o=new he(0),a=new he(0),l=new he(1),u,p,x,w,E,I,P,b=0,A,k;n.cmpn(0)!==0;){var B=i.div(n);A=i.sub(B.mul(n)),k=a.sub(B.mul(s));var O=l.sub(B.mul(o));if(!x&&A.cmp(r)<0)u=P.neg(),p=s,x=A.neg(),w=k;else if(x&&++b===2)break;P=A,i=n,n=A,a=s,s=k,l=o,o=O}E=A.neg(),I=k;var D=x.sqr().add(w.sqr()),F=E.sqr().add(I.sqr());return F.cmp(D)>=0&&(E=u,I=p),x.negative&&(x=x.neg(),w=w.neg()),E.negative&&(E=E.neg(),I=I.neg()),[{a:x,b:w},{a:E,b:I}]};Jr.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),l=o.mul(i.a),u=s.mul(n.b),p=o.mul(i.b),x=e.sub(a).sub(l),w=u.add(p).neg();return{k1:x,k2:w}};Jr.prototype.pointFromX=function(e,r){e=new he(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Jr.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Jr.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),l=e[o],u=l._getBeta();a.k1.negative&&(a.k1.ineg(),l=l.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),i[o*2]=l,i[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var p=this._wnafMulAdd(1,i,s,o*2,n),x=0;x<o*2;x++)i[x]=null,s[x]=null;return p};function Wt(t,e,r,n){Fs.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new he(e,16),this.y=new he(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}mp(Wt,Fs.BasePoint);Jr.prototype.point=function(e,r,n){return new Wt(this,e,r,n)};Jr.prototype.pointFromJSON=function(e,r){return Wt.fromJSON(this,e,r)};Wt.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Wt.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Wt.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Wt.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Wt.prototype.isInfinity=function(){return this.inf};Wt.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Wt.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Wt.prototype.getX=function(){return this.x.fromRed()};Wt.prototype.getY=function(){return this.y.fromRed()};Wt.prototype.mul=function(e){return e=new he(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Wt.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Wt.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Wt.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Wt.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Wt.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function qt(t,e,r,n){Fs.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new he(0)):(this.x=new he(e,16),this.y=new he(r,16),this.z=new he(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}mp(qt,Fs.BasePoint);Jr.prototype.jpoint=function(e,r,n){return new qt(this,e,r,n)};qt.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};qt.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};qt.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),u=o.redSub(a);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=l.redSqr(),x=p.redMul(l),w=i.redMul(p),E=u.redSqr().redIAdd(x).redISub(w).redISub(w),I=u.redMul(w.redISub(E)).redISub(o.redMul(x)),P=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(E,I,P)};qt.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),l=s.redSub(o);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),p=u.redMul(a),x=n.redMul(u),w=l.redSqr().redIAdd(p).redISub(x).redISub(x),E=l.redMul(x.redISub(w)).redISub(s.redMul(p)),I=this.z.redMul(a);return this.curve.jpoint(w,E,I)};qt.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,l=this.z,u=l.redSqr().redSqr(),p=a.redAdd(a);for(r=0;r<e;r++){var x=o.redSqr(),w=p.redSqr(),E=w.redSqr(),I=x.redAdd(x).redIAdd(x).redIAdd(i.redMul(u)),P=o.redMul(w),b=I.redSqr().redISub(P.redAdd(P)),A=P.redISub(b),k=I.redMul(A);k=k.redIAdd(k).redISub(E);var B=p.redMul(l);r+1<e&&(u=u.redMul(E)),o=b,l=B,p=k}return this.curve.jpoint(o,p.redMul(s),l)};qt.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};qt.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(a).redISub(a),p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),e=u,r=l.redMul(a.redISub(u)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),w=this.y.redSqr(),E=w.redSqr(),I=this.x.redAdd(w).redSqr().redISub(x).redISub(E);I=I.redIAdd(I);var P=x.redAdd(x).redIAdd(x),b=P.redSqr(),A=E.redIAdd(E);A=A.redIAdd(A),A=A.redIAdd(A),e=b.redISub(I).redISub(I),r=P.redMul(I.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};qt.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(a).redISub(a);e=u;var p=o.redIAdd(o);p=p.redIAdd(p),p=p.redIAdd(p),r=l.redMul(a.redISub(u)).redISub(p),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),w=this.y.redSqr(),E=this.x.redMul(w),I=this.x.redSub(x).redMul(this.x.redAdd(x));I=I.redAdd(I).redIAdd(I);var P=E.redIAdd(E);P=P.redIAdd(P);var b=P.redAdd(P);e=I.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(w).redISub(x);var A=w.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=I.redMul(P.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};qt.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),l=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var p=u.redMul(a),x=l.redSqr().redISub(p.redAdd(p)),w=p.redISub(x),E=a.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var I=l.redMul(w).redISub(E),P=n.redAdd(n).redMul(i);return this.curve.jpoint(x,I,P)};qt.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var l=a.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var p=s.redIAdd(a).redSqr().redISub(o).redISub(l).redISub(u),x=r.redMul(p);x=x.redIAdd(x),x=x.redIAdd(x);var w=this.x.redMul(l).redISub(x);w=w.redIAdd(w),w=w.redIAdd(w);var E=this.y.redMul(p.redMul(u.redISub(p)).redISub(a.redMul(l)));E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E);var I=this.z.redAdd(a).redSqr().redISub(n).redISub(l);return this.curve.jpoint(w,E,I)};qt.prototype.mul=function(e,r){return e=new he(e,r),this.curve._wnafMul(this,e)};qt.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};qt.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};qt.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};qt.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Tc=Zo(function(t,e){var r=e;r.base=Fs,r.short=T8,r.mont=null,r.edwards=null}),Pc=Zo(function(t,e){var r=e,n=Nr.assert;function i(a){a.type==="short"?this.curve=new Tc.short(a):a.type==="edwards"?this.curve=new Tc.edwards(a):this.curve=new Tc.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,l){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:hr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:hr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:hr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:hr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:hr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:hr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:hr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function $i(t){if(!(this instanceof $i))return new $i(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=un.toArray(t.entropy,t.entropyEnc||"hex"),r=un.toArray(t.nonce,t.nonceEnc||"hex"),n=un.toArray(t.pers,t.persEnc||"hex");gp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Iw=$i;$i.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};$i.prototype._hmac=function(){return new hr.hmac(this.hash,this.K)};$i.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};$i.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=un.toArray(e,r),n=un.toArray(n,i),gp(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};$i.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=un.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,un.encode(o,r)};var x0=Nr.assert;function er(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var xp=er;er.fromPublic=function(e,r,n){return r instanceof er?r:new er(e,{pub:r,pubEnc:n})};er.fromPrivate=function(e,r,n){return r instanceof er?r:new er(e,{priv:r,privEnc:n})};er.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};er.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};er.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};er.prototype._importPrivate=function(e,r){this.priv=new he(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};er.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?x0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&x0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};er.prototype.derive=function(e){return e.validate()||x0(e.validate(),"public point not validated"),e.mul(this.priv).getX()};er.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};er.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};er.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var P8=Nr.assert;function Zu(t,e){if(t instanceof Zu)return t;this._importDER(t,e)||(P8(t.r&&t.s,"Signature without r or s"),this.r=new he(t.r,16),this.s=new he(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var ef=Zu;function I8(){this.place=0}function cd(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function qm(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Zu.prototype._importDER=function(e,r){e=Nr.toArray(e,r);var n=new I8;if(e[n.place++]!==48)return!1;var i=cd(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cd(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=cd(e,n);if(a===!1||e.length!==a+n.place)return!1;var l=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new he(o),this.s=new he(l),this.recoveryParam=null,!0};function ud(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Zu.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=qm(r),n=qm(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ud(i,r.length),i=i.concat(r),i.push(2),ud(i,n.length);var s=i.concat(n),o=[48];return ud(o,s.length),o=o.concat(s),Nr.encode(o,e)};var M8=function(){throw new Error("unsupported")},Mw=Nr.assert;function qr(t){if(!(this instanceof qr))return new qr(t);typeof t=="string"&&(Mw(Object.prototype.hasOwnProperty.call(Pc,t),"Unknown curve "+t),t=Pc[t]),t instanceof Pc.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var R8=qr;qr.prototype.keyPair=function(e){return new xp(this,e)};qr.prototype.keyFromPrivate=function(e,r){return xp.fromPrivate(this,e,r)};qr.prototype.keyFromPublic=function(e,r){return xp.fromPublic(this,e,r)};qr.prototype.genKeyPair=function(e){e||(e={});for(var r=new Iw({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||M8(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new he(2));;){var s=new he(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};qr.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};qr.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new he(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),l=new Iw({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new he(1)),p=0;;p++){var x=i.k?i.k(p):new he(l.generate(this.n.byteLength()));if(x=this._truncateToN(x,!0),!(x.cmpn(1)<=0||x.cmp(u)>=0)){var w=this.g.mul(x);if(!w.isInfinity()){var E=w.getX(),I=E.umod(this.n);if(I.cmpn(0)!==0){var P=x.invm(this.n).mul(I.mul(r.getPrivate()).iadd(e));if(P=P.umod(this.n),P.cmpn(0)!==0){var b=(w.getY().isOdd()?1:0)|(E.cmp(I)!==0?2:0);return i.canonical&&P.cmp(this.nh)>0&&(P=this.n.sub(P),b^=1),new ef({r:I,s:P,recoveryParam:b})}}}}}};qr.prototype.verify=function(e,r,n,i){e=this._truncateToN(new he(e,16)),n=this.keyFromPublic(n,i),r=new ef(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),l=a.mul(e).umod(this.n),u=a.mul(s).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(l,n.getPublic(),u),p.isInfinity()?!1:p.eqXToP(s)):(p=this.g.mulAdd(l,n.getPublic(),u),p.isInfinity()?!1:p.getX().umod(this.n).cmp(s)===0)};qr.prototype.recoverPubKey=function(t,e,r,n){Mw((3&r)===r,"The recovery param is more than two bits"),e=new ef(e,n);var i=this.n,s=new he(t),o=e.r,a=e.s,l=r&1,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),l):o=this.curve.pointFromX(o,l);var p=e.r.invm(i),x=i.sub(s).mul(p).umod(i),w=a.mul(p).umod(i);return this.g.mulAdd(x,o,w)};qr.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new ef(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var O8=Zo(function(t,e){var r=e;r.version="6.5.4",r.utils=Nr,r.rand=function(){throw new Error("unsupported")},r.curve=Tc,r.curves=Pc,r.ec=R8,r.eddsa=null}),B8=O8.ec;const L8="signing-key/5.7.0",y0=new U(L8);let fd=null;function yn(){return fd||(fd=new B8("secp256k1")),fd}class ys{constructor(e){H(this,"curve","secp256k1"),H(this,"privateKey",Q(e)),Dn(this.privateKey)!==32&&y0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=yn().keyFromPrivate(V(this.privateKey));H(this,"publicKey","0x"+r.getPublic(!1,"hex")),H(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),H(this,"_isSigningKey",!0)}_addPoint(e){const r=yn().keyFromPublic(V(this.publicKey)),n=yn().keyFromPublic(V(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=yn().keyFromPrivate(V(this.privateKey)),n=V(e);n.length!==32&&y0.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return pn({recoveryParam:i.recoveryParam,r:Pe("0x"+i.r.toString(16),32),s:Pe("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=yn().keyFromPrivate(V(this.privateKey)),n=yn().keyFromPublic(V(yp(e)));return Pe("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Rw(t,e){const r=pn(e),n={r:V(r.r),s:V(r.s)};return"0x"+yn().recoverPubKey(V(t),n,r.recoveryParam).encode("hex",!1)}function yp(t,e){const r=V(t);if(r.length===32){const n=new ys(r);return e?"0x"+yn().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?Q(r):"0x"+yn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+yn().keyFromPublic(r).getPublic(!0,"hex"):Q(r)}return y0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const D8="transactions/5.7.0",Qt=new U(D8);var w0;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(w0||(w0={}));function wp(t){return t==="0x"?null:oe(t)}function Jt(t){return t==="0x"?Be:$.from(t)}const F8=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],U8={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Bi(t){const e=yp(t);return oe(Et(pe(Et(e,1)),12))}function si(t,e){return Bi(Rw(V(t),e))}function vr(t,e){const r=Mn($.from(t).toHexString());return r.length>32&&Qt.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function dd(t,e){return{address:oe(t),storageKeys:(e||[]).map((r,n)=>(Dn(r)!==32&&Qt.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function Us(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Qt.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),dd(r[0],r[1])):dd(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return dd(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function Ow(t){return Us(t).map(e=>[e.address,e.storageKeys])}function Bw(t,e){if(t.gasPrice!=null){const n=$.from(t.gasPrice),i=$.from(t.maxFeePerGas||0);n.eq(i)||Qt.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[vr(t.chainId||0,"chainId"),vr(t.nonce||0,"nonce"),vr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),vr(t.maxFeePerGas||0,"maxFeePerGas"),vr(t.gasLimit||0,"gasLimit"),t.to!=null?oe(t.to):"0x",vr(t.value||0,"value"),t.data||"0x",Ow(t.accessList||[])];if(e){const n=pn(e);r.push(vr(n.recoveryParam,"recoveryParam")),r.push(Mn(n.r)),r.push(Mn(n.s))}return sr(["0x02",Ns(r)])}function Lw(t,e){const r=[vr(t.chainId||0,"chainId"),vr(t.nonce||0,"nonce"),vr(t.gasPrice||0,"gasPrice"),vr(t.gasLimit||0,"gasLimit"),t.to!=null?oe(t.to):"0x",vr(t.value||0,"value"),t.data||"0x",Ow(t.accessList||[])];if(e){const n=pn(e);r.push(vr(n.recoveryParam,"recoveryParam")),r.push(Mn(n.r)),r.push(Mn(n.s))}return sr(["0x01",Ns(r)])}function W8(t,e){Ku(t,U8);const r=[];F8.forEach(function(o){let a=t[o.name]||[];const l={};o.numeric&&(l.hexPad="left"),a=V(Q(a,l)),o.length&&a.length!==o.length&&a.length>0&&Qt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=Mn(a),a.length>o.maxLength&&Qt.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(Q(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Qt.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!Ml(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(Q(n)),r.push("0x"),r.push("0x")),!e)return Ns(r);const i=pn(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Qt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Qt.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(Q(s)),r.push(Mn(V(i.r))),r.push(Mn(V(i.s))),Ns(r)}function b0(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Qt.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),W8(t,e);switch(t.type){case 1:return Lw(t,e);case 2:return Bw(t,e)}return Qt.throwError(`unsupported transaction type: ${t.type}`,U.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function Dw(t,e,r){try{const n=Jt(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Qt.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Pe(e[1],32),t.s=Pe(e[2],32);try{const n=pe(r(t));t.from=si(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function $8(t){const e=Ju(t.slice(1));e.length!==9&&e.length!==12&&Qt.throwArgumentError("invalid component count for transaction type: 2","payload",Q(t));const r=Jt(e[2]),n=Jt(e[3]),i={type:2,chainId:Jt(e[0]).toNumber(),nonce:Jt(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Jt(e[4]),to:wp(e[5]),value:Jt(e[6]),data:e[7],accessList:Us(e[8])};return e.length===9||(i.hash=pe(t),Dw(i,e.slice(9),Bw)),i}function z8(t){const e=Ju(t.slice(1));e.length!==8&&e.length!==11&&Qt.throwArgumentError("invalid component count for transaction type: 1","payload",Q(t));const r={type:1,chainId:Jt(e[0]).toNumber(),nonce:Jt(e[1]).toNumber(),gasPrice:Jt(e[2]),gasLimit:Jt(e[3]),to:wp(e[4]),value:Jt(e[5]),data:e[6],accessList:Us(e[7])};return e.length===8||(r.hash=pe(t),Dw(r,e.slice(8),Lw)),r}function j8(t){const e=Ju(t);e.length!==9&&e.length!==6&&Qt.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Jt(e[0]).toNumber(),gasPrice:Jt(e[1]),gasLimit:Jt(e[2]),to:wp(e[3]),value:Jt(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=$.from(e[6]).toNumber()}catch{return r}if(r.r=Pe(e[7],32),r.s=Pe(e[8],32),$.from(r.r).isZero()&&$.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Q(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=pe(Ns(i));try{r.from=si(s,{r:Q(r.r),s:Q(r.s),recoveryParam:n})}catch{}r.hash=pe(t)}return r.type=null,r}function Fw(t){const e=V(t);if(e[0]>127)return j8(e);switch(e[0]){case 1:return z8(e);case 2:return $8(e)}return Qt.throwError(`unsupported transaction type: ${e[0]}`,U.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const H8="contracts/5.7.0";var Ps=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Ct=new U(H8);function gu(t,e){return Ps(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Ct.throwArgumentError("invalid address or ENS name","name",r);try{return oe(r)}catch{}t||Ct.throwError("a provider or signer is needed to resolve ENS names",U.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Ct.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function Ic(t,e,r){return Ps(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>Ic(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield gu(t,e):r.type==="tuple"?yield Ic(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>Ic(t,n,r.arrayChildren))):Promise.reject(Ct.makeError("invalid value for array",U.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function tf(t,e,r){return Ps(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=It(r.pop())),Ct.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=pt({override:gu(t.signer,n.from),signer:t.signer.getAddress()}).then(u=>Ps(this,void 0,void 0,function*(){return oe(u.signer)!==u.override&&Ct.throwError("Contract with a Signer cannot override from",U.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),u.override})):n.from=t.signer.getAddress():n.from&&(n.from=gu(t.provider,n.from));const i=yield pt({args:Ic(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:pt(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=$.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=$.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=$.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=$.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=$.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Us(a.accessList)),o.gasLimit==null&&e.gas!=null){let u=21e3;const p=V(s);for(let x=0;x<p.length;x++)u+=4,p[x]&&(u+=64);o.gasLimit=$.from(e.gas).add(u)}if(a.value){const u=$.from(a.value);!u.isZero()&&!e.payable&&Ct.throwError("non-payable method cannot override value",U.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=u}a.customData&&(o.customData=It(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter(u=>n[u]!=null);return l.length&&Ct.throwError(`cannot override ${l.map(u=>JSON.stringify(u)).join(",")}`,U.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),o})}function G8(t,e){return function(...r){return tf(t,e,r)}}function q8(t,e){const r=t.signer||t.provider;return function(...n){return Ps(this,void 0,void 0,function*(){r||Ct.throwError("estimate require a provider or signer",U.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield tf(t,e,n);return yield r.estimateGas(i)})}}function V8(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Fn(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(l,u)=>t.interface.decodeEventLog(a.eventFragment,l,u),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function Uw(t,e,r){const n=t.signer||t.provider;return function(...i){return Ps(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const l=It(i.pop());l.blockTag!=null&&(s=yield l.blockTag),delete l.blockTag,i.push(l)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield tf(t,e,i),a=yield n.call(o,s);try{let l=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(l=l[0]),l}catch(l){throw l.code===U.errors.CALL_EXCEPTION&&(l.address=t.address,l.args=i,l.transaction=o),l}})}}function K8(t,e){return function(...r){return Ps(this,void 0,void 0,function*(){t.signer||Ct.throwError("sending a transaction requires a signer",U.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield tf(t,e,r),i=yield t.signer.sendTransaction(n);return V8(t,i),i})}}function Vm(t,e,r){return e.constant?Uw(t,e,r):K8(t,e)}function Ww(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class bl{constructor(e,r){H(this,"tag",e),H(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class J8 extends bl{constructor(){super("error",null)}}class Km extends bl{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&Ct.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(Ww(s),s),H(this,"address",e),H(this,"interface",r),H(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=Uy(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class Jm extends bl{constructor(e,r){super("*",{address:e}),H(this,"address",e),H(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class Q8{constructor(e,r,n){H(this,"interface",cn(new.target,"getInterface")(r)),n==null?(H(this,"provider",null),H(this,"signer",null)):Gr.isSigner(n)?(H(this,"provider",n.provider||null),H(this,"signer",n)):Gi.isProvider(n)?(H(this,"provider",n),H(this,"signer",null)):Ct.throwArgumentError("invalid signer or provider","signerOrProvider",n),H(this,"callStatic",{}),H(this,"estimateGas",{}),H(this,"functions",{}),H(this,"populateTransaction",{}),H(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const l=this.interface.events[a];H(this.filters,a,(...u)=>({address:this.address,topics:this.interface.encodeFilterTopics(l,u)})),o[l.name]||(o[l.name]=[]),o[l.name].push(a)}),Object.keys(o).forEach(a=>{const l=o[a];l.length===1?H(this.filters,a,this.filters[l[0]]):Ct.warn(`Duplicate definition of ${a} (${l.join(", ")})`)})}if(H(this,"_runningEvents",{}),H(this,"_wrappedEmits",{}),e==null&&Ct.throwArgumentError("invalid contract address or ENS name","addressOrName",e),H(this,"address",e),this.provider)H(this,"resolvedAddress",gu(this.provider,e));else try{H(this,"resolvedAddress",Promise.resolve(oe(e)))}catch{Ct.throwError("provider is required to use ENS name as contract address",U.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){Ct.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const l=a.name;i[`%${l}`]||(i[`%${l}`]=[]),i[`%${l}`].push(o)}this[o]==null&&H(this,o,Vm(this,a,!0)),this.functions[o]==null&&H(this.functions,o,Vm(this,a,!1)),this.callStatic[o]==null&&H(this.callStatic,o,Uw(this,a,!0)),this.populateTransaction[o]==null&&H(this.populateTransaction,o,G8(this,a)),this.estimateGas[o]==null&&H(this.estimateGas,o,q8(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const l=a[0];try{this[o]==null&&H(this,o,this[l])}catch{}this.functions[o]==null&&H(this.functions,o,this.functions[l]),this.callStatic[o]==null&&H(this.callStatic,o,this.callStatic[l]),this.populateTransaction[o]==null&&H(this.populateTransaction,o,this.populateTransaction[l]),this.estimateGas[o]==null&&H(this.estimateGas,o,this.estimateGas[l])})}static getContractAddress(e){return sp(e)}static getInterface(e){return St.isInterface(e)?e:new St(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Ct.throwError("contract not deployed",U.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Ct.throwError("sending a transactions require a signer",U.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=It(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Ct.throwError("cannot override "+n,U.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new pp(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&H(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return du.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new J8);if(e==="event")return this._normalizeRunningEvent(new bl("event",null));if(e==="*")return this._normalizeRunningEvent(new Jm(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new Km(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new Km(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new bl(Ww(r),r))}return this._normalizeRunningEvent(new Jm(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Fn(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Ct.throwError("events require a provider or a signer with a provider",U.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=It(i.filter);return typeof r=="string"&&be(r,32)?(n!=null&&Ct.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class Cn extends Q8{}class $w{constructor(e){H(this,"alphabet",e),H(this,"base",e.length),H(this,"_alphabetMap",{}),H(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=V(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return V(new Uint8Array(r.reverse()))}}new $w("abcdefghijklmnopqrstuvwxyz234567");const Bo=new $w("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Lo;(function(t){t.sha256="sha256",t.sha512="sha512"})(Lo||(Lo={}));const Y8="sha2/5.7.0",X8=new U(Y8);function zw(t){return"0x"+hr.ripemd160().update(V(t)).digest("hex")}function oi(t){return"0x"+hr.sha256().update(V(t)).digest("hex")}function Z8(t){return"0x"+hr.sha512().update(V(t)).digest("hex")}function vl(t,e,r){return Lo[t]||X8.throwError("unsupported algorithm "+t,U.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+hr.hmac(hr[t],V(e)).update(V(r)).digest("hex")}function bp(t,e,r,n,i){t=V(t),e=V(e);let s,o=1;const a=new Uint8Array(n),l=new Uint8Array(e.length+4);l.set(e);let u,p;for(let x=1;x<=o;x++){l[e.length]=x>>24&255,l[e.length+1]=x>>16&255,l[e.length+2]=x>>8&255,l[e.length+3]=x&255;let w=V(vl(i,t,l));s||(s=w.length,p=new Uint8Array(s),o=Math.ceil(n/s),u=n-(o-1)*s),p.set(w);for(let P=1;P<r;P++){w=V(vl(i,t,w));for(let b=0;b<s;b++)p[b]^=w[b]}const E=(x-1)*s,I=x===o?u:s;a.set(V(p).slice(0,I),E)}return Q(a)}const eE="wordlists/5.7.0",tE=new U(eE);class Ll{constructor(e){tE.checkAbstract(new.target,Ll),H(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return _i(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const rE="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let Ka=null;function Qm(t){if(Ka==null&&(Ka=rE.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Ll.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw Ka=null,new Error("BIP39 Wordlist for en (English) FAILED")}class nE extends Ll{constructor(){super("en")}getWord(e){return Qm(this),Ka[e]}getWordIndex(e){return Qm(this),Ka.indexOf(e)}}const jw=new nE;Ll.register(jw);const Ym={en:jw},iE="hdnode/5.7.0",El=new U(iE),sE=$.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),oE=Ce("Bitcoin seed"),to=2147483648;function Hw(t){return(1<<t)-1<<8-t}function aE(t){return(1<<t)-1}function cc(t){return Pe(Q(t),32)}function Xm(t){return Bo.encode(Re([t,Et(oi(oi(t)),0,4)]))}function vp(t){if(t==null)return Ym.en;if(typeof t=="string"){const e=Ym[t];return e==null&&El.throwArgumentError("unknown locale","wordlist",t),e}return t}const js={},Do="m/44'/60'/0'/0/0";class Er{constructor(e,r,n,i,s,o,a,l){if(e!==js)throw new Error("HDNode constructor cannot be called directly");if(r){const u=new ys(r);H(this,"privateKey",u.privateKey),H(this,"publicKey",u.compressedPublicKey)}else H(this,"privateKey",null),H(this,"publicKey",Q(n));H(this,"parentFingerprint",i),H(this,"fingerprint",Et(zw(oi(this.publicKey)),0,4)),H(this,"address",Bi(this.publicKey)),H(this,"chainCode",s),H(this,"index",o),H(this,"depth",a),l==null?(H(this,"mnemonic",null),H(this,"path",null)):typeof l=="string"?(H(this,"mnemonic",null),H(this,"path",l)):(H(this,"mnemonic",l),H(this,"path",l.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return Xm(Re([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Q(this.depth),this.parentFingerprint,Pe(Q(this.index),4),this.chainCode,this.privateKey!=null?Re(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Er(js,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~to));const n=new Uint8Array(37);if(e&to){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(V(this.privateKey),1),r&&(r+="'")}else n.set(V(this.publicKey));for(let x=24;x>=0;x-=8)n[33+(x>>3)]=e>>24-x&255;const i=V(vl(Lo.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,l=null;this.privateKey?a=cc($.from(s).add(this.privateKey).mod(sE)):l=new ys(Q(s))._addPoint(this.publicKey);let u=r;const p=this.mnemonic;return p&&(u=Object.freeze({phrase:p.phrase,path:r,locale:p.locale||"en"})),new Er(js,a,l,this.fingerprint,cc(o),e,this.depth+1,u)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=to)throw new Error("invalid path index - "+s);n=n._derive(to+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=to)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=V(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=V(vl(Lo.sha512,oE,n));return new Er(js,cc(i.slice(0,32)),null,"0x00000000",cc(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=vp(n),e=nf(rf(e,n),n),Er._fromSeed(Gw(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Er._fromSeed(e,null)}static fromExtendedKey(e){const r=Bo.decode(e);(r.length!==82||Xm(r.slice(0,78))!==e)&&El.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=Q(r.slice(5,9)),s=parseInt(Q(r.slice(9,13)).substring(2),16),o=Q(r.slice(13,45)),a=r.slice(45,78);switch(Q(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Er(js,null,Q(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Er(js,Q(a.slice(1)),null,i,o,s,n,null)}return El.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function Gw(t,e){e||(e="");const r=Ce("mnemonic"+e,Un.NFKD);return bp(Ce(t,Un.NFKD),r,2048,64,"sha512")}function rf(t,e){e=vp(e),El.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=V(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let u=0;u<r.length;u++){let p=e.getWordIndex(r[u].normalize("NFKD"));if(p===-1)throw new Error("invalid mnemonic");for(let x=0;x<11;x++)p&1<<10-x&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=Hw(o);if((V(oi(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return Q(n.slice(0,s/8))}function nf(t,e){if(e=vp(e),t=V(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&aE(8-n)),n+=3);const i=t.length/4,s=V(oi(t))[0]&Hw(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function lE(t,e){try{return rf(t,e),!0}catch{}return!1}function cE(t){return(typeof t!="number"||t<0||t>=to||t%1)&&El.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const uE="random/5.7.0",v0=new U(uE);function fE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const Zm=fE();let Mc=Zm.crypto||Zm.msCrypto;(!Mc||!Mc.getRandomValues)&&(v0.warn("WARNING: Missing strong random number source"),Mc={getRandomValues:function(t){return v0.throwError("no secure random source avaialble",U.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function gs(t){(t<=0||t>1024||t%1||t!=t)&&v0.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return Mc.getRandomValues(e),V(e)}function dE(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}var E0={},hE={get exports(){return E0},set exports(t){E0=t}};(function(t,e){(function(r){function n(h){return parseInt(h)===h}function i(h){if(!n(h.length))return!1;for(var c=0;c<h.length;c++)if(!n(h[c])||h[c]<0||h[c]>255)return!1;return!0}function s(h,c){if(h.buffer&&ArrayBuffer.isView(h)&&h.name==="Uint8Array")return c&&(h.slice?h=h.slice():h=Array.prototype.slice.call(h)),h;if(Array.isArray(h)){if(!i(h))throw new Error("Array contains invalid value: "+h);return new Uint8Array(h)}if(n(h.length)&&i(h))return new Uint8Array(h);throw new Error("unsupported array-like object")}function o(h){return new Uint8Array(h)}function a(h,c,m,S,f){(S!=null||f!=null)&&(h.slice?h=h.slice(S,f):h=Array.prototype.slice.call(h,S,f)),c.set(h,m)}var l=function(){function h(m){var S=[],f=0;for(m=encodeURI(m);f<m.length;){var N=m.charCodeAt(f++);N===37?(S.push(parseInt(m.substr(f,2),16)),f+=2):S.push(N)}return s(S)}function c(m){for(var S=[],f=0;f<m.length;){var N=m[f];N<128?(S.push(String.fromCharCode(N)),f++):N>191&&N<224?(S.push(String.fromCharCode((N&31)<<6|m[f+1]&63)),f+=2):(S.push(String.fromCharCode((N&15)<<12|(m[f+1]&63)<<6|m[f+2]&63)),f+=3)}return S.join("")}return{toBytes:h,fromBytes:c}}(),u=function(){function h(S){for(var f=[],N=0;N<S.length;N+=2)f.push(parseInt(S.substr(N,2),16));return f}var c="0123456789abcdef";function m(S){for(var f=[],N=0;N<S.length;N++){var R=S[N];f.push(c[(R&240)>>4]+c[R&15])}return f.join("")}return{toBytes:h,fromBytes:m}}(),p={16:10,24:12,32:14},x=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],w=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],E=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],I=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],P=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],A=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],k=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],B=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],O=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],D=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],F=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],j=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],G=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],z=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function X(h){for(var c=[],m=0;m<h.length;m+=4)c.push(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3]);return c}var ee=function(h){if(!(this instanceof ee))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(h,!0)}),this._prepare()};ee.prototype._prepare=function(){var h=p[this.key.length];if(h==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var c=0;c<=h;c++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var m=(h+1)*4,S=this.key.length/4,f=X(this.key),N,c=0;c<S;c++)N=c>>2,this._Ke[N][c%4]=f[c],this._Kd[h-N][c%4]=f[c];for(var R=0,L=S,W;L<m;){if(W=f[S-1],f[0]^=w[W>>16&255]<<24^w[W>>8&255]<<16^w[W&255]<<8^w[W>>24&255]^x[R]<<24,R+=1,S!=8)for(var c=1;c<S;c++)f[c]^=f[c-1];else{for(var c=1;c<S/2;c++)f[c]^=f[c-1];W=f[S/2-1],f[S/2]^=w[W&255]^w[W>>8&255]<<8^w[W>>16&255]<<16^w[W>>24&255]<<24;for(var c=S/2+1;c<S;c++)f[c]^=f[c-1]}for(var c=0,K,q;c<S&&L<m;)K=L>>2,q=L%4,this._Ke[K][q]=f[c],this._Kd[h-K][q]=f[c++],L++}for(var K=1;K<h;K++)for(var q=0;q<4;q++)W=this._Kd[K][q],this._Kd[K][q]=F[W>>24&255]^j[W>>16&255]^G[W>>8&255]^z[W&255]},ee.prototype.encrypt=function(h){if(h.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var c=this._Ke.length-1,m=[0,0,0,0],S=X(h),f=0;f<4;f++)S[f]^=this._Ke[0][f];for(var N=1;N<c;N++){for(var f=0;f<4;f++)m[f]=I[S[f]>>24&255]^P[S[(f+1)%4]>>16&255]^b[S[(f+2)%4]>>8&255]^A[S[(f+3)%4]&255]^this._Ke[N][f];S=m.slice()}for(var R=o(16),L,f=0;f<4;f++)L=this._Ke[c][f],R[4*f]=(w[S[f]>>24&255]^L>>24)&255,R[4*f+1]=(w[S[(f+1)%4]>>16&255]^L>>16)&255,R[4*f+2]=(w[S[(f+2)%4]>>8&255]^L>>8)&255,R[4*f+3]=(w[S[(f+3)%4]&255]^L)&255;return R},ee.prototype.decrypt=function(h){if(h.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var c=this._Kd.length-1,m=[0,0,0,0],S=X(h),f=0;f<4;f++)S[f]^=this._Kd[0][f];for(var N=1;N<c;N++){for(var f=0;f<4;f++)m[f]=k[S[f]>>24&255]^B[S[(f+3)%4]>>16&255]^O[S[(f+2)%4]>>8&255]^D[S[(f+1)%4]&255]^this._Kd[N][f];S=m.slice()}for(var R=o(16),L,f=0;f<4;f++)L=this._Kd[c][f],R[4*f]=(E[S[f]>>24&255]^L>>24)&255,R[4*f+1]=(E[S[(f+3)%4]>>16&255]^L>>16)&255,R[4*f+2]=(E[S[(f+2)%4]>>8&255]^L>>8)&255,R[4*f+3]=(E[S[(f+1)%4]&255]^L)&255;return R};var ae=function(h){if(!(this instanceof ae))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new ee(h)};ae.prototype.encrypt=function(h){if(h=s(h),h.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var c=o(h.length),m=o(16),S=0;S<h.length;S+=16)a(h,m,0,S,S+16),m=this._aes.encrypt(m),a(m,c,S);return c},ae.prototype.decrypt=function(h){if(h=s(h),h.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var c=o(h.length),m=o(16),S=0;S<h.length;S+=16)a(h,m,0,S,S+16),m=this._aes.decrypt(m),a(m,c,S);return c};var M=function(h,c){if(!(this instanceof M))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(c,!0),this._aes=new ee(h)};M.prototype.encrypt=function(h){if(h=s(h),h.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var c=o(h.length),m=o(16),S=0;S<h.length;S+=16){a(h,m,0,S,S+16);for(var f=0;f<16;f++)m[f]^=this._lastCipherblock[f];this._lastCipherblock=this._aes.encrypt(m),a(this._lastCipherblock,c,S)}return c},M.prototype.decrypt=function(h){if(h=s(h),h.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var c=o(h.length),m=o(16),S=0;S<h.length;S+=16){a(h,m,0,S,S+16),m=this._aes.decrypt(m);for(var f=0;f<16;f++)c[S+f]=m[f]^this._lastCipherblock[f];a(h,this._lastCipherblock,0,S,S+16)}return c};var d=function(h,c,m){if(!(this instanceof d))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");m||(m=1),this.segmentSize=m,this._shiftRegister=s(c,!0),this._aes=new ee(h)};d.prototype.encrypt=function(h){if(h.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var c=s(h,!0),m,S=0;S<c.length;S+=this.segmentSize){m=this._aes.encrypt(this._shiftRegister);for(var f=0;f<this.segmentSize;f++)c[S+f]^=m[f];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(c,this._shiftRegister,16-this.segmentSize,S,S+this.segmentSize)}return c},d.prototype.decrypt=function(h){if(h.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var c=s(h,!0),m,S=0;S<c.length;S+=this.segmentSize){m=this._aes.encrypt(this._shiftRegister);for(var f=0;f<this.segmentSize;f++)c[S+f]^=m[f];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(h,this._shiftRegister,16-this.segmentSize,S,S+this.segmentSize)}return c};var y=function(h,c){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!c)c=o(16);else if(c.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(c,!0),this._lastPrecipherIndex=16,this._aes=new ee(h)};y.prototype.encrypt=function(h){for(var c=s(h,!0),m=0;m<c.length;m++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),c[m]^=this._lastPrecipher[this._lastPrecipherIndex++];return c},y.prototype.decrypt=y.prototype.encrypt;var _=function(h){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");h!==0&&!h&&(h=1),typeof h=="number"?(this._counter=o(16),this.setValue(h)):this.setBytes(h)};_.prototype.setValue=function(h){if(typeof h!="number"||parseInt(h)!=h)throw new Error("invalid counter value (must be an integer)");for(var c=15;c>=0;--c)this._counter[c]=h%256,h=h>>8},_.prototype.setBytes=function(h){if(h=s(h,!0),h.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=h},_.prototype.increment=function(){for(var h=15;h>=0;h--)if(this._counter[h]===255)this._counter[h]=0;else{this._counter[h]++;break}};var T=function(h,c){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",c instanceof _||(c=new _(c)),this._counter=c,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new ee(h)};T.prototype.encrypt=function(h){for(var c=s(h,!0),m=0;m<c.length;m++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),c[m]^=this._remainingCounter[this._remainingCounterIndex++];return c},T.prototype.decrypt=T.prototype.encrypt;function g(h){h=s(h,!0);var c=16-h.length%16,m=o(h.length+c);a(h,m);for(var S=h.length;S<m.length;S++)m[S]=c;return m}function v(h){if(h=s(h,!0),h.length<16)throw new Error("PKCS#7 invalid length");var c=h[h.length-1];if(c>16)throw new Error("PKCS#7 padding byte out of range");for(var m=h.length-c,S=0;S<c;S++)if(h[m+S]!==c)throw new Error("PKCS#7 invalid padding byte");var f=o(m);return a(h,f,0,0,m),f}var C={AES:ee,Counter:_,ModeOfOperation:{ecb:ae,cbc:M,cfb:d,ofb:y,ctr:T},utils:{hex:u,utf8:l},padding:{pkcs7:{pad:g,strip:v}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=C})()})(hE);const kn=E0,qw="json-wallets/5.7.0";function ws(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),V(t)}function wa(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function Ep(t){return typeof t=="string"?Ce(t,Un.NFKC):V(t)}function kt(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function pE(t){const e=V(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Q(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const gE=new U(qw);class mE extends Ds{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Vw(t,e){const r=JSON.parse(t);e=Ep(e);const n=oe(kt(r,"ethaddr")),i=ws(kt(r,"encseed"));(!i||i.length%16!==0)&&gE.throwArgumentError("invalid encseed","json",t);const s=V(bp(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),l=new kn.ModeOfOperation.cbc(s,o),u=kn.padding.pkcs7.strip(V(l.decrypt(a)));let p="";for(let E=0;E<u.length;E++)p+=String.fromCharCode(u[E]);const x=Ce(p),w=pe(x);return new mE({_isCrowdsaleAccount:!0,address:n,privateKey:w})}function Ap(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function Sp(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function xE(t){if(Ap(t))try{return oe(JSON.parse(t).ethaddr)}catch{return null}if(Sp(t))try{return oe(JSON.parse(t).address)}catch{return null}return null}var A0={},yE={get exports(){return A0},set exports(t){A0=t}};(function(t,e){(function(r){function i(P){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let A=1779033703,k=3144134277,B=1013904242,O=2773480762,D=1359893119,F=2600822924,j=528734635,G=1541459225;const z=new Uint32Array(64);function X(T){let g=0,v=T.length;for(;v>=64;){let C=A,h=k,c=B,m=O,S=D,f=F,N=j,R=G,L,W,K,q,J;for(W=0;W<16;W++)K=g+W*4,z[W]=(T[K]&255)<<24|(T[K+1]&255)<<16|(T[K+2]&255)<<8|T[K+3]&255;for(W=16;W<64;W++)L=z[W-2],q=(L>>>17|L<<32-17)^(L>>>19|L<<32-19)^L>>>10,L=z[W-15],J=(L>>>7|L<<32-7)^(L>>>18|L<<32-18)^L>>>3,z[W]=(q+z[W-7]|0)+(J+z[W-16]|0)|0;for(W=0;W<64;W++)q=(((S>>>6|S<<32-6)^(S>>>11|S<<32-11)^(S>>>25|S<<32-25))+(S&f^~S&N)|0)+(R+(b[W]+z[W]|0)|0)|0,J=((C>>>2|C<<32-2)^(C>>>13|C<<32-13)^(C>>>22|C<<32-22))+(C&h^C&c^h&c)|0,R=N,N=f,f=S,S=m+q|0,m=c,c=h,h=C,C=q+J|0;A=A+C|0,k=k+h|0,B=B+c|0,O=O+m|0,D=D+S|0,F=F+f|0,j=j+N|0,G=G+R|0,g+=64,v-=64}}X(P);let ee,ae=P.length%64,M=P.length/536870912|0,d=P.length<<3,y=ae<56?56:120,_=P.slice(P.length-ae,P.length);for(_.push(128),ee=ae+1;ee<y;ee++)_.push(0);return _.push(M>>>24&255),_.push(M>>>16&255),_.push(M>>>8&255),_.push(M>>>0&255),_.push(d>>>24&255),_.push(d>>>16&255),_.push(d>>>8&255),_.push(d>>>0&255),X(_),[A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,B>>>24&255,B>>>16&255,B>>>8&255,B>>>0&255,O>>>24&255,O>>>16&255,O>>>8&255,O>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,F>>>24&255,F>>>16&255,F>>>8&255,F>>>0&255,j>>>24&255,j>>>16&255,j>>>8&255,j>>>0&255,G>>>24&255,G>>>16&255,G>>>8&255,G>>>0&255]}function s(P,b,A){P=P.length<=64?P:i(P);const k=64+b.length+4,B=new Array(k),O=new Array(64);let D,F=[];for(D=0;D<64;D++)B[D]=54;for(D=0;D<P.length;D++)B[D]^=P[D];for(D=0;D<b.length;D++)B[64+D]=b[D];for(D=k-4;D<k;D++)B[D]=0;for(D=0;D<64;D++)O[D]=92;for(D=0;D<P.length;D++)O[D]^=P[D];function j(){for(let G=k-1;G>=k-4;G--){if(B[G]++,B[G]<=255)return;B[G]=0}}for(;A>=32;)j(),F=F.concat(i(O.concat(i(B)))),A-=32;return A>0&&(j(),F=F.concat(i(O.concat(i(B))).slice(0,A))),F}function o(P,b,A,k,B){let O;for(p(P,(2*A-1)*16,B,0,16),O=0;O<2*A;O++)u(P,O*16,B,16),l(B,k),p(B,0,P,b+O*16,16);for(O=0;O<A;O++)p(P,b+O*2*16,P,O*16,16);for(O=0;O<A;O++)p(P,b+(O*2+1)*16,P,(O+A)*16,16)}function a(P,b){return P<<b|P>>>32-b}function l(P,b){p(P,0,b,0,16);for(let A=8;A>0;A-=2)b[4]^=a(b[0]+b[12],7),b[8]^=a(b[4]+b[0],9),b[12]^=a(b[8]+b[4],13),b[0]^=a(b[12]+b[8],18),b[9]^=a(b[5]+b[1],7),b[13]^=a(b[9]+b[5],9),b[1]^=a(b[13]+b[9],13),b[5]^=a(b[1]+b[13],18),b[14]^=a(b[10]+b[6],7),b[2]^=a(b[14]+b[10],9),b[6]^=a(b[2]+b[14],13),b[10]^=a(b[6]+b[2],18),b[3]^=a(b[15]+b[11],7),b[7]^=a(b[3]+b[15],9),b[11]^=a(b[7]+b[3],13),b[15]^=a(b[11]+b[7],18),b[1]^=a(b[0]+b[3],7),b[2]^=a(b[1]+b[0],9),b[3]^=a(b[2]+b[1],13),b[0]^=a(b[3]+b[2],18),b[6]^=a(b[5]+b[4],7),b[7]^=a(b[6]+b[5],9),b[4]^=a(b[7]+b[6],13),b[5]^=a(b[4]+b[7],18),b[11]^=a(b[10]+b[9],7),b[8]^=a(b[11]+b[10],9),b[9]^=a(b[8]+b[11],13),b[10]^=a(b[9]+b[8],18),b[12]^=a(b[15]+b[14],7),b[13]^=a(b[12]+b[15],9),b[14]^=a(b[13]+b[12],13),b[15]^=a(b[14]+b[13],18);for(let A=0;A<16;++A)P[A]+=b[A]}function u(P,b,A,k){for(let B=0;B<k;B++)A[B]^=P[b+B]}function p(P,b,A,k,B){for(;B--;)A[k++]=P[b++]}function x(P){if(!P||typeof P.length!="number")return!1;for(let b=0;b<P.length;b++){const A=P[b];if(typeof A!="number"||A%1||A<0||A>=256)return!1}return!0}function w(P,b){if(typeof P!="number"||P%1)throw new Error("invalid "+b);return P}function E(P,b,A,k,B,O,D){if(A=w(A,"N"),k=w(k,"r"),B=w(B,"p"),O=w(O,"dkLen"),A===0||A&A-1)throw new Error("N must be power of 2");if(A>2147483647/128/k)throw new Error("N too large");if(k>2147483647/128/B)throw new Error("r too large");if(!x(P))throw new Error("password must be an array or buffer");if(P=Array.prototype.slice.call(P),!x(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let F=s(P,b,B*128*k);const j=new Uint32Array(B*32*k);for(let S=0;S<j.length;S++){const f=S*4;j[S]=(F[f+3]&255)<<24|(F[f+2]&255)<<16|(F[f+1]&255)<<8|(F[f+0]&255)<<0}const G=new Uint32Array(64*k),z=new Uint32Array(32*k*A),X=32*k,ee=new Uint32Array(16),ae=new Uint32Array(16),M=B*A*2;let d=0,y=null,_=!1,T=0,g=0,v,C;const h=D?parseInt(1e3/k):4294967295,c=typeof setImmediate<"u"?setImmediate:setTimeout,m=function(){if(_)return D(new Error("cancelled"),d/M);let S;switch(T){case 0:C=g*32*k,p(j,C,G,0,X),T=1,v=0;case 1:S=A-v,S>h&&(S=h);for(let N=0;N<S;N++)p(G,0,z,(v+N)*X,X),o(G,X,k,ee,ae);if(v+=S,d+=S,D){const N=parseInt(1e3*d/M);if(N!==y){if(_=D(null,d/M),_)break;y=N}}if(v<A)break;v=0,T=2;case 2:S=A-v,S>h&&(S=h);for(let N=0;N<S;N++){const R=(2*k-1)*16,L=G[R]&A-1;u(z,L*X,G,X),o(G,X,k,ee,ae)}if(v+=S,d+=S,D){const N=parseInt(1e3*d/M);if(N!==y){if(_=D(null,d/M),_)break;y=N}}if(v<A)break;if(p(G,0,j,C,X),g++,g<B){T=0;break}F=[];for(let N=0;N<j.length;N++)F.push(j[N]>>0&255),F.push(j[N]>>8&255),F.push(j[N]>>16&255),F.push(j[N]>>24&255);const f=s(P,F,O);return D&&D(null,1,f),f}D&&c(m)};if(!D)for(;;){const S=m();if(S!=null)return S}m()}const I={scrypt:function(P,b,A,k,B,O,D){return new Promise(function(F,j){let G=0;D&&D(0),E(P,b,A,k,B,O,function(z,X,ee){if(z)j(z);else if(ee)D&&G!==1&&D(1),F(new Uint8Array(ee));else if(D&&X!==G)return G=X,D(X)})})},syncScrypt:function(P,b,A,k,B,O){return new Uint8Array(E(P,b,A,k,B,O))}};t.exports=I})()})(yE);const _p=A0;var wE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const S0=new U(qw);function ex(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class bE extends Ds{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function vE(t,e,r){if(kt(t,"crypto/cipher")==="aes-128-ctr"){const i=ws(kt(t,"crypto/cipherparams/iv")),s=new kn.Counter(i),o=new kn.ModeOfOperation.ctr(e,s);return V(o.decrypt(r))}return null}function Kw(t,e){const r=ws(kt(t,"crypto/ciphertext"));if(Q(pe(Re([e.slice(16,32),r]))).substring(2)!==kt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=vE(t,e.slice(0,16),r);i||S0.throwError("unsupported cipher",U.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Bi(i);if(t.address){let l=t.address.toLowerCase();if(l.substring(0,2)!=="0x"&&(l="0x"+l),oe(l)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Q(i)};if(kt(t,"x-ethers/version")==="0.1"){const l=ws(kt(t,"x-ethers/mnemonicCiphertext")),u=ws(kt(t,"x-ethers/mnemonicCounter")),p=new kn.Counter(u),x=new kn.ModeOfOperation.ctr(s,p),w=kt(t,"x-ethers/path")||Do,E=kt(t,"x-ethers/locale")||"en",I=V(x.decrypt(l));try{const P=nf(I,E),b=Er.fromMnemonic(P,null,E).derivePath(w);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(P){if(P.code!==U.errors.INVALID_ARGUMENT||P.argument!=="wordlist")throw P}}return new bE(a)}function Jw(t,e,r,n,i){return V(bp(t,e,r,n,i))}function EE(t,e,r,n,i){return Promise.resolve(Jw(t,e,r,n,i))}function Qw(t,e,r,n,i){const s=Ep(e),o=kt(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(l,u){return S0.throwArgumentError("invalid key-derivation function parameters",l,u)};if(o.toLowerCase()==="scrypt"){const l=ws(kt(t,"crypto/kdfparams/salt")),u=parseInt(kt(t,"crypto/kdfparams/n")),p=parseInt(kt(t,"crypto/kdfparams/r")),x=parseInt(kt(t,"crypto/kdfparams/p"));(!u||!p||!x)&&a("kdf",o),u&u-1&&a("N",u);const w=parseInt(kt(t,"crypto/kdfparams/dklen"));return w!==32&&a("dklen",w),n(s,l,u,p,x,64,i)}else if(o.toLowerCase()==="pbkdf2"){const l=ws(kt(t,"crypto/kdfparams/salt"));let u=null;const p=kt(t,"crypto/kdfparams/prf");p==="hmac-sha256"?u="sha256":p==="hmac-sha512"?u="sha512":a("prf",p);const x=parseInt(kt(t,"crypto/kdfparams/c")),w=parseInt(kt(t,"crypto/kdfparams/dklen"));return w!==32&&a("dklen",w),r(s,l,x,w,u)}}return S0.throwArgumentError("unsupported key-derivation function","kdf",o)}function AE(t,e){const r=JSON.parse(t),n=Qw(r,e,Jw,_p.syncScrypt);return Kw(r,n)}function SE(t,e,r){return wE(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield Qw(n,e,EE,_p.scrypt,r);return Kw(n,i)})}function _E(t,e,r,n){try{if(oe(t.address)!==Bi(t.privateKey))throw new Error("address/privateKey mismatch");if(ex(t)){const b=t.mnemonic;if(Er.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||Do).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=V(t.privateKey),s=Ep(e);let o=null,a=null,l=null;if(ex(t)){const b=t.mnemonic;o=V(rf(b.phrase,b.locale||"en")),a=b.path||Do,l=b.locale||"en"}let u=r.client;u||(u="ethers.js");let p=null;r.salt?p=V(r.salt):p=gs(32);let x=null;if(r.iv){if(x=V(r.iv),x.length!==16)throw new Error("invalid iv")}else x=gs(16);let w=null;if(r.uuid){if(w=V(r.uuid),w.length!==16)throw new Error("invalid uuid")}else w=gs(16);let E=1<<17,I=8,P=1;return r.scrypt&&(r.scrypt.N&&(E=r.scrypt.N),r.scrypt.r&&(I=r.scrypt.r),r.scrypt.p&&(P=r.scrypt.p)),_p.scrypt(s,p,E,I,P,64,n).then(b=>{b=V(b);const A=b.slice(0,16),k=b.slice(16,32),B=b.slice(32,64),O=new kn.Counter(x),D=new kn.ModeOfOperation.ctr(A,O),F=V(D.encrypt(i)),j=pe(Re([k,F])),G={address:t.address.substring(2).toLowerCase(),id:pE(w),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Q(x).substring(2)},ciphertext:Q(F).substring(2),kdf:"scrypt",kdfparams:{salt:Q(p).substring(2),n:E,dklen:32,p:P,r:I},mac:j.substring(2)}};if(o){const z=gs(16),X=new kn.Counter(z),ee=new kn.ModeOfOperation.ctr(B,X),ae=V(ee.encrypt(o)),M=new Date,d=M.getUTCFullYear()+"-"+wa(M.getUTCMonth()+1,2)+"-"+wa(M.getUTCDate(),2)+"T"+wa(M.getUTCHours(),2)+"-"+wa(M.getUTCMinutes(),2)+"-"+wa(M.getUTCSeconds(),2)+".0Z";G["x-ethers"]={client:u,gethFilename:"UTC--"+d+"--"+G.address,mnemonicCounter:Q(z).substring(2),mnemonicCiphertext:Q(ae).substring(2),path:a,locale:l,version:"0.1"}}return JSON.stringify(G)})}function CE(t,e,r){if(Ap(t)){r&&r(0);const n=Vw(t,e);return r&&r(1),Promise.resolve(n)}return Sp(t)?SE(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function kE(t,e){if(Ap(t))return Vw(t,e);if(Sp(t))return AE(t,e);throw new Error("invalid JSON wallet")}const NE="wallet/5.7.0";var tx=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Hs=new U(NE);function TE(t){return t!=null&&be(t.privateKey,32)&&t.address!=null}function PE(t){const e=t.mnemonic;return e&&e.phrase}let _o=class ro extends Gr{constructor(e,r){if(super(),TE(e)){const n=new ys(e.privateKey);if(H(this,"_signingKey",()=>n),H(this,"address",Bi(this.publicKey)),this.address!==oe(e.address)&&Hs.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),PE(e)){const i=e.mnemonic;H(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||Do,locale:i.locale||"en"}));const s=this.mnemonic,o=Er.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Bi(o.privateKey)!==this.address&&Hs.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else H(this,"_mnemonic",()=>null)}else{if(ys.isSigningKey(e))e.curve!=="secp256k1"&&Hs.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),H(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new ys(e);H(this,"_signingKey",()=>n)}H(this,"_mnemonic",()=>null),H(this,"address",Bi(this.publicKey))}r&&!Gi.isProvider(r)&&Hs.throwArgumentError("invalid provider","provider",r),H(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new ro(this,e)}signTransaction(e){return pt(e).then(r=>{r.from!=null&&(oe(r.from)!==this.address&&Hs.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(pe(b0(r)));return b0(r,n)})}signMessage(e){return tx(this,void 0,void 0,function*(){return u0(this._signingKey().signDigest(hp(e)))})}_signTypedData(e,r,n){return tx(this,void 0,void 0,function*(){const i=yield Tt.resolveNames(e,r,n,s=>(this.provider==null&&Hs.throwError("cannot resolve ENS names without a provider",U.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return u0(this._signingKey().signDigest(Tt.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),_E(this,e,r,n)}static createRandom(e){let r=gs(16);e||(e={}),e.extraEntropy&&(r=V(Et(pe(Re([r,e.extraEntropy])),0,16)));const n=nf(r,e.locale);return ro.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return CE(e,r,n).then(i=>new ro(i))}static fromEncryptedJsonSync(e,r){return new ro(kE(e,r))}static fromMnemonic(e,r,n){return r||(r=Do),new ro(Er.fromMnemonic(e,null,n).derivePath(r))}};function Yw(t,e){return si(hp(t),e)}function IE(t,e,r,n){return si(Tt.hash(t,e,r),n)}const ME="networks/5.7.1",rx=new U(ME);function RE(t){return t&&typeof t.renetwork=="function"}function Jn(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Jn(r)},e}function mu(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return mu(t,n)},r}const nx={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Jn("homestead")},ix={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Jn("ropsten")},sx={chainId:63,name:"classicMordor",_defaultProvider:mu("https://www.ethercluster.com/mordor","classicMordor")},uc={unspecified:{chainId:0,name:"unspecified"},homestead:nx,mainnet:nx,morden:{chainId:2,name:"morden"},ropsten:ix,testnet:ix,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Jn("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Jn("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Jn("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,name:"sepolia",_defaultProvider:Jn("sepolia")},classic:{chainId:61,name:"classic",_defaultProvider:mu("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:sx,classicTestnet:sx,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:mu("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Jn("matic")},maticmum:{chainId:80001,name:"maticmum"},optimism:{chainId:10,name:"optimism",_defaultProvider:Jn("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function OE(t){if(t==null)return null;if(typeof t=="number"){for(const n in uc){const i=uc[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=uc[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=uc[t.name];if(!e)return typeof t.chainId!="number"&&rx.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&rx.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(RE(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const BE="web/5.7.1";var LE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};function DE(t,e){return LE(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:V(new Uint8Array(i))}})}var FE=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const rn=new U(BE);function ox(t){return new Promise(e=>{setTimeout(e,t)})}function yi(t,e){if(t==null)return null;if(typeof t=="string")return t;if(Ml(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Hi(t)}catch{}return Q(t)}return t}function UE(t){return Ce(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function Xw(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;rn.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;rn.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let l=null;const u={method:"GET"};let p=!1,x=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&rn.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(x=t.timeout),t.headers)for(const A in t.headers)a[A.toLowerCase()]={key:A,value:String(t.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(p=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&rn.throwError("basic authentication requires a secure https url",U.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const A=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+fp(Ce(A))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=It(t.fetchOptions))}const w=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),E=l?l.match(w):null;if(E)try{const A={statusCode:200,statusMessage:"OK",headers:{"content-type":E[1]||"text/plain"},body:E[2]?up(E[3]):UE(E[3])};let k=A.body;return r&&(k=r(A.body,A)),Promise.resolve(k)}catch(A){rn.throwError("processing response error",U.errors.SERVER_ERROR,{body:yi(E[1],E[2]),error:A,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const I={};Object.keys(a).forEach(A=>{const k=a[A];I[k.key]=k.value}),u.headers=I;const P=function(){let A=null;return{promise:new Promise(function(O,D){x&&(A=setTimeout(()=>{A!=null&&(A=null,D(rn.makeError("timeout",U.errors.TIMEOUT,{requestBody:yi(u.body,I["content-type"]),requestMethod:u.method,timeout:x,url:l})))},x))}),cancel:function(){A!=null&&(clearTimeout(A),A=null)}}}(),b=function(){return FE(this,void 0,void 0,function*(){for(let A=0;A<n;A++){let k=null;try{if(k=yield DE(l,u),A<n){if(k.statusCode===301||k.statusCode===302){const O=k.headers.location||"";if(u.method==="GET"&&O.match(/^https:/)){l=k.headers.location;continue}}else if(k.statusCode===429){let O=!0;if(i&&(O=yield i(A,l)),O){let D=0;const F=k.headers["retry-after"];typeof F=="string"&&F.match(/^[1-9][0-9]*$/)?D=parseInt(F)*1e3:D=s*parseInt(String(Math.random()*Math.pow(2,A))),yield ox(D);continue}}}}catch(O){k=O.response,k==null&&(P.cancel(),rn.throwError("missing response",U.errors.SERVER_ERROR,{requestBody:yi(u.body,I["content-type"]),requestMethod:u.method,serverError:O,url:l}))}let B=k.body;if(p&&k.statusCode===304?B=null:!o&&(k.statusCode<200||k.statusCode>=300)&&(P.cancel(),rn.throwError("bad response",U.errors.SERVER_ERROR,{status:k.statusCode,headers:k.headers,body:yi(B,k.headers?k.headers["content-type"]:null),requestBody:yi(u.body,I["content-type"]),requestMethod:u.method,url:l})),r)try{const O=yield r(B,k);return P.cancel(),O}catch(O){if(O.throttleRetry&&A<n){let D=!0;if(i&&(D=yield i(A,l)),D){const F=s*parseInt(String(Math.random()*Math.pow(2,A)));yield ox(F);continue}}P.cancel(),rn.throwError("processing response error",U.errors.SERVER_ERROR,{body:yi(B,k.headers?k.headers["content-type"]:null),error:O,requestBody:yi(u.body,I["content-type"]),requestMethod:u.method,url:l})}return P.cancel(),B}return rn.throwError("failed response",U.errors.SERVER_ERROR,{requestBody:yi(u.body,I["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([P.promise,b])}function Dl(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Hi(s))}catch(l){rn.throwError("invalid JSON",U.errors.SERVER_ERROR,{body:s,error:l})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Ce(e);const s=typeof t=="string"?{url:t}:It(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=It(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return Xw(t,i,n)}function ms(t,e){return e||(e={}),e=It(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let l=0;function u(){return t().then(function(p){if(p!==void 0)o()&&r(p);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(l++,l>a){o()&&n(new Error("retry limit reached"));return}let x=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));x<e.floor&&(x=e.floor),x>e.ceiling&&(x=e.ceiling),setTimeout(u,x)}return null},function(p){o()&&n(p)})}u()})}var xu="qpzry9x8gf2tvdw0s3jn54khce6mua7l",_0={};for(var fc=0;fc<xu.length;fc++){var hd=xu.charAt(fc);if(_0[hd]!==void 0)throw new TypeError(hd+" is ambiguous");_0[hd]=fc}function Co(t){var e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function Zw(t){for(var e=1,r=0;r<t.length;++r){var n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=Co(e)^n>>5}for(e=Co(e),r=0;r<t.length;++r){var i=t.charCodeAt(r);e=Co(e)^i&31}return e}function WE(t,e,r){if(r=r||90,t.length+7+e.length>r)throw new TypeError("Exceeds length limit");t=t.toLowerCase();var n=Zw(t);if(typeof n=="string")throw new Error(n);for(var i=t+"1",s=0;s<e.length;++s){var o=e[s];if(o>>5)throw new Error("Non 5-bit word");n=Co(n)^o,i+=xu.charAt(o)}for(s=0;s<6;++s)n=Co(n);for(n^=1,s=0;s<6;++s){var a=n>>(5-s)*5&31;i+=xu.charAt(a)}return i}function eb(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),n=t.toUpperCase();if(t!==r&&t!==n)return"Mixed-case string "+t;t=r;var i=t.lastIndexOf("1");if(i===-1)return"No separator character for "+t;if(i===0)return"Missing prefix for "+t;var s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)return"Data too short";var a=Zw(s);if(typeof a=="string")return a;for(var l=[],u=0;u<o.length;++u){var p=o.charAt(u),x=_0[p];if(x===void 0)return"Unknown character "+p;a=Co(a)^x,!(u+6>=o.length)&&l.push(x)}return a!==1?"Invalid checksum for "+t:{prefix:s,words:l}}function $E(){var t=eb.apply(null,arguments);if(typeof t=="object")return t}function zE(t){var e=eb.apply(null,arguments);if(typeof e=="object")return e;throw new Error(e)}function sf(t,e,r,n){for(var i=0,s=0,o=(1<<r)-1,a=[],l=0;l<t.length;++l)for(i=i<<e|t[l],s+=e;s>=r;)s-=r,a.push(i>>s&o);if(n)s>0&&a.push(i<<r-s&o);else{if(s>=e)return"Excess padding";if(i<<r-s&o)return"Non-zero padding"}return a}function jE(t){var e=sf(t,8,5,!0);if(Array.isArray(e))return e}function HE(t){var e=sf(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)}function GE(t){var e=sf(t,5,8,!1);if(Array.isArray(e))return e}function qE(t){var e=sf(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}var ax={decodeUnsafe:$E,decode:zE,encode:WE,toWordsUnsafe:jE,toWords:HE,fromWordsUnsafe:GE,fromWords:qE};const of="providers/5.7.2",ba=new U(of);class ie{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),p=x=>this.data(x,!0);return e.transaction={hash:o,type:u,accessList:ie.allowNull(this.accessList.bind(this),null),blockHash:ie.allowNull(o,null),blockNumber:ie.allowNull(l,null),transactionIndex:ie.allowNull(l,null),confirmations:ie.allowNull(l,null),from:r,gasPrice:ie.allowNull(n),maxPriorityFeePerGas:ie.allowNull(n),maxFeePerGas:ie.allowNull(n),gasLimit:n,to:ie.allowNull(r,null),value:n,nonce:l,data:s,r:ie.allowNull(this.uint256),s:ie.allowNull(this.uint256),v:ie.allowNull(l),creates:ie.allowNull(r,null),raw:ie.allowNull(s)},e.transactionRequest={from:ie.allowNull(r),nonce:ie.allowNull(l),gasLimit:ie.allowNull(n),gasPrice:ie.allowNull(n),maxPriorityFeePerGas:ie.allowNull(n),maxFeePerGas:ie.allowNull(n),to:ie.allowNull(r),value:ie.allowNull(n),data:ie.allowNull(p),type:ie.allowNull(l),accessList:ie.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:o,address:r,topics:ie.arrayOf(o),data:s,logIndex:l,blockHash:o},e.receipt={to:ie.allowNull(this.address,null),from:ie.allowNull(this.address,null),contractAddress:ie.allowNull(r,null),transactionIndex:l,root:ie.allowNull(a),gasUsed:n,logsBloom:ie.allowNull(s),blockHash:o,transactionHash:o,logs:ie.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:ie.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:ie.allowNull(n),status:ie.allowNull(l),type:u},e.block={hash:ie.allowNull(o),parentHash:o,number:l,timestamp:l,nonce:ie.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:ie.allowNull(r),extraData:s,transactions:ie.allowNull(ie.arrayOf(o)),baseFeePerGas:ie.allowNull(n)},e.blockWithTransactions=It(e.block),e.blockWithTransactions.transactions=ie.allowNull(ie.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:ie.allowNull(i,void 0),toBlock:ie.allowNull(i,void 0),blockHash:ie.allowNull(o,void 0),address:ie.allowNull(r,void 0),topics:ie.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:ie.allowNull(l),blockHash:ie.allowNull(o),transactionIndex:l,removed:ie.allowNull(this.boolean.bind(this)),address:r,data:ie.allowFalsish(s,"0x"),topics:ie.arrayOf(o),transactionHash:o,logIndex:l},e}accessList(e){return Us(e||[])}number(e){return e==="0x"?0:$.from(e).toNumber()}type(e){return e==="0x"||e==null?0:$.from(e).toNumber()}bigNumber(e){return $.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),be(e))?e.toLowerCase():ba.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return oe(e)}callAddress(e){if(!be(e,32))return null;const r=oe(Et(e,12));return r===qy?null:r}contractAddress(e){return sp(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||be(e))return Rl(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return Dn(n)!==32?ba.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=$.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!be(e))throw new Error("invalid uint256");return Pe(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=ie.check(r,e);return i._difficulty=n==null?null:$.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return ie.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&$.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=ie.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;be(n)&&(n=$.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),be(n)&&(n=$.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Fw(e)}receiptLog(e){return ie.check(this.formats.receiptLog,e)}receipt(e){const r=ie.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=$.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&ba.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):ba.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&ba.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return ie.check(this.formats.filter,e)}filterLog(e){return ie.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var de=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const xe=new U(of),VE=10;function lx(t){return t==null?"null":(Dn(t)!==32&&xe.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function cx(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[lx(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return lx(e)}).join("&")}function KE(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Gs(t){if(typeof t=="string"){if(t=t.toLowerCase(),Dn(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+cx(t);if(Q4.isForkEvent(t))throw xe.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+cx(t.topics||[])}throw new Error("invalid event - "+t)}function va(){return new Date().getTime()}function ux(t){return new Promise(e=>{setTimeout(e,t)})}const JE=["block","network","pending","poll"];class QE{constructor(e,r,n){H(this,"tag",e),H(this,"listener",r),H(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=KE(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||JE.indexOf(this.tag)>=0}}const YE={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function pd(t){return Pe($.from(t).toHexString(),32)}function fx(t){return Bo.encode(Re([t,Et(oi(oi(t)),0,4)]))}const tb=new RegExp("^(ipfs)://(.*)$","i"),dx=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),tb,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function Rc(t,e){try{return Hi(Al(t,e))}catch{}return null}function Al(t,e){if(t==="0x")return null;const r=$.from(Et(t,e,e+32)).toNumber(),n=$.from(Et(t,r,r+32)).toNumber();return Et(t,r+32,r+32+n)}function gd(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):xe.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function hx(t){const e=V(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function XE(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function rb(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=V(t[n]);e[n]=hx(r),e.push(hx(i.length)),e.push(XE(i)),r+=32+Math.ceil(i.length/32)*32}return sr(e)}class C0{constructor(e,r,n,i){H(this,"provider",e),H(this,"name",n),H(this,"address",e.formatter.address(r)),H(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>$.from(e).eq(1)).catch(e=>{if(e.code===U.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return de(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:sr([e,Va(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=sr(["0x9061b923",rb([iw(this.name),n.data])]));try{let s=yield this.provider.call(n);return V(s).length%32===4&&xe.throwError("resolver threw error",U.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Al(s,0)),s}catch(s){if(s.code===U.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return de(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Al(n,0):null})}_getAddress(e,r){const n=YE[String(e)];if(n==null&&xe.throwError(`unsupported coin type: ${e}`,U.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=V(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return fx(Re([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return fx(Re([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=ax.toWords(i.slice(2));return a.unshift(o),ax.encode(n.prefix,a)}}return null}getAddress(e){return de(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===op?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===U.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",pd(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&xe.throwError("invalid or unsupported coin data",U.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return de(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<dx.length;n++){const i=r.match(dx[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:gd(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),p=Pe($.from(l[1]).toHexString(),32);if(s==="erc721"){const P=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:sr(["0x6352211e",p])}));if(a!==P)return null;e.push({type:"owner",content:P})}else if(s==="erc1155"){const P=$.from(yield this.provider.call({to:u,data:sr(["0x00fdd58e",Pe(a,32),p])}));if(P.isZero())return null;e.push({type:"balance",content:P.toString()})}const x={to:this.provider.formatter.address(l[0]),data:sr([o,p])};let w=Rc(yield this.provider.call(x),0);if(w==null)return null;e.push({type:"metadata-url-base",content:w}),s==="erc1155"&&(w=w.replace("{id}",p.substring(2)),e.push({type:"metadata-url-expanded",content:w})),w.match(/^ipfs:/i)&&(w=gd(w)),e.push({type:"metadata-url",content:w});const E=yield Dl(w);if(!E)return null;e.push({type:"metadata",content:JSON.stringify(E)});let I=E.image;if(typeof I!="string")return null;if(!I.match(/^(https:\/\/|data:)/i)){if(I.match(tb)==null)return null;e.push({type:"url-ipfs",content:I}),I=gd(I)}return e.push({type:"url",content:I}),{linkage:e,url:I}}}}}catch{}return null})}getContentHash(){return de(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Bo.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Bo.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const o={"=":"","+":"-","/":"_"};return"sia://"+fp("0x"+s[1]).replace(/[=+\/]/g,l=>o[l])}return xe.throwError("invalid or unsupported content hash data",U.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return de(this,void 0,void 0,function*(){let r=Ce(e);r=Re([pd(64),pd(r.length),r]),r.length%32!==0&&(r=Re([r,Pe("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Q(r));return n==null||n==="0x"?null:Hi(n)})}}let md=null,ZE=1;class nb extends Gi{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),H(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=cn(new.target,"getNetwork")(e);r?(H(this,"_network",r),this.emit("network",r,null)):xe.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return de(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||xe.throwError("no network detected",U.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:H(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return ms(()=>this._ready().then(e=>e,e=>{if(!(e.code===U.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return md==null&&(md=new ie),md}static getNetwork(e){return OE(e??"homestead")}ccipReadFetch(e,r,n){return de(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const l=n[a],u=l.replace("{sender}",i).replace("{data}",s),p=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),x=yield Dl({url:u,errorPassThrough:!0},p,(E,I)=>(E.status=I.statusCode,E));if(x.data)return x.data;const w=x.message||"unknown error";if(x.status>=400&&x.status<500)return xe.throwError(`response not found during CCIP fetch: ${w}`,U.errors.SERVER_ERROR,{url:l,errorMessage:w});o.push(w)}return xe.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,U.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return de(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(va()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=va(),n=pt({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=va();return i=$.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return de(this,void 0,void 0,function*(){const e=ZE++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)xe.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",xe.makeError("network block skew detected",U.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return de(this,void 0,void 0,function*(){return xe.throwError("provider does not support network detection",U.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return de(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield ux(0),this._network;const n=xe.makeError("underlying network changed",U.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=va();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=va(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return de(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return de(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const l=[];let u=!1;const p=function(){return u?!0:(u=!0,l.forEach(w=>{w()}),!1)},x=w=>{w.confirmations<r||p()||o(w)};if(this.on(e,x),l.push(()=>{this.removeListener(e,x)}),i){let w=i.startBlock,E=null;const I=P=>de(this,void 0,void 0,function*(){u||(yield ux(1e3),this.getTransactionCount(i.from).then(b=>de(this,void 0,void 0,function*(){if(!u){if(b<=i.nonce)w=P;else{{const A=yield this.getTransaction(e);if(A&&A.blockNumber!=null)return}for(E==null&&(E=w-3,E<i.startBlock&&(E=i.startBlock));E<=P;){if(u)return;const A=yield this.getBlockWithTransactions(E);for(let k=0;k<A.transactions.length;k++){const B=A.transactions[k];if(B.hash===e)return;if(B.from===i.from&&B.nonce===i.nonce){if(u)return;const O=yield this.waitForTransaction(B.hash,r);if(p())return;let D="replaced";B.data===i.data&&B.to===i.to&&B.value.eq(i.value)?D="repriced":B.data==="0x"&&B.from===B.to&&B.value.isZero()&&(D="cancelled"),a(xe.makeError("transaction was replaced",U.errors.TRANSACTION_REPLACED,{cancelled:D==="replaced"||D==="cancelled",reason:D,replacement:this._wrapTransaction(B),hash:e,receipt:O}));return}}E++}}u||this.once("block",I)}}),b=>{u||this.once("block",I)}))});if(u)return;this.once("block",I),l.push(()=>{this.removeListener("block",I)})}if(typeof n=="number"&&n>0){const w=setTimeout(()=>{p()||a(xe.makeError("timeout exceeded",U.errors.TIMEOUT,{timeout:n}))},n);w.unref&&w.unref(),l.push(()=>{clearTimeout(w)})}})})}getBlockNumber(){return de(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return de(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return $.from(e)}catch(r){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return de(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return $.from(i)}catch(s){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return de(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return $.from(i).toNumber()}catch(s){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return de(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Q(i)}catch(s){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return de(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield pt({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>Rl(o))}),s=yield this.perform("getStorageAt",i);try{return Q(s)}catch(o){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&Dn(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&xe.throwError("Transaction hash mismatch from Provider.sendTransaction.",U.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>de(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,o,a);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&xe.throwError("transaction failed",U.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return de(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Q(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return de(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?$.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Q(s):null))}),this.formatter.transactionRequest(yield pt(n))})}_getFilter(e){return de(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield pt(r))})}_call(e,r,n){return de(this,void 0,void 0,function*(){n>=VE&&xe.throwError("CCIP read exceeded maximum redirections",U.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&Dn(s)%32===4)try{const o=Et(s,4),a=Et(o,0,32);$.from(a).eq(i)||xe.throwError("CCIP Read sender did not match",U.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],u=$.from(Et(o,32,64)).toNumber(),p=$.from(Et(o,u,u+32)).toNumber(),x=Et(o,u+32);for(let A=0;A<p;A++){const k=Rc(x,A*32);k==null&&xe.throwError("CCIP Read contained corrupt URL string",U.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(k)}const w=Al(o,64);$.from(Et(o,100,128)).isZero()||xe.throwError("CCIP Read callback selector included junk",U.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const E=Et(o,96,100),I=Al(o,128),P=yield this.ccipReadFetch(e,w,l);P==null&&xe.throwError("CCIP Read disabled or provided no URLs",U.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const b={to:i,data:sr([E,rb([P,I])])};return this._call(b,r,n+1)}catch(o){if(o.code===U.errors.SERVER_ERROR)throw o}try{return Q(s)}catch(o){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return de(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield pt({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return de(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pt({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return $.from(n)}catch(i){return xe.throwError("bad result from backend",U.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return de(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&xe.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&xe.throwError("ENS name not configured",U.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return de(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(be(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),be(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{xe.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return ms(()=>de(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let l=0;l<s.transactions.length;l++){const u=s.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let p=o-u.blockNumber+1;p<=0&&(p=1),u.confirmations=p}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(l=>this._wrapTransaction(l)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return de(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ms(()=>de(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return de(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return ms(()=>de(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return de(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield pt({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),ie.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return de(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return de(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&xe.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return de(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new C0(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return de(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||xe.throwError("network does not support ENS",U.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+Va(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return de(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(be(e))throw n}typeof e!="string"&&xe.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return de(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=Rc(yield this.call({to:n,data:"0x691f3431"+Va(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return de(this,void 0,void 0,function*(){let r=null;if(be(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new C0(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==U.errors.CALL_EXCEPTION)throw a}try{const a=Rc(yield this.call({to:o,data:"0x691f3431"+Va(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==U.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return xe.throwError(e+" not implemented",U.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new QE(Gs(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Gs(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=Gs(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Gs(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Gs(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Gs(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var qn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})};const Pt=new U(of),e7=["call","estimateGas"];function Ja(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=be(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=Ja(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return Ja(JSON.parse(t),e)}catch{}return null}function ib(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=Ja(e,!0);if(s)return s.data;Pt.throwError("missing revert data in call exception; Transaction reverted without a reason string",U.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=Ja(e.body,!1);s==null&&(s=Ja(e,!1)),s&&Pt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",U.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===U.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&Pt.throwError("insufficient funds for intrinsic transaction cost",U.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&Pt.throwError("nonce has already been used",U.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&Pt.throwError("replacement fee too low",U.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&Pt.throwError("legacy pre-eip-155 transactions not supported",U.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),e7.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&Pt.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",U.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function px(t){return new Promise(function(e){setTimeout(e,t)})}function t7(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function Ea(t){return t&&t.toLowerCase()}const k0={};class sb extends Gr{constructor(e,r,n){if(super(),e!==k0)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");H(this,"provider",r),n==null&&(n=0),typeof n=="string"?(H(this,"_address",this.provider.formatter.address(n)),H(this,"_index",null)):typeof n=="number"?(H(this,"_index",n),H(this,"_address",null)):Pt.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return Pt.throwError("cannot alter JSON-RPC Signer connection",U.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new r7(k0,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&Pt.throwError("unknown account #"+this._index,U.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=It(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=It(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>qn(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&Pt.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),pt({tx:pt(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&Pt.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&Pt.throwError("user rejected transaction",U.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),ib("sendTransaction",o,s)))})}signTransaction(e){return Pt.throwError("signing transactions is unsupported",U.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return qn(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield ms(()=>qn(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return qn(this,void 0,void 0,function*(){const r=typeof e=="string"?Ce(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Q(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Pt.throwError("user rejected signing",U.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return qn(this,void 0,void 0,function*(){const r=typeof e=="string"?Ce(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Q(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&Pt.throwError("user rejected signing",U.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return qn(this,void 0,void 0,function*(){const i=yield Tt.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Tt.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&Pt.throwError("user rejected signing",U.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return qn(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}let r7=class extends sb{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}};const n7={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};let Fl=class extends nb{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=cn(this.constructor,"defaultUrl")()),typeof e=="string"?H(this,"connection",Object.freeze({url:e})):H(this,"connection",Object.freeze(It(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return qn(this,void 0,void 0,function*(){yield px(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=cn(this.constructor,"getNetwork");try{return r($.from(e).toNumber())}catch(n){return Pt.throwError("could not detect network",U.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return Pt.throwError("could not detect network",U.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new sb(k0,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Fn(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=Dl(this.connection,JSON.stringify(n),t7).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[Ea(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[Ea(r.address),r.blockTag]];case"getCode":return["eth_getCode",[Ea(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[Ea(r.address),Pe(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[cn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[cn(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=Ea(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return qn(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&$.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=It(r),r.transaction=It(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&Pt.throwError(e+" not implemented",U.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return ib(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(l){return e.emit("pending",l),null})})}),o.then(function(){return px(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=It(n7);if(r)for(const s in r)r[s]&&(n[s]=!0);Ku(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Rl($.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Q(e[s]))}),e.accessList&&(i.accessList=Us(e.accessList)),i}};const gx=new U(of);let i7=1;function mx(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:i7++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Fn(s),provider:this}),e(s,(l,u)=>{if(l)return this.emit("debug",{action:"response",fetcher:r,error:l,request:s,provider:this}),a(l);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:u,provider:this}),u.error){const p=new Error(u.error.message);return p.code=u.error.code,p.data=u.error.data,a(p)}o(u.result)})})}}function s7(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Fn(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}let o7=class extends Fl{constructor(e,r){e==null&&gx.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=s7(e)):e.sendAsync?i=mx(e,e.sendAsync.bind(e)):e.send?i=mx(e,e.send.bind(e)):gx.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),H(this,"jsonRpcFetchFunc",i),H(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}};const a7="solidity/5.7.0",l7=new RegExp("^bytes([0-9]+)$"),c7=new RegExp("^(u?int)([0-9]*)$"),u7=new RegExp("^(.*)\\[([0-9]*)\\]$"),f7="0000000000000000000000000000000000000000000000000000000000000000",no=new U(a7);function ob(t,e,r){switch(t){case"address":return r?Ha(e,32):V(e);case"string":return Ce(e);case"bytes":return V(e);case"bool":return e=e?"0x01":"0x00",r?Ha(e,32):V(e)}let n=t.match(c7);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&no.throwArgumentError("invalid number type","type",t),r&&(i=256),e=$.from(e).toTwos(i),Ha(e,i/8)}if(n=t.match(l7),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&no.throwArgumentError("invalid bytes type","type",t),V(e).byteLength!==i&&no.throwArgumentError(`invalid value for ${t}`,"value",e),r?V((e+f7).substring(0,66)):e}if(n=t.match(u7),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&no.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(ob(i,a,!0))}),Re(o)}return no.throwArgumentError("invalid type","type",t)}function mr(t,e){t.length!=e.length&&no.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(ob(n,e[i]))}),Q(Re(r))}function d7(t,e){return pe(mr(t,e))}function h7(t,e){return oi(mr(t,e))}const p7="units/5.7.0",ab=new U(p7),lb=["wei","kwei","mwei","gwei","szabo","finney","ether"];function g7(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&ab.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function cb(t,e){if(typeof e=="string"){const r=lb.indexOf(e);r!==-1&&(e=3*r)}return kc(t,e??18)}function yu(t,e){if(typeof t!="string"&&ab.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=lb.indexOf(e);r!==-1&&(e=3*r)}return gn(t,e??18)}function m7(t){return cb(t,18)}function N0(t){return yu(t,18)}const x7=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:Yy,ConstructorFragment:on,ErrorFragment:Yn,EventFragment:bn,FormatTypes:Se,Fragment:_n,FunctionFragment:an,HDNode:Er,Indexed:du,Interface:St,LogDescription:lw,Logger:U,ParamType:Bt,RLP:C6,SigningKey:ys,get SupportedAlgorithm(){return Lo},TransactionDescription:cw,get TransactionTypes(){return w0},get UnicodeNormalizationForm(){return Un},Utf8ErrorFuncs:Jy,get Utf8ErrorReason(){return gr},_TypedDataEncoder:Tt,_fetchData:Xw,_toEscapedUtf8String:V6,accessListify:Us,arrayify:V,base58:Bo,base64:d4,checkProperties:Ku,checkResultErrors:Uy,commify:g7,computeAddress:Bi,computeHmac:vl,computePublicKey:yp,concat:Re,deepCopy:Fn,defaultAbiCoder:dn,defaultPath:Do,defineReadOnly:H,dnsEncode:iw,entropyToMnemonic:nf,fetchJson:Dl,formatBytes32String:K6,formatEther:m7,formatUnits:cb,getAccountPath:cE,getAddress:oe,getContractAddress:sp,getCreate2Address:M6,getIcapAddress:I6,getJsonWalletAddress:xE,getStatic:cn,hashMessage:hp,hexConcat:sr,hexDataLength:Dn,hexDataSlice:Et,hexStripZeros:Py,hexValue:Rl,hexZeroPad:Pe,hexlify:Q,id:_i,isAddress:P6,isBytes:ui,isBytesLike:Ml,isHexString:be,isValidMnemonic:lE,isValidName:L4,joinSignature:u0,keccak256:pe,mnemonicToEntropy:rf,mnemonicToSeed:Gw,namehash:Va,nameprep:l4,parseBytes32String:J6,parseEther:N0,parseTransaction:Fw,parseUnits:yu,poll:ms,randomBytes:gs,recoverAddress:si,recoverPublicKey:Rw,resolveProperties:pt,ripemd160:zw,serializeTransaction:b0,sha256:oi,sha512:Z8,shallowCopy:It,shuffled:dE,solidityKeccak256:d7,solidityPack:mr,soliditySha256:h7,splitSignature:pn,stripZeros:Mn,toUtf8Bytes:Ce,toUtf8CodePoints:uu,toUtf8String:Hi,verifyMessage:Yw,verifyTypedData:IE,zeroPad:Ha},Symbol.toStringTag,{value:"Module"})),y7="ethers/5.7.2";new U(y7);const w7=[{type:"function",name:"isValidSignature",constant:!0,inputs:[{type:"bytes32"},{type:"bytes"}],outputs:[{type:"bytes4"}],payable:!1,stateMutability:"view"}],b7={isValidSignatureBytes32:"0x1626ba7e"};var v7=Object.freeze({__proto__:null,abi:w7,returns:b7});const E7=[{type:"function",name:"deploy",constant:!1,inputs:[{type:"address"},{type:"bytes32"}],outputs:[],payable:!0,stateMutability:"payable"}];var A7=Object.freeze({__proto__:null,abi:E7});const S7=[{type:"function",name:"nonce",constant:!0,inputs:[],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"readNonce",constant:!0,inputs:[{type:"uint256"}],outputs:[{type:"uint256"}],payable:!1,stateMutability:"view"},{type:"function",name:"updateImplementation",constant:!1,inputs:[{type:"address"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"selfExecute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"execute",constant:!1,inputs:[{components:[{type:"bool",name:"delegateCall"},{type:"bool",name:"revertOnError"},{type:"uint256",name:"gasLimit"},{type:"address",name:"target"},{type:"uint256",name:"value"},{type:"bytes",name:"data"}],type:"tuple[]"},{type:"uint256"},{type:"bytes"}],outputs:[],payable:!1,stateMutability:"nonpayable"},{type:"function",name:"createContract",inputs:[{type:"bytes"}],payable:!0,stateMutability:"payable"}];var _7=Object.freeze({__proto__:null,abi:S7});const C7=[{type:"function",name:"updateImageHash",constant:!0,inputs:[{type:"bytes32"}],outputs:[],payable:!1,stateMutability:"view"},{type:"function",name:"imageHash",constant:!0,inputs:[],outputs:[{type:"bytes32"}],payable:!1,stateMutability:"view"}];var k7=Object.freeze({__proto__:null,abi:C7});const N7=[{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_mainModule",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"bytes32",name:"_imageHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"_threshold",type:"uint256"},{indexed:!1,internalType:"bytes",name:"_signers",type:"bytes"}],name:"RequiredConfig",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_wallet",type:"address"},{indexed:!0,internalType:"address",name:"_signer",type:"address"}],name:"RequiredSigner",type:"event"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callBalanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_i",type:"uint256"}],name:"callBlockhash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"callChainId",outputs:[{internalType:"uint256",name:"id",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCode",outputs:[{internalType:"bytes",name:"code",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeHash",outputs:[{internalType:"bytes32",name:"codeHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_addr",type:"address"}],name:"callCodeSize",outputs:[{internalType:"uint256",name:"size",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callCoinbase",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callDifficulty",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLeft",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasLimit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callGasPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"callOrigin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"callTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"knownImageHashes",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"lastImageHashUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastSignerUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"lastWalletUpdate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bool",name:"delegateCall",type:"bool"},{internalType:"bool",name:"revertOnError",type:"bool"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct IModuleCalls.Transaction[]",name:"_txs",type:"tuple[]"}],name:"multiCall",outputs:[{internalType:"bool[]",name:"_successes",type:"bool[]"},{internalType:"bytes[]",name:"_results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"},{components:[{internalType:"uint256",name:"weight",type:"uint256"},{internalType:"address",name:"signer",type:"address"}],internalType:"struct RequireUtils.Member[]",name:"_members",type:"tuple[]"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"uint256",name:"_sizeMembers",type:"uint256"},{internalType:"bytes",name:"_signature",type:"bytes"},{internalType:"bool",name:"_index",type:"bool"}],name:"publishInitialSigners",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"requireMinNonce",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_expiration",type:"uint256"}],name:"requireNonExpired",outputs:[],stateMutability:"view",type:"function"}];var T7=Object.freeze({__proto__:null,abi:N7});const P7=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"requireFreshSigner",outputs:[],stateMutability:"nonpayable",type:"function"}];var I7=Object.freeze({__proto__:null,abi:P7});const gt={erc1271:v7,factory:A7,mainModule:_7,mainModuleUpgradable:k7,sequenceUtils:T7,requireFreshSigner:I7},M7=Object.freeze(Object.defineProperty({__proto__:null,walletContracts:gt},Symbol.toStringTag,{value:"Module"}));function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}const R7="v1",O7="v0.4.0",B7="698db8d7b44b6d14f6a8a70e6bd50ac3ecda9be3";let T0;(function(t){t.UNKNOWN="UNKNOWN",t.RUNNING_CHECKS="RUNNING_CHECKS",t.PROCESSING="PROCESSING",t.FAILED="FAILED",t.COMPLETE="COMPLETE"})(T0||(T0={}));let P0;(function(t){t.UNKNOWN="UNKNOWN",t.SUCCESSFUL="SUCCESSFUL",t.FAILED="FAILED"})(P0||(P0={}));let I0;(function(t){t.DESC="DESC",t.ASC="ASC"})(I0||(I0={}));class ub{constructor(e,r){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/API/",this.ping=n=>this.fetch(this.url("Ping"),le({},n)).then(i=>ce(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),le({},n)).then(i=>ce(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),le({},n)).then(i=>ce(i).then(s=>({status:s.status}))),this.getSequenceContext=n=>this.fetch(this.url("GetSequenceContext"),le({},n)).then(i=>ce(i).then(s=>({data:s.data}))),this.getAuthToken=(n,i)=>this.fetch(this.url("GetAuthToken"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status,jwtToken:o.jwtToken,address:o.address,user:o.user}))),this.sendPasswordlessLink=(n,i)=>this.fetch(this.url("SendPasswordlessLink"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status}))),this.friendList=(n,i)=>this.fetch(this.url("FriendList"),le(n,i)).then(s=>ce(s).then(o=>({page:o.page,friends:o.friends}))),this.getFriendByAddress=(n,i)=>this.fetch(this.url("GetFriendByAddress"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status,friend:o.friend}))),this.searchFriends=(n,i)=>this.fetch(this.url("SearchFriends"),le(n,i)).then(s=>ce(s).then(o=>({friends:o.friends}))),this.addFriend=(n,i)=>this.fetch(this.url("AddFriend"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status,friend:o.friend}))),this.updateFriendNickname=(n,i)=>this.fetch(this.url("UpdateFriendNickname"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status,friend:o.friend}))),this.removeFriend=(n,i)=>this.fetch(this.url("RemoveFriend"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status}))),this.contractCall=(n,i)=>this.fetch(this.url("ContractCall"),le(n,i)).then(s=>ce(s).then(o=>({returns:o.returns}))),this.decodeContractCall=(n,i)=>this.fetch(this.url("DecodeContractCall"),le(n,i)).then(s=>ce(s).then(o=>({call:o.call}))),this.lookupContractCallSelectors=(n,i)=>this.fetch(this.url("LookupContractCallSelectors"),le(n,i)).then(s=>ce(s).then(o=>({signatures:o.signatures}))),this.userStorageFetch=(n,i)=>this.fetch(this.url("UserStorageFetch"),le(n,i)).then(s=>ce(s).then(o=>({object:o.object}))),this.userStorageSave=(n,i)=>this.fetch(this.url("UserStorageSave"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok}))),this.userStorageDelete=(n,i)=>this.fetch(this.url("UserStorageDelete"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok}))),this.userStorageFetchAll=(n,i)=>this.fetch(this.url("UserStorageFetchAll"),le(n,i)).then(s=>ce(s).then(o=>({objects:o.objects}))),this.getMoonpayLink=(n,i)=>this.fetch(this.url("GetMoonpayLink"),le(n,i)).then(s=>ce(s).then(o=>({signedUrl:o.signedUrl}))),this.getSardineClientToken=n=>this.fetch(this.url("GetSardineClientToken"),le({},n)).then(i=>ce(i).then(s=>({token:s.token}))),this.isUsingGoogleMail=(n,i)=>this.fetch(this.url("IsUsingGoogleMail"),le(n,i)).then(s=>ce(s).then(o=>({yes:o.yes}))),this.resolveENSAddress=(n,i)=>this.fetch(this.url("ResolveENSAddress"),le(n,i)).then(s=>ce(s).then(o=>({address:o.address,ok:o.ok}))),this.isValidSignature=(n,i)=>this.fetch(this.url("IsValidSignature"),le(n,i)).then(s=>ce(s).then(o=>({isValid:o.isValid}))),this.isValidMessageSignature=(n,i)=>this.fetch(this.url("IsValidMessageSignature"),le(n,i)).then(s=>ce(s).then(o=>({isValid:o.isValid}))),this.isValidTypedDataSignature=(n,i)=>this.fetch(this.url("IsValidTypedDataSignature"),le(n,i)).then(s=>ce(s).then(o=>({isValid:o.isValid}))),this.isValidETHAuthProof=(n,i)=>this.fetch(this.url("IsValidETHAuthProof"),le(n,i)).then(s=>ce(s).then(o=>({isValid:o.isValid}))),this.getCoinPrices=(n,i)=>this.fetch(this.url("GetCoinPrices"),le(n,i)).then(s=>ce(s).then(o=>({tokenPrices:o.tokenPrices}))),this.getCollectiblePrices=(n,i)=>this.fetch(this.url("GetCollectiblePrices"),le(n,i)).then(s=>ce(s).then(o=>({tokenPrices:o.tokenPrices}))),this.getExchangeRate=(n,i)=>this.fetch(this.url("GetExchangeRate"),le(n,i)).then(s=>ce(s).then(o=>({exchangeRate:o.exchangeRate}))),this.memoryStore=(n,i)=>this.fetch(this.url("MemoryStore"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok}))),this.memoryLoad=(n,i)=>this.fetch(this.url("MemoryLoad"),le(n,i)).then(s=>ce(s).then(o=>({value:o.value}))),this.listPayCardsOnFile=n=>this.fetch(this.url("ListPayCardsOnFile"),le({},n)).then(i=>ce(i).then(s=>({payCards:s.payCards}))),this.savePayCard=(n,i)=>this.fetch(this.url("SavePayCard"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok,payCard:o.payCard}))),this.updatePayCardCVC=(n,i)=>this.fetch(this.url("UpdatePayCardCVC"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok}))),this.deletePayCard=(n,i)=>this.fetch(this.url("DeletePayCard"),le(n,i)).then(s=>ce(s).then(o=>({ok:o.ok}))),this.smartRampQuote=(n,i)=>this.fetch(this.url("SmartRampQuote"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status,quoteDetails:o.quoteDetails}))),this.smartRampPurchase=(n,i)=>this.fetch(this.url("SmartRampPurchase"),le(n,i)).then(s=>ce(s).then(o=>({processing:o.processing,receipt:o.receipt}))),this.smartRampWaitOrderConfirmation=(n,i)=>this.fetch(this.url("SmartRampWaitOrderConfirmation"),le(n,i)).then(s=>ce(s).then(o=>({done:o.done,receipt:o.receipt}))),this.smartRampGetOrder=(n,i)=>this.fetch(this.url("SmartRampGetOrder"),le(n,i)).then(s=>ce(s).then(o=>({order:o.order}))),this.smartRampCheckCardAuthorization=(n,i)=>this.fetch(this.url("SmartRampCheckCardAuthorization"),le(n,i)).then(s=>ce(s).then(o=>({cardAuth:o.cardAuth}))),this.smartRampOrdersList=(n,i)=>this.fetch(this.url("SmartRampOrdersList"),le(n,i)).then(s=>ce(s).then(o=>({page:o.page,orders:o.orders}))),this.smartRampGetOrderTxnHash=(n,i)=>this.fetch(this.url("SmartRampGetOrderTxnHash"),le(n,i)).then(s=>ce(s).then(o=>({txnHash:o.txnHash,txnSuccessful:o.txnSuccessful}))),this.smartRampSubmitCardAuthorization=(n,i)=>this.fetch(this.url("SmartRampSubmitCardAuthorization"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status}))),this.adminSmartRampGetOrder=(n,i)=>this.fetch(this.url("AdminSmartRampGetOrder"),le(n,i)).then(s=>ce(s).then(o=>({order:o.order}))),this.adminSmartRampListCompletedOrders=(n,i)=>this.fetch(this.url("AdminSmartRampListCompletedOrders"),le(n,i)).then(s=>ce(s).then(o=>({orders:o.orders}))),this.adminSmartRampListPendingOrders=(n,i)=>this.fetch(this.url("AdminSmartRampListPendingOrders"),le(n,i)).then(s=>ce(s).then(o=>({pendingOrders:o.pendingOrders}))),this.getInviteInfo=n=>this.fetch(this.url("GetInviteInfo"),le({},n)).then(i=>ce(i).then(s=>({inviteInfo:s.inviteInfo}))),this.isValidAccessCode=(n,i)=>this.fetch(this.url("IsValidAccessCode"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status}))),this.internalClaimAccessCode=(n,i)=>this.fetch(this.url("InternalClaimAccessCode"),le(n,i)).then(s=>ce(s).then(o=>({status:o.status}))),this.walletRecover=(n,i)=>this.fetch(this.url("WalletRecover"),le(n,i)).then(s=>ce(s).then(o=>({encryptedWallet:o.encryptedWallet}))),this.blockNumberAtTime=(n,i)=>this.fetch(this.url("BlockNumberAtTime"),le(n,i)).then(s=>ce(s).then(o=>({blocks:o.blocks}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const le=(t={},e={})=>({method:"POST",headers:wu({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),ce=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r});class Oc extends ub{constructor(e,r){super(e.endsWith("/")?e.slice(0,-1):e,global.fetch),this.jwtAuth=r,this._fetch=(n,i)=>{const s={};return this.jwtAuth&&this.jwtAuth.length>0&&(s.Authorization=`BEARER ${this.jwtAuth}`),i.headers=wu({},i.headers,s),global.fetch(n,i)},this.fetch=this._fetch}}const L7=Object.freeze(Object.defineProperty({__proto__:null,API:ub,SequenceAPIClient:Oc,get SmartRampOrderStatus(){return T0},get SmartRampTxnStatus(){return P0},get SortOrder(){return I0},WebRPCSchemaHash:B7,WebRPCSchemaVersion:O7,WebRPCVersion:R7},Symbol.toStringTag,{value:"Module"})),fb="3.7.3",D7=fb,F7=typeof atob=="function",U7=typeof btoa=="function",ea=typeof Buffer=="function",xx=typeof TextDecoder=="function"?new TextDecoder:void 0,yx=typeof TextEncoder=="function"?new TextEncoder:void 0,W7="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ta=Array.prototype.slice.call(W7),dc=(t=>{let e={};return t.forEach((r,n)=>e[r]=n),e})(Ta),$7=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,zt=String.fromCharCode.bind(String),wx=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(t,e=r=>r)=>new Uint8Array(Array.prototype.slice.call(t,0).map(e)),db=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),hb=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),pb=t=>{let e,r,n,i,s="";const o=t.length%3;for(let a=0;a<t.length;){if((r=t.charCodeAt(a++))>255||(n=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=r<<16|n<<8|i,s+=Ta[e>>18&63]+Ta[e>>12&63]+Ta[e>>6&63]+Ta[e&63]}return o?s.slice(0,o-3)+"===".substring(o):s},Cp=U7?t=>btoa(t):ea?t=>Buffer.from(t,"binary").toString("base64"):pb,M0=ea?t=>Buffer.from(t).toString("base64"):t=>{let r=[];for(let n=0,i=t.length;n<i;n+=4096)r.push(zt.apply(null,t.subarray(n,n+4096)));return Cp(r.join(""))},Bc=(t,e=!1)=>e?db(M0(t)):M0(t),z7=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?zt(192|e>>>6)+zt(128|e&63):zt(224|e>>>12&15)+zt(128|e>>>6&63)+zt(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return zt(240|e>>>18&7)+zt(128|e>>>12&63)+zt(128|e>>>6&63)+zt(128|e&63)}},j7=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,gb=t=>t.replace(j7,z7),bx=ea?t=>Buffer.from(t,"utf8").toString("base64"):yx?t=>M0(yx.encode(t)):t=>Cp(gb(t)),ko=(t,e=!1)=>e?db(bx(t)):bx(t),vx=t=>ko(t,!0),H7=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,G7=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),r=e-65536;return zt((r>>>10)+55296)+zt((r&1023)+56320);case 3:return zt((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return zt((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},mb=t=>t.replace(H7,G7),xb=t=>{if(t=t.replace(/\s+/g,""),!$7.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,r="",n,i;for(let s=0;s<t.length;)e=dc[t.charAt(s++)]<<18|dc[t.charAt(s++)]<<12|(n=dc[t.charAt(s++)])<<6|(i=dc[t.charAt(s++)]),r+=n===64?zt(e>>16&255):i===64?zt(e>>16&255,e>>8&255):zt(e>>16&255,e>>8&255,e&255);return r},kp=F7?t=>atob(hb(t)):ea?t=>Buffer.from(t,"base64").toString("binary"):xb,yb=ea?t=>wx(Buffer.from(t,"base64")):t=>wx(kp(t),e=>e.charCodeAt(0)),wb=t=>yb(bb(t)),q7=ea?t=>Buffer.from(t,"base64").toString("utf8"):xx?t=>xx.decode(yb(t)):t=>mb(kp(t)),bb=t=>hb(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),R0=t=>q7(bb(t)),V7=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},vb=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),Eb=function(){const t=(e,r)=>Object.defineProperty(String.prototype,e,vb(r));t("fromBase64",function(){return R0(this)}),t("toBase64",function(e){return ko(this,e)}),t("toBase64URI",function(){return ko(this,!0)}),t("toBase64URL",function(){return ko(this,!0)}),t("toUint8Array",function(){return wb(this)})},Ab=function(){const t=(e,r)=>Object.defineProperty(Uint8Array.prototype,e,vb(r));t("toBase64",function(e){return Bc(this,e)}),t("toBase64URI",function(){return Bc(this,!0)}),t("toBase64URL",function(){return Bc(this,!0)})},K7=()=>{Eb(),Ab()},Is={version:fb,VERSION:D7,atob:kp,atobPolyfill:xb,btoa:Cp,btoaPolyfill:pb,fromBase64:R0,toBase64:ko,encode:ko,encodeURI:vx,encodeURL:vx,utob:gb,btou:mb,decode:R0,isValid:V7,fromUint8Array:Bc,toUint8Array:wb,extendString:Eb,extendUint8Array:Ab,extendBuiltins:K7};var O0=function(){return O0=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},O0.apply(this,arguments)};function ls(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(p){try{u(n.next(p))}catch(x){o(x)}}function l(p){try{u(n.throw(p))}catch(x){o(x)}}function u(p){p.done?s(p.value):i(p.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function cs(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(p){return l([u,p])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(p){u=[6,p],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var J7=function(t){return Tt.hash(t.domain,t.types,t.message)},af=function(){function t(e){this.prefix=B0,this.address=e!=null&&e.address?e.address.toLowerCase():"",this.claims=e!=null&&e.claims?e.claims:{app:"",iat:0,exp:0,v:_b},this.signature=e!=null&&e.signature?e.signature:"",this.extra=e!=null&&e.extra?e.extra:""}return t.prototype.setIssuedAtNow=function(){this.claims.iat=Math.round(new Date().getTime()/1e3)},t.prototype.setExpiryIn=function(e){this.claims.exp=Math.round(new Date().getTime()/1e3)+e},t.prototype.validateClaims=function(){return Q7(this.claims)},t.prototype.messageDigest=function(){var e=this.validateClaims();if(e.err)throw e.err;return V(J7(this.messageTypedData()))},t.prototype.messageTypedData=function(){var e=O0({},Z7),r={Claims:[]},n={},i={domain:e,types:r,message:n};return this.claims.app&&this.claims.app.length>0&&(i.types.Claims.push({name:"app",type:"string"}),i.message.app=this.claims.app),this.claims.iat&&this.claims.iat>0&&(i.types.Claims.push({name:"iat",type:"int64"}),i.message.iat=this.claims.iat),this.claims.exp&&this.claims.exp>0&&(i.types.Claims.push({name:"exp",type:"int64"}),i.message.exp=this.claims.exp),this.claims.n&&this.claims.n>0&&(i.types.Claims.push({name:"n",type:"uint64"}),i.message.n=this.claims.n),this.claims.typ&&this.claims.typ.length>0&&(i.types.Claims.push({name:"typ",type:"string"}),i.message.typ=this.claims.typ),this.claims.ogn&&this.claims.ogn.length>0&&(i.types.Claims.push({name:"ogn",type:"string"}),i.message.ogn=this.claims.ogn),this.claims.v&&this.claims.v.length>0&&(i.types.Claims.push({name:"v",type:"string"}),i.message.v=this.claims.v),i},t}(),Q7=function(t){if(t.app==="")return{ok:!1,err:new Error("claims: app is empty")};var e=Math.round(new Date().getTime()/1e3),r=5*60,n=60*60*24*365+r;return t.v===""?{ok:!1,err:new Error("claims: ethauth version is empty")}:t.iat&&t.iat!==0&&(t.iat>e+r||t.iat<e-n)?{ok:!1,err:new Error("claims: iat is invalid")}:t.exp<e-r||t.exp>e+n?{ok:!1,err:new Error("claims: token has expired")}:{ok:!0}},Y7=function(t,e,r){return ls(void 0,void 0,void 0,function(){var n,i;return cs(this,function(s){return n=r.messageDigest(),i=Yw(n,r.signature),i.slice(0,2)==="0x"&&i.length===42&&i.toLowerCase()===r.address.toLowerCase()?[2,{isValid:!0,address:r.address}]:[2,{isValid:!1}]})})},X7=function(t,e,r){return ls(void 0,void 0,void 0,function(){var n,i,s,o,a;return cs(this,function(l){switch(l.label){case 0:return!t||t===void 0?[2,{isValid:!1}]:(n=r.messageDigest(),[4,t.getCode(r.address)]);case 1:if(i=l.sent(),i==="0x"||i.length<=2)throw new Error("ValidateContractAccountProof failed. unable to fetch wallet contract code");return s=["function isValidSignature(bytes32, bytes) public view returns (bytes4)"],o=new Cn(r.address,s,t),[4,o.isValidSignature(n,V(r.signature))];case 2:return a=l.sent(),a===Sb?[2,{isValid:!0,address:r.address}]:[2,{isValid:!1}]}})})},Sb="0x1626ba7e",_b="1",B0="eth",Z7={name:"ETHAuth",version:_b},bu=function(){function t(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this;this.configJsonRpcProvider=function(i){return ls(n,void 0,void 0,function(){var s;return cs(this,function(o){switch(o.label){case 0:return this.provider=new Fl(i),[4,this.provider.send("net_version",[])];case 1:if(s=o.sent(),this.chainId=parseInt(s),!this.chainId||this.chainId===0||this.chainId===NaN)throw new Error("ethauth: unable to get chainId");return this.ethereumJsonRpcURL=i,[2]}})})},this.configValidators=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(i.length==0)throw new Error("validators list is empty");n.validators=i},this.encodeProof=function(i,s){return s===void 0&&(s=!1),ls(n,void 0,void 0,function(){var o,a,l;return cs(this,function(u){switch(u.label){case 0:if(i.address.length!==42||i.address.slice(0,2)!=="0x")throw new Error("ethauth: invalid address");if(i.signature===""||i.signature.slice(0,2)!=="0x")throw new Error("ethauth: invalid signature");if(i.extra&&i.extra.slice(0,2)!=="0x")throw new Error("ethauth: invalid extra encoding, expecting hex data");return[4,this.validateProof(i,s)];case 1:if(o=u.sent(),!o)throw new Error("ethauth: proof is invalid");return a=JSON.stringify(i.claims),l=B0+"."+i.address.toLowerCase()+"."+Is.encode(a,!0)+"."+i.signature,i.extra&&i.extra.length>0&&(l+="."+i.extra),[2,l]}})})},this.decodeProof=function(i,s){return s===void 0&&(s=!1),ls(n,void 0,void 0,function(){var o,a,l,u,p,x,w,E,I,P;return cs(this,function(b){switch(b.label){case 0:if(o=i.split("."),o.length<4||o.length>5)throw new Error("ethauth: invalid proof string");if(a=o[0],l=o[1],u=o[2],p=o[3],x=o[4],a!==B0)throw new Error("ethauth: not an ethauth proof");return w=Is.decode(u),E=JSON.parse(w),I=new af({address:l,claims:E,signature:p,extra:x}),[4,this.validateProof(I,s)];case 1:if(P=b.sent(),!P)throw new Error("ethauth: proof is invalid");return[2,I]}})})},this.validateProof=function(i,s){return s===void 0&&(s=!1),ls(n,void 0,void 0,function(){var o,a;return cs(this,function(l){switch(l.label){case 0:if(o=this.validateProofClaims(i),o.err)throw new Error("ethauth: proof claims are invalid ".concat(o.err));return s===!0?[3,2]:[4,this.validateProofSignature(i)];case 1:if(a=l.sent(),a!==!0)throw new Error("ethauth: proof signature is invalid");l.label=2;case 2:return[2,!0]}})})},this.validateProofSignature=function(i){return ls(n,void 0,void 0,function(){var s,l,o,a,l;return cs(this,function(u){switch(u.label){case 0:s=[],l=0,u.label=1;case 1:if(!(l<this.validators.length))return[3,6];u.label=2;case 2:return u.trys.push([2,4,,5]),o=this.validators[l],[4,o(this.provider,this.chainId,i)];case 3:return a=u.sent().isValid,a===!0?[2,!0]:(s.push(a),[3,5]);case 4:return u.sent(),s.push(!1),[3,5];case 5:return l++,[3,1];case 6:for(l=0;l<s.length;l++)if(s[l])return[2,!0];return[2,!1]}})})},this.validateProofClaims=function(i){return i.validateClaims()},e.length==0?this.validators=[Y7,X7]:this.validators=e}return t}();const e9=t=>Is.encode(t,!0),Np=t=>Is.encode(JSON.stringify(t),!0),t9=t=>{if(t!=null)return Is.decode(t)},Tp=t=>{if(t!=null)return JSON.parse(Is.decode(t))},vu=t=>V(pe(typeof t=="string"?Ce(t):t)),lf=(t,e,r)=>mr(["string","uint256","address","bytes32"],["",e,t,r]),Pp=(t,e,r)=>pe(lf(t,e,r)),Cb=()=>typeof window>"u"&&typeof process=="object",r9=()=>!Cb(),kb=t=>{const e=t.split(".");if(e.length!==3)throw new Error("invalid jwt");return JSON.parse(Is.decode(e[1]))};function Eu(){return Eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Eu.apply(this,arguments)}var Rr;(function(t){t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.DISABLED=5]="DISABLED"})(Rr||(Rr={}));let Nb=class{constructor(e){this.config=e,this.logLevel=void 0,this.configure(e)}configure(e){switch(this.config=Eu({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=Rr.DEBUG;break;case"INFO":this.logLevel=Rr.INFO;break;case"WARN":this.logLevel=Rr.WARN;break;case"ERROR":this.logLevel=Rr.ERROR;break;case"DISABLED":this.logLevel=Rr.DISABLED;break;default:this.logLevel=Rr.INFO;break}this.config.silence===void 0&&(this.config.silence=!1)}debug(e,...r){this.config.silence!==!0&&this.logLevel===Rr.DEBUG&&console.log(e,...r)}info(e,...r){this.config.silence!==!0&&this.logLevel<=Rr.INFO&&console.log(e,...r)}warn(e,...r){this.config.silence!==!0&&this.logLevel<=Rr.WARN&&(console.warn(e,...r),this.config.onwarn&&this.config.onwarn(e,r))}error(e,...r){this.config.silence!==!0&&this.logLevel<=Rr.ERROR&&(console.error(e,...r),this.config.onerror&&this.config.onerror(e,r))}};const te=new Nb({logLevel:"INFO",silence:!0}),n9=t=>te.configure(t);function Ip(t,e){return function(...r){const n=Array.prototype.slice.call(r);return new Promise(async(i,s)=>{try{n.push((o,a)=>o?s(o):i(a)),await t.apply(e,n)}catch(o){s(o)}})}}const Mp=(t=0,e=Number.MAX_SAFE_INTEGER)=>(t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t);function i9(t,e){const r=encodeURIComponent(t),n=encodeURIComponent(JSON.stringify(e));return`${r}=${n}`}function s9(t){const e=t.split("&"),r={};for(const n of e){const i=n.split("=");r[decodeURIComponent(i[0])]=JSON.parse(decodeURIComponent(i[1]))}return r}const Tb=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\d.]+/);return e&&e.length>0?e[0].trim():""},Pb=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\w\s\d]+/);return e&&e.length>0?e[0].trim():""},Ib=t=>{if(!t||typeof t!="string")return"";const e=t.match(/[\w\d.\-:\/]+/);return e&&e.length>0?e[0].trim():""},o9=t=>new Promise(e=>{const r=setTimeout(()=>{clearTimeout(r),e()},t)}),Mb=t=>{const e=Eu({},t.types);return delete e.EIP712Domain,Tt.hash(t.domain,e,t.message)},Fo=t=>V(Mb(t)),{defineReadOnly:a9,getStatic:l9,resolveProperties:L0,checkProperties:c9,shallowCopy:Au,deepCopy:u9}=x7,f9=t=>t.replace(/([^:]\/)\/+/g,"$1");function Rb(t){return t!=null&&($.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||be(t)||typeof t=="bigint"||ui(t))}const d9=Object.freeze(Object.defineProperty({__proto__:null,Logger:Nb,base64Decode:t9,base64DecodeObject:Tp,base64Encode:e9,base64EncodeObject:Np,checkProperties:c9,configureLogger:n9,deepCopy:u9,defineReadOnly:a9,encodeMessageDigest:vu,encodeTypedDataDigest:Fo,encodeTypedDataHash:Mb,getRandomInt:Mp,getStatic:l9,isBigNumberish:Rb,isBrowser:r9,isNode:Cb,jwtDecodeClaims:kb,logger:te,packMessageData:lf,promisify:Ip,queryStringFromObject:i9,queryStringToObject:s9,resolveProperties:L0,sanitizeAlphanumeric:Pb,sanitizeHost:Ib,sanitizeNumberString:Tb,shallowCopy:Au,sleep:o9,subDigestOf:Pp,urlClean:f9},Symbol.toStringTag,{value:"Module"}));function Ar(){return Ar=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ar.apply(this,arguments)}function h9(t){return t&&t.chainId!==void 0&&t.name!==void 0&&t.rpcUrl!==void 0&&t.relayer!==void 0}const cf=t=>typeof t=="number"?t:t.chainId?t.chainId:$.from(t).toNumber(),fr=t=>{if(t)return cf(t)},Ob=t=>t.find(e=>e.isAuthChain),Bb=(t,e=!1,r=!1)=>{if(!t)throw new Error("invalid network config: empty config");const n=[];if(Array.isArray(t)?n.push(...t):n.push(t),n.length===0){if(e)throw new Error("invalid network config: empty config");return!1}const i=n.map(p=>p.chainId).sort(),s=i.filter((p,x)=>i.indexOf(p)!==x);if(s.length>0){if(e)throw new Error(`invalid network config: duplicate chainIds ${s}`);return!1}n.forEach(p=>p.name=p.name.toLowerCase());const o=n.map(p=>p.name).sort(),a=o.filter((p,x)=>o.indexOf(p)!==x);if(a.length>0){if(e)throw new Error(`invalid network config: duplicate network names ${a}`);return!1}let l=!1,u=!1;for(let p=0;p<n.length;p++){const x=n[p];if((!x.rpcUrl||x.rpcUrl==="")&&!x.provider){if(e)throw new Error(`invalid network config for chainId ${x.chainId}: rpcUrl or provider must be provided`);return!1}if(!r&&!x.relayer){if(e)throw new Error(`invalid network config for chainId ${x.chainId}: relayer must be provided`);return!1}if(x.isDefaultChain){if(l){if(e)throw new Error(`invalid network config for chainId ${x.chainId}: DefaultChain is already set by another config`);return!1}l=!0}if(x.isAuthChain){if(u&&e)throw new Error(`invalid network config for chainId ${x.chainId}: AuthChain is already set by another config`);u=!0}}if(!l){if(e)throw new Error("invalid network config: DefaultChain must be set");return!1}if(!u){if(e)throw new Error("invalid network config: AuthChain must be set");return!1}return!0},uf=(t,e=!1)=>(Bb(t,!0,e),t),p9=(t,e=!0)=>{const r=t.map(i=>i.chainId).sort(),n=r.filter((i,s)=>r.indexOf(i)!==s);if(n.length>0){if(e)throw new Error(`invalid network config: duplicate chainIds ${n}`);return!1}return!0},Lb=(t,e)=>{if(!(!t||!e)){if(!t.chainId&&!t.name)throw new Error("failed to update network config: source config is missing chainId or name");if(t.chainId!==e.chainId&&t.name!==e.name)throw new Error("failed to update network config: one of chainId or name must match");t.rpcUrl&&(e.rpcUrl=t.rpcUrl,e.provider=void 0),t.provider&&(e.provider=t.provider),t.relayer&&(e.relayer=t.relayer)}},Rp=t=>uf(ff(t)),Qa=(t,e)=>{if(typeof e=="string")if(e.startsWith("0x")){const r=$.from(e).toNumber();return t.find(n=>n.chainId===r)}else return t.find(r=>r.name===e);else return typeof e=="number"?t.find(r=>r.chainId===e):e.chainId?t.find(r=>r.chainId===e.chainId):void 0},g9=(t,e)=>t?t.name===e||t.chainId===e:!1,m9=t=>{const e={};for(let r=0;r<t.length;r++)e[t[r].name]=t[r];return e},ff=t=>{if(!t)return[];const e=t.sort((i,s)=>i.chainId===s.chainId?0:i.chainId<s.chainId?-1:1),r=e.findIndex(i=>i.isDefaultChain);r>0&&e.splice(0,0,e.splice(r,1)[0]);const n=e.findIndex(i=>i.isAuthChain&&i.isDefaultChain!==!0);return n>0&&e.splice(1,0,e.splice(n,1)[0]),e},df=(t,e)=>typeof t=="string"?(e=e||{},t.replace(/\$\{\s*([$#@\-\d\w]+)\s*\}/gim,function(r,n){let i=e[n];return typeof i=="function"?i=i():i==null?i="":typeof i=="object"||typeof i=="symbol"?i=i.toString():i=i.valueOf(),i})):"";let se;(function(t){t[t.MAINNET=1]="MAINNET",t[t.ROPSTEN=3]="ROPSTEN",t[t.RINKEBY=4]="RINKEBY",t[t.GOERLI=5]="GOERLI",t[t.KOVAN=42]="KOVAN",t[t.POLYGON=137]="POLYGON",t[t.POLYGON_MUMBAI=80001]="POLYGON_MUMBAI",t[t.BSC=56]="BSC",t[t.BSC_TESTNET=97]="BSC_TESTNET",t[t.OPTIMISM=10]="OPTIMISM",t[t.OPTIMISM_TESTNET=69]="OPTIMISM_TESTNET",t[t.ARBITRUM=42161]="ARBITRUM",t[t.ARBITRUM_TESTNET=421611]="ARBITRUM_TESTNET",t[t.ARBITRUM_NOVA=42170]="ARBITRUM_NOVA",t[t.AVALANCHE=43114]="AVALANCHE",t[t.AVALANCHE_TESTNET=43113]="AVALANCHE_TESTNET",t[t.FANTOM=250]="FANTOM",t[t.FANTOM_TESTNET=4002]="FANTOM_TESTNET",t[t.GNOSIS=100]="GNOSIS",t[t.AURORA=1313161554]="AURORA",t[t.AURORA_TESTNET=1313161556]="AURORA_TESTNET"})(se||(se={}));const Br=t=>df("https://${network}-indexer.sequence.app",{network:t}),Lr=t=>df("https://${network}-relayer.sequence.app",{network:t}),Dr=t=>df("https://nodes.sequence.app/${network}",{network:t}),Sr={[se.MAINNET]:{chainId:se.MAINNET,name:"mainnet",title:"Ethereum",blockExplorer:{name:"Etherscan",rootUrl:"https://etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[se.ROPSTEN]:{chainId:se.ROPSTEN,name:"ropsten",title:"Ropsten",testnet:!0,blockExplorer:{name:"Etherscan (Ropsten)",rootUrl:"https://ropsten.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[se.RINKEBY]:{chainId:se.RINKEBY,name:"rinkeby",title:"Rinkeby",testnet:!0,blockExplorer:{name:"Etherscan (Rinkeby)",rootUrl:"https://rinkeby.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",disabled:!0},[se.GOERLI]:{chainId:se.GOERLI,name:"goerli",title:"Goerli",testnet:!0,blockExplorer:{name:"Etherscan (Goerli)",rootUrl:"https://goerli.etherscan.io/"},ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},[se.KOVAN]:{chainId:se.KOVAN,name:"kovan",title:"Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Kovan)",rootUrl:"https://kovan.etherscan.io/"}},[se.POLYGON]:{chainId:se.POLYGON,name:"polygon",title:"Polygon",blockExplorer:{name:"Polygonscan",rootUrl:"https://polygonscan.com/"}},[se.POLYGON_MUMBAI]:{chainId:se.POLYGON_MUMBAI,name:"mumbai",title:"Polygon Mumbai",testnet:!0,blockExplorer:{name:"Polygonscan (Mumbai)",rootUrl:"https://mumbai.polygonscan.com/"}},[se.BSC]:{chainId:se.BSC,name:"bsc",title:"BNB Smart Chain",blockExplorer:{name:"BSCScan",rootUrl:"https://bscscan.com/"}},[se.BSC_TESTNET]:{chainId:se.BSC_TESTNET,name:"bsc-testnet",title:"BNB Smart Chain Testnet",testnet:!0,blockExplorer:{name:"BSCScan (Testnet)",rootUrl:"https://testnet.bscscan.com/"}},[se.OPTIMISM]:{chainId:se.OPTIMISM,name:"optimism",title:"Optimism",blockExplorer:{name:"Etherscan (Optimism)",rootUrl:"https://optimistic.etherscan.io/"}},[se.OPTIMISM_TESTNET]:{chainId:se.OPTIMISM_TESTNET,name:"optimism-testnet",title:"Optimistic Kovan",testnet:!0,blockExplorer:{name:"Etherscan (Optimism Testnet)",rootUrl:"https://kovan-optimistic.etherscan.io/"}},[se.ARBITRUM]:{chainId:se.ARBITRUM,name:"arbitrum",title:"Arbitrum One",blockExplorer:{name:"Arbiscan",rootUrl:"https://arbiscan.io/"}},[se.ARBITRUM_TESTNET]:{chainId:se.ARBITRUM_TESTNET,name:"arbitrum-testnet",title:"Arbitrum Testnet",testnet:!0,blockExplorer:{name:"Arbiscan (Testnet)",rootUrl:"https://testnet.arbiscan.io/"}},[se.ARBITRUM_NOVA]:{chainId:se.ARBITRUM_NOVA,name:"arbitrum-nova",title:"Arbitrum Nova",blockExplorer:{name:"Nova Explorer",rootUrl:"https://nova-explorer.arbitrum.io/"}},[se.AVALANCHE]:{chainId:se.AVALANCHE,name:"avalanche",title:"Avalanche",blockExplorer:{name:"Snowtrace",rootUrl:"https://snowtrace.io/"}},[se.AVALANCHE_TESTNET]:{chainId:se.AVALANCHE_TESTNET,name:"avalanche-testnet",title:"Avalanche Testnet",testnet:!0,blockExplorer:{name:"Snowtrace (Testnet)",rootUrl:"https://testnet.snowtrace.io/"}},[se.FANTOM]:{chainId:se.FANTOM,name:"fantom",title:"Fantom",blockExplorer:{name:"FTMScan",rootUrl:"https://ftmscan.com/"}},[se.FANTOM_TESTNET]:{chainId:se.FANTOM_TESTNET,name:"fantom-testnet",title:"Fantom Testnet",testnet:!0,blockExplorer:{name:"FTMScan (Testnet)",rootUrl:"https://testnet.ftmscan.com/"}},[se.GNOSIS]:{chainId:se.GNOSIS,name:"gnosis",title:"Gnosis Chain",blockExplorer:{name:"Gnosis Chain Explorer",rootUrl:"https://blockscout.com/xdai/mainnet/"}},[se.AURORA]:{chainId:se.AURORA,name:"aurora",title:"Aurora",blockExplorer:{name:"Aurora Explorer",rootUrl:"https://aurorascan.dev/"}},[se.AURORA_TESTNET]:{chainId:se.AURORA_TESTNET,name:"aurora-testnet",title:"Aurora Testnet",blockExplorer:{name:"Aurora Explorer (Testnet)",rootUrl:"https://testnet.aurorascan.dev/"}}},Db=Rp([Ar({},Sr[se.MAINNET],{rpcUrl:Dr("mainnet"),relayer:{url:Lr("mainnet")},indexerUrl:Br("mainnet")}),Ar({},Sr[se.POLYGON],{rpcUrl:Dr("polygon"),relayer:{url:Lr("polygon")},indexerUrl:Br("polygon"),isDefaultChain:!0,isAuthChain:!0}),Ar({},Sr[se.BSC],{rpcUrl:Dr("bsc"),indexerUrl:Br("bsc"),relayer:{url:Lr("bsc")}}),Ar({},Sr[se.AVALANCHE],{rpcUrl:Dr("avalanche"),indexerUrl:Br("avalanche"),relayer:{url:Lr("avalanche")}}),Ar({},Sr[se.ARBITRUM],{rpcUrl:Dr("arbitrum"),indexerUrl:Br("arbitrum"),relayer:{url:Lr("arbitrum")}}),Ar({},Sr[se.ARBITRUM_NOVA],{rpcUrl:Dr("arbitrum-nova"),indexerUrl:Br("arbitrum-nova"),relayer:{url:Lr("arbitrum-nova")}}),Ar({},Sr[se.OPTIMISM],{rpcUrl:Dr("optimism"),indexerUrl:Br("optimism"),relayer:{url:Lr("optimism")}})]),x9=Rp([Ar({},Sr[se.RINKEBY],{rpcUrl:Dr("rinkeby"),relayer:{url:Lr("rinkeby")},indexerUrl:Br("rinkeby")}),Ar({},Sr[se.GOERLI],{rpcUrl:Dr("goerli"),relayer:{url:Lr("goerli")},indexerUrl:Br("goerli")}),Ar({},Sr[se.POLYGON_MUMBAI],{rpcUrl:Dr("mumbai"),relayer:{url:Lr("mumbai")},indexerUrl:Br("mumbai"),isDefaultChain:!0,isAuthChain:!0}),Ar({},Sr[se.BSC_TESTNET],{rpcUrl:Dr("bsc-testnet"),relayer:{url:Lr("bsc-testnet")},indexerUrl:Br("bsc-testnet")})]),Ul={factory:"0xf9D09D634Fb818b05149329C1dcCFAeA53639d96",mainModule:"0xd01F11855bCcb95f88D7A48492F66410d4637313",mainModuleUpgradable:"0x7EFE6cE415956c5f80C6530cC6cc81b4808F6118",guestModule:"0x02390F3E6E5FD1C6786CB78FD3027C117a9955A7",sequenceUtils:"0xd130B43062D875a4B7aF3f8fc036Bc6e9D3E1B3E",libs:{requireFreshSigner:"0xE6B9B21C077F382333220a072e4c44280b873907"}},Uo="2.0";class Ya{constructor(e,r){this.sender=void 0,this.handler=void 0,this.sender=r,e&&this.setMiddleware(e)}setMiddleware(e){this.handler=Fb(e,this.sender.sendAsync)}sendAsync(e,r,n){try{this.handler(e,r,n)}catch(i){r(i,void 0)}}}const Fb=(t,e)=>{if(t.length===0)return e;const r=i=>i.sendAsyncMiddleware?i.sendAsyncMiddleware:i;let n;n=r(t[t.length-1])(e);for(let i=t.length-2;i>=0;i--)n=r(t[i])(n);return n};function Op(t){return t!==void 0&&t.send!==void 0&&t.constructor.defaultUrl!==void 0&&t.detectNetwork!==void 0&&t.getSigner!==void 0&&t.perform!==void 0}function Ub(t){return t!==void 0&&t.sendAsync!==void 0}let y9=0;class ai{constructor(e,r){this.send=void 0,this.request=void 0,this.defaultChainId=void 0,this.sendAsync=(n,i,s)=>{this.send(n.method,n.params,s||this.defaultChainId).then(o=>{i(void 0,{jsonrpc:"2.0",id:n.id,result:o})}).catch(o=>{i(o,void 0)})},this.defaultChainId=r,Op(e)?this.send=e.send.bind(e):Ub(e)?this.send=(n,i,s)=>new Promise((o,a)=>{e.sendAsync({jsonrpc:Uo,id:++y9,method:n,params:i},(l,u)=>{l?a(l):o(u?u.result:void 0)},s||this.defaultChainId)}):this.send=e,this.request=(n,i)=>this.send(n.method,n.params,i)}}class w9{constructor(e){this.provider=e,this.sendAsync=(r,n)=>{this.provider.send(r.method,r.params).then(i=>{n(void 0,{jsonrpc:"2.0",id:r.id,result:i})}).catch(i=>{n(i,void 0)})},this.send=this.sendAsync}}class b9{constructor(e){this.sendAsyncMiddleware=void 0,this.isAllowedFunc=void 0,e?this.isAllowedFunc=e:this.isAllowedFunc=r=>!0,this.sendAsyncMiddleware=Su(this.isAllowedFunc)}setIsAllowedFunc(e){this.isAllowedFunc=e,this.sendAsyncMiddleware=Su(this.isAllowedFunc)}}const Su=t=>e=>(r,n,i)=>{if(!t(r))throw new Error("allowProvider middleware precondition is unmet.");e(r,n,i)};class _u{constructor(e){this.cachableJsonRpcMethods=["net_version","eth_chainId","eth_accounts","sequence_getWalletContext","sequence_getNetworks"],this.cachableJsonRpcMethodsByBlock=["eth_call","eth_getCode"],this.cache=void 0,this.cacheByBlock=void 0,this.cacheByBlockResetLock=!1,this.onUpdateCallback=void 0,this.defaultChainId=void 0,this.sendAsyncMiddleware=r=>(n,i,s)=>{if(this.cachableJsonRpcMethods.includes(n.method)||this.cachableJsonRpcMethodsByBlock.includes(n.method)){const o=this.cacheKey(n.method,n.params,s||this.defaultChainId),a=this.getCacheValue(o);if(a&&a!==""){i(void 0,{jsonrpc:"2.0",id:n.id,result:a});return}}r(n,(o,a,l)=>{if((this.cachableJsonRpcMethods.includes(n.method)||this.cachableJsonRpcMethodsByBlock.includes(n.method))&&a&&a.result&&this.shouldCacheResponse(n,a)){const u=this.cacheKey(n.method,n.params,l||this.defaultChainId);this.cachableJsonRpcMethods.includes(n.method)?this.setCacheValue(u,a.result):this.setCacheByBlockValue(u,a.result)}i(o,a)},s||this.defaultChainId)},this.cacheKey=(r,n,i)=>{let s="";return i?s=`${i}:${r}:`:s=`:${r}:`,!n||n.length===0?s+"[]":s+JSON.stringify(n)},this.getCache=()=>this.cache,this.setCache=r=>{this.cache=r,this.onUpdateCallback&&this.onUpdateCallback()},this.getCacheValue=r=>{if(this.cache[r])return this.cache[r];if(this.cacheByBlock[r])return this.cacheByBlock[r]},this.setCacheValue=(r,n)=>{this.cache[r]=n,this.onUpdateCallback&&this.onUpdateCallback(r,n)},this.setCacheByBlockValue=(r,n)=>{this.cacheByBlock[r]=n,this.cacheByBlockResetLock||(this.cacheByBlockResetLock=!0,setTimeout(()=>{this.cacheByBlockResetLock=!1,this.cacheByBlock={}},1500))},this.shouldCacheResponse=(r,n)=>!(!n||!n.result||r.method==="eth_getCode"&&n.result.length<=2),this.clearCache=()=>{this.cache={},this.cacheByBlock={}},this.cache={},this.cacheByBlock={},this.defaultChainId=e==null?void 0:e.defaultChainId,e!=null&&e.blockCache?(e==null?void 0:e.blockCache)!==!0&&(this.cachableJsonRpcMethodsByBlock=e==null?void 0:e.blockCache):this.cachableJsonRpcMethodsByBlock=[]}onUpdate(e){this.onUpdateCallback=e}}class Cu{constructor(e){this.options=void 0,this.sendAsyncMiddleware=r=>(n,i,s)=>{const{id:o,method:a}=n;switch(a){case"net_version":if(this.options.chainId){i(void 0,{jsonrpc:"2.0",id:o,result:`${this.options.chainId}`});return}break;case"eth_chainId":if(this.options.chainId){i(void 0,{jsonrpc:"2.0",id:o,result:Q(this.options.chainId)});return}break;case"eth_accounts":if(this.options.accountAddress){i(void 0,{jsonrpc:"2.0",id:o,result:[oe(this.options.accountAddress)]});return}break;case"sequence_getWalletContext":if(this.options.walletContext){i(void 0,{jsonrpc:"2.0",id:o,result:this.options.walletContext});return}break}r(n,i,s)},this.options=e}}const Lc=t=>(e,r,n)=>{t(e,(i,s)=>{if(!i&&s&&s.error)throw typeof s.error=="string"?new Error(s.error):new Error(s.error.message);r(i,s)},n)},Dc=t=>(e,r,n)=>{const i=n?` chainId:${n}`:"";te.info(`[provider request]${i} id:${e.id} method:${e.method} params:`,e.params),t(e,(s,o)=>{s?te.warn(`[provider response]${i} id:${e.id} method:${e.method} params:`,e.params,"error:",s):te.info(`[provider response]${i} id:${e.id} method:${e.method} params:`,e.params,"response:",o),r(s,o)},n)},Wb=t=>e=>(r,n,i)=>{const s=t(r),{id:o,method:a}=r;switch(a){case"net_version":n(void 0,{jsonrpc:"2.0",id:o,result:`${s}`});return;case"eth_chainId":n(void 0,{jsonrpc:"2.0",id:o,result:Q(s)});return}e(r,n,i)},$b=["personal_sign","eth_sign","eth_signTypedData","eth_signTypedData_v4","eth_sendTransaction","eth_sendRawTransaction","sequence_getWalletContext","sequence_getWalletConfig","sequence_getWalletState","sequence_getNetworks","sequence_updateConfig","sequence_publishConfig","sequence_gasRefundOptions","sequence_getNonce","sequence_relay","eth_decrypt","eth_getEncryptionPublicKey","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];class D0{constructor(e){this.provider=void 0,this.sendAsyncMiddleware=r=>(n,i,s)=>{if($b.includes(n.method)){this.provider.sendAsync(n,i,s);return}r(n,i,s)},this.provider=e}}class v9{constructor(e){this.privateJsonRpcMethods=["net_version","eth_chainId","eth_accounts",...$b],this.provider=void 0,this.rpcUrl=void 0,this.sendAsyncMiddleware=r=>(n,i)=>{if(this.provider&&!this.privateJsonRpcMethods.includes(n.method)){this.provider.send(n.method,n.params).then(s=>{i(void 0,{jsonrpc:"2.0",id:n.id,result:s})}).catch(s=>i(s));return}te.debug("[public-provider] sending request to signer window",n.method),r(n,i)},e&&this.setRpcUrl(e)}getRpcUrl(){return this.rpcUrl}setRpcUrl(e){!e||e===""?(this.rpcUrl=void 0,this.provider=void 0):(this.rpcUrl=e,this.provider=new Fl(e))}}class zb{constructor(){this.singleflightJsonRpcMethods=["eth_chainId","net_version","eth_call","eth_getCode","eth_blockNumber","eth_getBalance","eth_getStorageAt","eth_getTransactionCount","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_getBlockByHash","eth_getBlockByNumber","eth_getTransactionByHash","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionReceipt","eth_getUncleByBlockHashAndIndex","eth_getUncleByBlockNumberAndIndex","eth_getLogs"],this.inflight=void 0,this.sendAsyncMiddleware=e=>(r,n,i)=>{if(!this.singleflightJsonRpcMethods.includes(r.method)){e(r,n,i);return}const s=this.requestKey(r.method,r.params||[],i);if(!this.inflight[s])this.inflight[s]=[];else{this.inflight[s].push({id:r.id,callback:n});return}e(r,(o,a,l)=>{n(o,a);for(let u=0;u<this.inflight[s].length;u++){const p=this.inflight[s][u];o?p.callback(o,a):a&&p.callback(void 0,{jsonrpc:"2.0",id:p.id,result:a.result})}delete this.inflight[s]},i)},this.requestKey=(e,r,n)=>{let i="";return n?i=`${n}:${e}:`:i=`:${e}:`,!r||r.length===0?i+"[]":i+JSON.stringify(r)},this.inflight={}}}class Bp extends Fl{constructor(e,r){super(e,r==null?void 0:r.chainId),this._chainId=void 0,this._sender=void 0,this.send=(a,l)=>this._sender.send(a,l),this.fetch=(a,l)=>{const u={method:a,params:l,id:this._nextId++,jsonrpc:"2.0"};return Dl(this.connection,JSON.stringify(u),E9).then(x=>x,x=>{throw x})};const n=r==null?void 0:r.chainId,i=r==null?void 0:r.middlewares,s=r==null?void 0:r.blockCache;this._chainId=n;const o=new Ya(i??[new Cu({chainId:n}),new zb,new _u({defaultChainId:n,blockCache:s})],new ai(this.fetch,n));this._sender=new ai(o,n)}async getNetwork(){const e=this._chainId;if(e){const r=Sr[e],n=(r==null?void 0:r.name)||"",i=r==null?void 0:r.ensAddress;return{name:n,chainId:e,ensAddress:i}}else{const r=await this.send("eth_chainId",[]);return this._chainId=$.from(r).toNumber(),this.getNetwork()}}}function E9(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}const A9=Object.freeze(Object.defineProperty({__proto__:null,AllowProvider:b9,CachedProvider:_u,get ChainId(){return se},EagerProvider:Cu,JsonRpcExternalProvider:w9,JsonRpcProvider:Bp,JsonRpcRouter:Ya,JsonRpcSender:ai,JsonRpcVersion:Uo,PublicProvider:v9,SigningProvider:D0,SingleflightMiddleware:zb,allowProviderMiddleware:Su,checkNetworkConfig:g9,createJsonRpcMiddlewareStack:Fb,ensureUniqueNetworks:p9,ensureValidNetworks:uf,exceptionProviderMiddleware:Lc,findNetworkConfig:Qa,getAuthNetwork:Ob,getChainId:cf,indexerURL:Br,isJsonRpcHandler:Ub,isJsonRpcProvider:Op,isNetworkConfig:h9,isValidNetworkConfig:Bb,loggingProviderMiddleware:Dc,mainnetNetworks:Db,maybeChainId:fr,networkProviderMiddleware:Wb,networks:Sr,networksIndex:m9,nodesURL:Dr,relayerURL:Lr,sequenceContext:Ul,sortNetworks:ff,stringTemplate:df,testnetNetworks:x9,updateNetworkConfig:Lb,validateAndSortNetworks:Rp},Symbol.toStringTag,{value:"Module"}));function ku(){return ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ku.apply(this,arguments)}let _t;(function(t){t.ethCall="eth_call",t.ethGetBalance="eth_getBalance",t.ethGetCode="eth_getCode"})(_t||(_t={}));async function S9(t,e){try{return await t}catch(r){return e instanceof Function?e(r):e}}function Ex(t,e){return t.reduce(function(r,n,i){return e(n,i)?r[0].push(n):r[1].push(n),r},[[],[]])}function _9(t){if(t===void 0)return"latest";switch(t){case"earliest":case"latest":case"pending":return t}return $.from(t)}function C9(t,e){return t===e?!0:$.isBigNumber(t)?$.isBigNumber(e)?t.eq(e):!1:$.isBigNumber(e)?!1:t===e}const k9={batchSize:50,timeWindow:50,contract:Ul.sequenceUtils,verbose:!1};class zr{constructor(e){var r=this;if(this.batchableJsonRpcMethods=[_t.ethCall,_t.ethGetCode,_t.ethGetBalance],this.multicallInterface=new St(gt.sequenceUtils.abi),this.options=void 0,this.timeout=void 0,this.queue=[],this.scheduleExecution=()=>{this.queue.length>0&&(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.run,this.options.timeWindow))},this.handle=(n,i,s)=>{if(this.batchableJsonRpcMethods.find(o=>o===i.method)){this.queue.push({request:i,callback:s,next:n}),this.options.verbose&&console.log("Scheduling call",i.method),this.scheduleExecution();return}return this.options.verbose&&console.log("Forwarded call",i.method),n(i,s)},this.run=async function(){r.options.verbose&&console.log("Processing multicall");const n=Math.min(r.options.batchSize,r.queue.length);if(n===0)return;if(n===1){r.forward(r.queue[0]),r.queue=[],r.options.verbose&&console.log("Skip multicall, single item");return}r.options.verbose&&console.log("Resolving",n);var a=r.queue.slice(0,n);r.queue=n===r.queue.length?[]:r.queue.slice(n),r.options.verbose&&console.log("Updated queue",r.queue.length),r.queue.length!==0&&r.scheduleExecution();const i=a[0].next;let s;var[a,l]=Ex(a,E=>{try{if(E.next!==i)return!1;switch(E.request.method){case _t.ethCall:if(E.request.params[0].from||E.request.params[0].gasPrice||E.request.params[0].value)return!1;case _t.ethGetBalance:case _t.ethGetCode:const I=_9(E.request.params[1]);if(s===void 0&&(s=I),!C9(I,s))return!1}return!0}catch{return!1}});if(l.length!==0&&(r.options.verbose&&console.log("Forwarding incompatible calls",l.length),r.forward(l),a.length===0))return;let o=a.map(E=>{try{switch(E.request.method){case _t.ethCall:return{delegateCall:!1,revertOnError:!1,target:E.request.params[0].to,data:E.request.params[0].data,gasLimit:E.request.params[0].gas?E.request.params[0].gas:0,value:0};case _t.ethGetCode:return{delegateCall:!1,revertOnError:!1,target:r.options.contract,gasLimit:0,value:0,data:r.multicallInterface.encodeFunctionData(r.multicallInterface.getFunction("callCode"),[E.request.params[0]])};case _t.ethGetBalance:return{delegateCall:!1,revertOnError:!1,target:r.options.contract,gasLimit:0,value:0,data:r.multicallInterface.encodeFunctionData(r.multicallInterface.getFunction("callBalanceOf"),[E.request.params[0]])};default:return null}}catch{return null}});var[a,l]=Ex(a,(E,I)=>o[I]!==void 0);if(o=o.filter(E=>E),l.length!==0&&(r.options.verbose&&console.log("Forwarding calls on error",l.length),r.forward(l),a.length===0))return;let u;try{u=r.multicallInterface.encodeFunctionData(r.multicallInterface.getFunction("multiCall"),[o])}catch{r.forward(a);return}const p=Mp(),x=await S9(Ip(i)({id:p,jsonrpc:Uo,method:_t.ethCall,params:[{to:r.options.contract,value:0,data:u},$.isBigNumber(s)?s.toNumber():s]}),E=>({jsonrpc:Uo,id:p,result:void 0,error:E}));if(x.error)return r.forward(a);let w;try{w=r.multicallInterface.decodeFunctionResult(r.multicallInterface.getFunction("multiCall"),x.result)}catch{r.forward(a);return}r.options.verbose&&console.log("Got response for",a.length),a.forEach((E,I)=>{if(!w[0][I])r.forward(E);else switch(E.request.method){case _t.ethCall:E.callback(void 0,{jsonrpc:E.request.jsonrpc,id:E.request.id,result:w[1][I]});break;case _t.ethGetCode:E.callback(void 0,{jsonrpc:E.request.jsonrpc,id:E.request.id,result:dn.decode(["bytes"],w[1][I])[0]});break;case _t.ethGetBalance:E.callback(void 0,{jsonrpc:E.request.jsonrpc,id:E.request.id,result:dn.decode(["uint256"],w[1][I])[0]});break}})},this.options=e?ku({},zr.DefaultOptions,e):zr.DefaultOptions,this.options.batchSize<=0)throw new Error(`Invalid batch size of ${this.options.batchSize}`)}forward(e){Array.isArray(e)?e.forEach(r=>r.next(r.request,r.callback)):e.next(e.request,e.callback)}static isMulticall(e){return e&&e.handle!==void 0&&e.conf!==void 0&&zr.isMulticallOptions(e.options)}static isMulticallOptions(e){return e!==void 0&&e.batchSize!==void 0&&e.timeWindow!==void 0&&e.contract!==void 0}}zr.DefaultOptions=ku({},k9);const jb=["getNetwork","getBlockNumber","getGasPrice","getTransactionCount","getStorageAt","sendTransaction","estimateGas","getBlock","getTransaction","getTransactionReceipt","getLogs","emit","litenerCount","addListener","removeListener","waitForTransaction","detectNetwork","getBlockWithTransactions"];class N9 extends nb{constructor(e,r){var n;super(e.getNetwork()),n=this,this.provider=e,this.multicall=void 0,this.listenerCount=this.provider.listenerCount,this.getResolver=async function(i){const s=n.provider;if(s.getResolver){const o=await s.getResolver(await i);return o?new C0(n,o.address,o.name):null}return s.getResolver(await i)},this.next=async function(i,s){try{switch(i.method){case _t.ethCall:n.callback(i,s,await n.provider.call(i.params[0],i.params[1]));break;case _t.ethGetCode:n.callback(i,s,await n.provider.getCode(i.params[0],i.params[1]));break;case _t.ethGetBalance:n.callback(i,s,await n.provider.getBalance(i.params[0],i.params[1]));break}}catch(o){n.callback(i,s,void 0,o)}},this.multicall=zr.isMulticall(r)?r:new zr(r),jb.forEach(i=>{e[i]!==void 0&&(this[i]=(...s)=>e[i](...s))})}callback(e,r,n,i){r(i,{jsonrpc:Uo,id:e.id,result:n,error:i})}async call(e,r){return this.rpcCall(_t.ethCall,e,r)}async getCode(e,r){return this.rpcCall(_t.ethGetCode,e,r)}async getBalance(e,r){return this.rpcCall(_t.ethGetBalance,e,r)}async rpcCall(e,...r){const n=Mp();return(await Ip(this.multicall.handle)(this.next,{jsonrpc:Uo,id:n,method:e,params:r})).result}}class T9{constructor(e,r){if(this.provider=e,this.multicall=void 0,this.multicall=zr.isMulticall(r)?r:new zr(r),e.send){const n=async function(s,o){e.send(s,o)};this.send=(i,s)=>{this.multicall.handle(n,i,s)}}if(e.sendAsync){const n=async function(s,o){e.sendAsync(s,o)};this.sendAsync=(i,s)=>{this.multicall.handle(n,i,s)}}}get isMetaMask(){return this.provider.isMetaMask}get isStatus(){return this.provider.isStatus}}const P9=t=>e=>{const r=zr.isMulticall(t)?t:new zr(t);return(n,i)=>r.handle(e,n,i)};var Hb=Object.freeze({__proto__:null,ProxyMethods:jb,MulticallProvider:N9,MulticallExternalProvider:T9,multicallMiddleware:P9});const I9=Object.freeze(Object.defineProperty({__proto__:null,Multicall:zr,providers:Hb},Symbol.toStringTag,{value:"Module"})),Gb="0x603a600e3d39601a805130553df3363d3d373d3d3d363d30545af43d82803e903d91601857fd5bf3",M9=10,Ax="@sequence.config.imageHashes",Lp=t=>`@sequence.config.${t}`;let bs;try{bs=localStorage}catch{const e=new Map;bs={getItem:r=>{var n;return(n=e.get(r))!=null?n:null},setItem:(r,n)=>e.set(r,n),removeItem:r=>e.delete(r)}}function Sx(t){var e;const r=JSON.parse((e=bs.getItem(Lp(t)))!=null?e:"null");if(r)return qb(t),r}function R9(t,e){bs.setItem(Lp(t),JSON.stringify(e)),qb(t)}function qb(t){var e;let r=JSON.parse((e=bs.getItem(Ax))!=null?e:"[]");for(r=r.filter(n=>n!==t),r.push(t);r.length>M9;)bs.removeItem(Lp(r.shift()));bs.setItem(Ax,JSON.stringify(r))}const O9=async(t,e)=>{const r={threshold:t,signers:[]};if(e.forEach(async n=>{r.signers.push({weight:n.weight,address:Gr.isSigner(n.signer)?await n.signer.getAddress():n.signer})}),!Nu(r))throw new Error("wallet config is not usable");return r},Nu=t=>t.signers.reduce((r,n)=>$.from(n.weight).add(r),Be).gte($.from(t.threshold)),B9=(t,e)=>{if(e.length===0)return!0;const r=t.signers.map(s=>oe(s.address)),n=e.map(s=>oe(s));let i=!0;return n.forEach(s=>{r.includes(s)||(i=!1)}),i},Ft=(t,e,r=!1)=>{if(typeof t=="string"){const n=pe(mr(["bytes","bytes32"],[Gb,Pe(e.mainModule,32)])),i=pe(mr(["bytes1","address","bytes32","bytes32"],["0xff",e.factory,t,n]));return oe(Et(i,12))}return t.address&&!r?t.address:Ft(fn(t),e)},fn=t=>{t=Ms(t);const e=t.signers.reduce((r,n)=>pe(dn.encode(["bytes32","uint8","address"],[r,n.weight,n.address])),mr(["uint256"],[t.threshold]));return R9(e,t),e},Ms=t=>{t.signers.sort((n,i)=>ta(n.address,i.address)),t.signers.forEach(n=>n.address=oe(n.address)),t.address&&(t.address=oe(t.address));const e=t.signers.map(n=>n.address);if(e.filter((n,i)=>e.indexOf(n)!==i).length>0)throw new Error("invalid wallet config: duplicate signer addresses detected in the config, ${signerDupes}");return t},Xa=(t,e)=>fn(t)===fn(e),ta=(t,e)=>{const r=$.from(t),n=$.from(e);return r.lt(n)?-1:r.eq(n)?0:1};function Vb(t,e){const r=l=>({weight:$.from(l.weight).toNumber(),address:oe(l.address)}),n=t.signers.map(r),i=e.set?e.set.map(r):[],s=e.del?e.del.map(l=>oe(l.address)):[],o=i.map(l=>l.address),a=n.filter(l=>s.indexOf(l.address)===-1&&o.indexOf(l.address)===-1).concat(...i);return Ms({address:t.address,threshold:e.threshold?$.from(e.threshold).toNumber():t.threshold,signers:a})}function Kb(t,e){return Ms({threshold:$.from(t).toNumber(),signers:e.map(r=>({weight:$.from(r.weight).toNumber(),address:oe(r.address)}))})}class L9{constructor(){this.findCurrentConfig=void 0,this.findLastWalletOfInitialSigner=void 0}}function Vt(){return Vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vt.apply(this,arguments)}class Tu{constructor(e){var r=this;this.authProvider=e,this.findCurrentConfig=async function(n){const{provider:i,context:s,ignoreIndex:o,requireIndex:a,skipCache:l}=n,u=oe(n.address);if(te.info(`[findCurrentConfig] address:${u}, ignoreIndex:${o}, requireIndex:${a}`),a&&o)throw Error("findCurrentConfig: can't ignore index and require index");const p=i.getNetwork(),x=n.knownConfigs?n.knownConfigs:[],{imageHash:w,config:E}=await r.findCurrentImageHash(s,i,u,x,l);if(w===void 0)return{config:void 0};const I=await r.findConfigForImageHash(s,w,E?[E,...x]:x,l),P=(await p).chainId;return{config:I?Vt({},I,{chainId:P,address:u}):void 0}},this.findLastWalletOfInitialSigner=async function(n){const{signer:i,context:s,ignoreIndex:o,requireIndex:a}=n;if(te.info(`[findLastWalletOfInitialSigner] signer:${i}`),a&&o)throw Error("findCurrentConfig: can't ignore index and require index");const l=new Cn(s.sequenceUtils,gt.sequenceUtils.abi,r.authProvider),u=o?0:(await l.lastSignerUpdate(i)).toNumber();if(a&&u===0)return{wallet:void 0};const p=l.filters.RequiredSigner(null,i),x=await r.findLatestLog(r.authProvider,Vt({},p,{fromBlock:u,toBlock:u!==0?u:"latest"}));return x===void 0?(te.warn("publishConfig: wallet config last log not found"),{wallet:void 0}):{wallet:l.interface.decodeEventLog("RequiredSigner",x.data,x.topics)._wallet}},this.findConfigForImageHash=async function(n,i,s=[],o=!1){const a=s.find(P=>fn(P)===i);if(a)return a;if(!o){const P=Sx(i);if(P)return P}te.info(`[findConfigForImageHash] image:${i}`);const l=new Cn(n.sequenceUtils,gt.sequenceUtils.abi,r.authProvider),u=(await l.lastImageHashUpdate(i)).toNumber(),p=l.filters.RequiredConfig(void 0,i),x=await r.findLatestLog(r.authProvider,Vt({},p,{fromBlock:u,toBlock:u!==0?u:"latest"}));if(x===void 0)return;const w=l.interface.decodeEventLog("RequiredConfig",x.data,x.topics),E=dn.decode([`tuple(
        uint256 weight,
        address signer
      )[]`],w._signers)[0],I={threshold:$.from(w._threshold).toNumber(),signers:E.map(P=>({address:P.signer,weight:$.from(P.weight).toNumber()}))};return fn(I),I},this.findCurrentImageHash=async function(n,i,s,o=[],a){te.info(`[findCurrentImageHash] address:${s}`);const u=await new Cn(s,gt.mainModuleUpgradable.abi,i).functions.imageHash.call([]).catch(()=>[]);if(u[0]!==void 0)return{imageHash:u[0],config:a?void 0:Sx(u[0])};const p=oe(s),x=o.find(b=>Ft(b,n,!0)===p);if(x)return{imageHash:fn(x),config:x};const w=new Cn(n.sequenceUtils,gt.sequenceUtils.abi,r.authProvider),E=await w.knownImageHashes(s);if(E!==op){if(Ft(E,n)!==s)throw Error("findCurrentImageHash: inconsistent RequireUtils results");return{imageHash:E}}const I=w.filters.RequiredConfig(s),P=await r.findFirstLog(r.authProvider,I);if(P!==void 0){const b=w.interface.decodeEventLog("RequiredConfig",P.data,P.topics),A=dn.decode([`tuple(
          uint256 weight,
          address signer
        )[]`],b._signers)[0],k={threshold:$.from(b._threshold).toNumber(),signers:A.map(O=>({address:O.signer,weight:$.from(O.weight).toNumber()}))},B=fn(k);if(Ft(B,n)===s)return{imageHash:B,config:k}}return{}},this.findLatestLog=async function(n,i){const s=i.toBlock==="latest"?await n.getBlockNumber():i.toBlock,o=i.fromBlock;o===0&&te.warn(`findLatestLog: expensive getLogs query fromBlock 0 toBlock ${s}`);try{const a=await n.getLogs(Vt({},i,{toBlock:s}));return a.length===0?void 0:a[a.length-1]}catch{const l=Math.floor((s-o)/2+o),u=await r.findLatestLog(n,Vt({},i,{fromBlock:l,toBlock:s}));return u!==void 0?u:r.findLatestLog(n,Vt({},i,{fromBlock:o,toBlock:l}))}},this.findFirstLog=async function(n,i){const s=i.toBlock==="latest"||!i.toBlock?await n.getBlockNumber():i.toBlock,o=i.fromBlock?i.fromBlock:0;o===0&&te.warn(`findFirstLog: expensive getLogs query fromBlock 0 toBlock ${s}`);try{const a=await n.getLogs(Vt({},i,{fromBlock:o,toBlock:s}));return a.length===0?void 0:a[0]}catch{const l=Math.floor((s-o)/2+o),u=await r.findFirstLog(n,Vt({},i,{fromBlock:o,toBlock:l}));return u!==void 0?u:r.findFirstLog(n,Vt({},i,{fromBlock:l,toBlock:s}))}}}}function Wl(t){return t.address!==void 0&&!hf(t)}function hf(t){return ra(t)||$l(t)||Ws(t)}function ra(t){const e=t;return e.signature!==void 0&&e.address===void 0}function $l(t){const e=t;return e.r!==void 0&&e.s!==void 0&&e.v!==void 0&&e.t!==void 0}function Ws(t){const e=t;return e.address!==void 0&&e.signature!==void 0}let Nn;(function(t){t[t.EOA=0]="EOA",t[t.Address=1]="Address",t[t.Full=2]="Full"})(Nn||(Nn={}));const $s=t=>{if(typeof t!="string")return t;const e=t.replace("0x",""),r=$.from(`0x${e.slice(0,4)}`).toNumber(),n=[];for(let i=4;i<e.length;){const s=$.from(e.slice(i,i+2)).toNumber();i+=2;const o=$.from(`0x${e.slice(i,i+2)}`).toNumber();switch(i+=2,s){case Nn.Address:const a=oe(e.slice(i,i+40));i+=40,n.push({weight:o,address:a});break;case Nn.EOA:const l=V(`0x${e.slice(i,i+132)}`);i+=132;const u=pn(l.slice(0,65)),p=u.r,x=u.s,w=u.v,E=$.from(l[l.length-1]).toNumber();n.push({weight:o,signature:l,r:p,s:x,v:w,t:E});break;case Nn.Full:const I=oe(e.slice(i,i+40));i+=40;const P=$.from(`0x${e.slice(i,i+4)}`).mul(2).toNumber();i+=4;const b=V(`0x${e.slice(i,i+P)}`);i+=P,n.push({weight:o,address:I,signature:b});break;default:throw Error("Signature type not supported")}}return{threshold:r,signers:n}},D9=1,F9=2,U9=3,Jb=t=>{const e=V(t.signature),r=pn(e.slice(0,65)),n=$.from(e[e.length-1]).toNumber();return Vt({},t,r,{t:n})},pf=(t,e)=>{const r=$l(e)?e:Jb(e);switch(r.t){case D9:return si(t,{r:r.r,s:r.s,v:r.v});case F9:const n=pe(mr(["string","bytes32"],[`Ethereum Signed Message:
32`,t]));return si(n,{r:r.r,s:r.s,v:r.v});default:throw new Error("Unknown signature")}},Qb=(...t)=>t.map(r=>typeof r=="string"?$s(r):r).reduce((r,n)=>Yb(r,n)),Yb=(t,e)=>({threshold:t.threshold,signers:t.signers.map((r,n)=>Wl(r)?e.signers[n]:r)}),Ci=t=>{if(typeof t=="string")return Ci($s(t));const e=t.signers.map(r=>{if(Wl(r))return mr(["uint8","uint8","address"],[Nn.Address,r.weight,r.address]);if($l(r))return mr(["uint8","uint8","bytes32","bytes32","uint8","uint8"],[Nn.EOA,r.weight,r.r,r.s,r.v,r.t]);if(Ws(r)){const n=V(r.signature).length;return mr(["uint8","uint8","address","uint16","bytes"],[Nn.Full,r.weight,r.address,n,r.signature])}if(ra(r))return mr(["uint8","uint8","bytes"],[Nn.EOA,r.weight,r.signature]);throw Error("Unkwnown signature part type")});return mr(["uint16",...Array(e.length).fill("bytes")],[t.threshold,...e])};function Xb(t,e){if(Wl(t)||Ws(t))return t.address;if($l(t)||ra(t))return pf(e,t);throw Error("Unkwnown signature part type")}function W9(t,e,r){const n=t.signers.map(i=>Xb(i,r));return{threshold:e.threshold,signers:e.signers.map(i=>{const s=n.indexOf(i.address);if(s!==-1){const o=t.signers[s];return Vt({},o,{weight:i.weight})}return{weight:i.weight,address:i.address}})}}async function Zb(t,e){const r=new Hb.MulticallProvider(t);let i=(await Promise.all(e.signers.map(async(l,u)=>Vt({},l,{index:u,isEOA:V(await r.getCode(l.address)).length===0})))).sort((l,u)=>l.weight-u.weight),s=0;i=i.map(l=>s>=e.threshold||l.isEOA?l:(s+=l.weight,Vt({},l,{willSign:!0}))),s<e.threshold&&(i=i.map(l=>l.willSign||s>=e.threshold?l:(s+=l.weight,Vt({},l,{willSign:!0}))));const o=V("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a01b02"),a=i.sort((l,u)=>l.index-u.index);return{threshold:e.threshold,signers:a.map(l=>l.willSign?l.isEOA?{weight:l.weight,signature:o}:{weight:l.weight,address:l.address,signature:Ci({threshold:1,signers:[{address:_o.createRandom().address,weight:1},{weight:1,signature:o}]})+Q(U9).substring(2)}:{address:l.address,weight:l.weight})}}const $9=Object.freeze(Object.defineProperty({__proto__:null,ConfigFinder:L9,SequenceUtilsFinder:Tu,get SignatureType(){return Nn},WalletContractBytecode:Gb,addressOf:Ft,buildStubSignature:Zb,compareAddr:ta,createWalletConfig:O9,decodeSignature:$s,editConfig:Vb,encodeSignature:Ci,genConfig:Kb,imageHash:fn,isConfigEqual:Xa,isDecodedAddress:Wl,isDecodedEOASigner:ra,isDecodedEOASplitSigner:$l,isDecodedFullSigner:Ws,isDecodedSigner:hf,isUsableConfig:Nu,isValidConfigSigners:B9,joinSignatures:Qb,joinTwoSignatures:Yb,mutateSignature:W9,recoverEOASigner:pf,signerOf:Xb,sortConfig:Ms,splitDecodedEOASigner:Jb},Symbol.toStringTag,{value:"Module"}));function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pu.apply(this,arguments)}const z9="v1",j9="v0.4.0",H9="7703e5fe54962b28ba8b9d3eeebb5f273f541e35";let F0;(function(t){t.UNKNOWN="UNKNOWN",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155",t.SEQUENCE_WALLET="SEQUENCE_WALLET",t.ERC20_BRIDGE="ERC20_BRIDGE",t.ERC721_BRIDGE="ERC721_BRIDGE",t.ERC1155_BRIDGE="ERC1155_BRIDGE"})(F0||(F0={}));let U0;(function(t){t.UNKNOWN="UNKNOWN",t.BLOCK_ADDED="BLOCK_ADDED",t.BLOCK_REMOVED="BLOCK_REMOVED"})(U0||(U0={}));let W0;(function(t){t.UNKNOWN="UNKNOWN",t.TOKEN_TRANSFER="TOKEN_TRANSFER",t.SEQUENCE_TXN="SEQUENCE_TXN"})(W0||(W0={}));let $0;(function(t){t.UNKNOWN="UNKNOWN",t.SEND="SEND",t.RECEIVE="RECEIVE"})($0||($0={}));let z0;(function(t){t.DESC="DESC",t.ASC="ASC"})(z0||(z0={}));class ev{constructor(e,r){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Indexer/",this.ping=n=>this.fetch(this.url("Ping"),en({},n)).then(i=>tn(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),en({},n)).then(i=>tn(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),en({},n)).then(i=>tn(i).then(s=>({status:s.status}))),this.getChainID=n=>this.fetch(this.url("GetChainID"),en({},n)).then(i=>tn(i).then(s=>({chainID:s.chainID}))),this.getEtherBalance=(n,i)=>this.fetch(this.url("GetEtherBalance"),en(n,i)).then(s=>tn(s).then(o=>({balance:o.balance}))),this.getTokenBalances=(n,i)=>this.fetch(this.url("GetTokenBalances"),en(n,i)).then(s=>tn(s).then(o=>({page:o.page,balances:o.balances}))),this.getTokenSupplies=(n,i)=>this.fetch(this.url("GetTokenSupplies"),en(n,i)).then(s=>tn(s).then(o=>({page:o.page,contractType:o.contractType,tokenIDs:o.tokenIDs}))),this.getTokenSuppliesMap=(n,i)=>this.fetch(this.url("GetTokenSuppliesMap"),en(n,i)).then(s=>tn(s).then(o=>({supplies:o.supplies}))),this.getBalanceUpdates=(n,i)=>this.fetch(this.url("GetBalanceUpdates"),en(n,i)).then(s=>tn(s).then(o=>({page:o.page,balances:o.balances}))),this.getTransactionHistory=(n,i)=>this.fetch(this.url("GetTransactionHistory"),en(n,i)).then(s=>tn(s).then(o=>({page:o.page,transactions:o.transactions}))),this.syncBalance=(n,i)=>this.fetch(this.url("SyncBalance"),en(n,i)).then(s=>tn(s).then(o=>({}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const en=(t={},e={})=>({method:"POST",headers:Pu({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),tn=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r});let j0;(function(t){t.MAINNET="https://mainnet-indexer.sequence.app",t.POLYGON="https://polygon-indexer.sequence.app",t.POLYGON_MUMBAI="https://mumbai-indexer.sequence.app",t.ARBITRUM="https://arbitrum-indexer.sequence.app",t.ARBITRUM_NOVA="https://arbitrum-nova-indexer.sequence.app",t.OPTIMISM="https://optimism-indexer.sequence.app",t.AVALANCHE="https://avalanche-indexer.sequence.app",t.GNOSIS="https://gnosis-indexer.sequence.app",t.BSC="https://bsc-indexer.sequence.app",t.BSC_TESTNET="https://bsc-testnet-indexer.sequence.app",t.GOERLI="https://goerli-indexer.sequence.app"})(j0||(j0={}));class tv extends ev{constructor(e,r){super(e.endsWith("/")?e.slice(0,-1):e,global.fetch),this.jwtAuth=r,this._fetch=(n,i)=>{const s={};return this.jwtAuth&&this.jwtAuth.length>0&&(s.Authorization=`BEARER ${this.jwtAuth}`),i.headers=Pu({},i.headers,s),global.fetch(n,i)},this.fetch=this._fetch}}const G9=Object.freeze(Object.defineProperty({__proto__:null,get ContractType(){return F0},get EventLogDataType(){return W0},get EventLogType(){return U0},Indexer:ev,SequenceIndexerClient:tv,get SequenceIndexerServices(){return j0},get SortOrder(){return z0},get TxnTransferType(){return $0},WebRPCSchemaHash:H9,WebRPCSchemaVersion:j9,WebRPCVersion:z9},Symbol.toStringTag,{value:"Module"}));function H0(){return H0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H0.apply(this,arguments)}const q9="v1",V9="v0.4.0",K9="7632f016690db407e9764f41fecac1fb81a37493";let G0;(function(t){t.UNKNOWN="UNKNOWN",t.ERC20="ERC20",t.ERC721="ERC721",t.ERC1155="ERC1155"})(G0||(G0={}));let q0;(function(t){t.INT="INT",t.STRING="STRING",t.ARRAY="ARRAY",t.GENERIC="GENERIC"})(q0||(q0={}));let V0;(function(t){t.UNKNOWN="UNKNOWN",t.BUY="BUY",t.SELL="SELL"})(V0||(V0={}));let K0;(function(t){t.DESC="DESC",t.ASC="ASC"})(K0||(K0={}));class rv{constructor(e,r){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Metadata/",this.ping=n=>this.fetch(this.url("Ping"),rr({},n)).then(i=>nr(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),rr({},n)).then(i=>nr(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),rr({},n)).then(i=>nr(i).then(s=>({status:s.status}))),this.getTokenMetadata=(n,i)=>this.fetch(this.url("GetTokenMetadata"),rr(n,i)).then(s=>nr(s).then(o=>({tokenMetadata:o.tokenMetadata}))),this.refreshTokenMetadata=(n,i)=>this.fetch(this.url("RefreshTokenMetadata"),rr(n,i)).then(s=>nr(s).then(o=>({status:o.status}))),this.getTokenMetadataBatch=(n,i)=>this.fetch(this.url("GetTokenMetadataBatch"),rr(n,i)).then(s=>nr(s).then(o=>({contractTokenMetadata:o.contractTokenMetadata}))),this.searchTokenMetadata=(n,i)=>this.fetch(this.url("SearchTokenMetadata"),rr(n,i)).then(s=>nr(s).then(o=>({page:o.page,tokenMetadata:o.tokenMetadata}))),this.searchTokenIDs=(n,i)=>this.fetch(this.url("SearchTokenIDs"),rr(n,i)).then(s=>nr(s).then(o=>({page:o.page,tokenIds:o.tokenIds}))),this.tokenCollectionFilters=(n,i)=>this.fetch(this.url("TokenCollectionFilters"),rr(n,i)).then(s=>nr(s).then(o=>({filters:o.filters}))),this.getContractInfo=(n,i)=>this.fetch(this.url("GetContractInfo"),rr(n,i)).then(s=>nr(s).then(o=>({contractInfo:o.contractInfo}))),this.getContractInfoBatch=(n,i)=>this.fetch(this.url("GetContractInfoBatch"),rr(n,i)).then(s=>nr(s).then(o=>({contractInfoMap:o.contractInfoMap}))),this.searchContractInfo=(n,i)=>this.fetch(this.url("SearchContractInfo"),rr(n,i)).then(s=>nr(s).then(o=>({contractInfoList:o.contractInfoList}))),this.searchContractInfoBatch=(n,i)=>this.fetch(this.url("SearchContractInfoBatch"),rr(n,i)).then(s=>nr(s).then(o=>({contractInfoByChain:o.contractInfoByChain}))),this.getNiftyswapTokenQuantity=(n,i)=>this.fetch(this.url("GetNiftyswapTokenQuantity"),rr(n,i)).then(s=>nr(s).then(o=>({quantity:o.quantity}))),this.getNiftyswapUnitPrices=(n,i)=>this.fetch(this.url("GetNiftyswapUnitPrices"),rr(n,i)).then(s=>nr(s).then(o=>({prices:o.prices}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const rr=(t={},e={})=>({method:"POST",headers:H0({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),nr=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r});class nv extends rv{constructor(e="https://metadata.sequence.app"){super(e.endsWith("/")?e.slice(0,-1):e,global.fetch)}}const J9=Object.freeze(Object.defineProperty({__proto__:null,get ContractType(){return G0},Metadata:rv,get PropertyType(){return q0},SequenceMetadataClient:nv,get SortOrder(){return K0},get SwapType(){return V0},WebRPCSchemaHash:K9,WebRPCSchemaVersion:V9,WebRPCVersion:q9},Symbol.toStringTag,{value:"Module"}));function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Iu.apply(this,arguments)}const Dp=`tuple(
  bool delegateCall,
  bool revertOnError,
  uint256 gasLimit,
  address target,
  uint256 value,
  bytes data
)[]`;function Q9(...t){const e=na(...t);if(e===void 0)throw new Error("Encoding transactions without defined nonce");return Fp(e,...t)}function Fp(t,...e){return dn.encode(["uint256",Dp],[t,ti(e)])}function iv(...t){const e=na(...t);if(e===void 0)throw new Error("Computing hash for transactions without defined nonce");return Up(e,...t)}function Up(t,...e){return pe(Fp(t,...e))}function zl(t,e,...r){return Pp(t,e,iv(...r)).replace(/^0x/,"")}async function J0(t,e,r=!1,n){const i=Wo(e),s=(await Promise.all(e.map(a=>a.nonce))).filter(a=>a!==void 0).map(a=>$.from(a)),o=s.length!==0?s.reduce((a,l)=>a.lt(l)?a:l):void 0;return Promise.all(i.map(a=>sv(t,a,r,n,o)))}function Wo(t){if(!Array.isArray(t))if("auxiliary"in t){const e=t.auxiliary,r=Iu({},t);return delete r.auxiliary,e?[r,...Wo(e)]:[r]}else return[t];return t.flatMap(Wo)}async function sv(t,e,r=!1,n,i){if(jl(e))return e;const s=e.gasLimit===void 0?e.gas:e.gasLimit;if(e.to)return{delegateCall:!1,revertOnError:r,gasLimit:s?await s:n,to:await e.to,value:e.value?await e.value:0,data:await e.data,nonce:i||await e.nonce};{const o=new St(gt.mainModule.abi),a=o.encodeFunctionData(o.getFunction("createContract"),[e.data]),l=typeof t=="string"?t:t.getAddress();return{delegateCall:!1,revertOnError:r,gasLimit:s?await s:n,to:await l,value:e.value?await e.value:0,data:a,nonce:i||await e.nonce}}}function Y9(t){return t.send||t.sendAsync}function jl(t){return t.delegateCall!==void 0||t.revertOnError!==void 0}function ov(t){return t.find(e=>jl(e))!==void 0}function na(...t){const e=t.find(n=>n.nonce!==void 0);if(!e)return;const r=$.from(e.nonce);if(t.find(n=>n.nonce!==void 0&&!$.from(n.nonce).eq(r)))throw new Error("Mixed nonces on Sequence transactions");return e?e.nonce:void 0}function ti(t){return t.map(e=>{var r;return{delegateCall:e.delegateCall===!0,revertOnError:e.revertOnError===!0,gasLimit:e.gasLimit!==void 0?e.gasLimit:Be,target:(r=e.to)!=null?r:qy,value:e.value!==void 0?e.value:Be,data:e.data!==void 0?e.data:[]}})}function Q0(t,e){return t.map(r=>Iu({},r,{nonce:e}))}function av(t,e,r){const n=new St(gt.sequenceUtils.abi);if(!t||!t.sequenceUtils)throw new Error("Undefined sequenceUtils");return[{delegateCall:!1,revertOnError:!0,gasLimit:0,to:t.sequenceUtils,value:0,data:n.encodeFunctionData(n.getFunction("requireNonExpired"),[r])},...e]}function lv(t,e,r){const n=new St(gt.sequenceUtils.abi);if(!t||!t.sequenceUtils)throw new Error("Undefined sequenceUtils");return[{delegateCall:!1,revertOnError:!0,gasLimit:0,to:t.sequenceUtils,value:0,data:n.encodeFunctionData(n.getFunction("requireMinNonce"),[r.address,r.space?Wp(r.space,r.nonce):r.nonce])},...e]}function Wp(t,e){const r=$.from(t),n=$.from(e),i=Qu.pow($.from(96));if(!n.div(i).eq(Be))throw new Error("Space already encoded");return n.add(r.mul(i))}function $p(t){const e=$.from(t),r=Qu.pow($.from(96));return[e.div(r),e.mod(r)]}function cv(t){return t!==void 0&&t.chainId!==void 0&&t.config!==void 0&&t.context!==void 0&&t.signature!==void 0&&t.transactions!==void 0&&Array.isArray(t.transactions)&&t.transactions.reduce((e,r)=>e&&jl(r),!0)}async function zp(t,e,r){let n=[];if(Array.isArray(r)?ov(r)?n=Wo(r):n=await J0(e,r):jl(r)?n=Wo([r]):n=await J0(e,[r]),r.expiration&&(n=av(t,n,r.expiration)),r.afterNonce){const i=r.afterNonce;n=lv(t,n,i.address?{address:i.address,nonce:i.nonce,space:i.space}:{address:e,nonce:i})}return n}const X9=Object.freeze(Object.defineProperty({__proto__:null,MetaTransactionsType:Dp,appendNonce:Q0,computeMetaTxnHash:zl,decodeNonce:$p,digestOfTransactions:iv,digestOfTransactionsNonce:Up,encodeNonce:Wp,flattenAuxTransactions:Wo,fromTransactionish:zp,hasSequenceTransactions:ov,isAsyncSendable:Y9,isSequenceTransaction:jl,isSignedTransactions:cv,makeAfterNonce:lv,makeExpirable:av,packMetaTransactionsData:Q9,packMetaTransactionsNonceData:Fp,readSequenceNonce:na,sequenceTxAbiEncode:ti,toSequenceTransaction:sv,toSequenceTransactions:J0},Symbol.toStringTag,{value:"Module"}));function Y0(){return Y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y0.apply(this,arguments)}const Z9="v1",eA="v0.4.0",tA="98e0726794b2b5922a0e356280daac3a409602e4";class rA{constructor(e,r){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Guard/",this.ping=n=>this.fetch(this.url("Ping"),qs({},n)).then(i=>Vs(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),qs({},n)).then(i=>Vs(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),qs({},n)).then(i=>Vs(i).then(s=>({status:s.status}))),this.getSequenceContext=n=>this.fetch(this.url("GetSequenceContext"),qs({},n)).then(i=>Vs(i).then(s=>({data:s.data}))),this.getSignerConfig=n=>this.fetch(this.url("GetSignerConfig"),qs({},n)).then(i=>Vs(i).then(s=>({signerConfig:s.signerConfig}))),this.sign=(n,i)=>this.fetch(this.url("Sign"),qs(n,i)).then(s=>Vs(s).then(o=>({sig:o.sig}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const qs=(t={},e={})=>({method:"POST",headers:Y0({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),Vs=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r}),nA=Object.freeze(Object.defineProperty({__proto__:null,Guard:rA,WebRPCSchemaHash:tA,WebRPCSchemaVersion:eA,WebRPCVersion:Z9},Symbol.toStringTag,{value:"Module"}));function Ln(){return Ln=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ln.apply(this,arguments)}function iA(t){return t.bundleCreation!==void 0&&typeof t.bundleCreation=="boolean"||t.creationGasLimit!==void 0&&Rb(t.creationGasLimit)||t.provider!==void 0&&(Gi.isProvider(t.provider)||typeof t.provider=="string")}const uv={bundleCreation:!0,creationGasLimit:Qu.pow(17)};class jp{constructor(e){this.provider=void 0,this.bundleCreation=void 0,this.creationGasLimit=void 0;const r=Ln({},uv,e);this.bundleCreation=r.bundleCreation,this.provider=r.provider,this.creationGasLimit=$.from(r.creationGasLimit)}async isWalletDeployed(e){if(!this.provider)throw new Error("Bundled creation provider not found");return await this.provider.getCode(e)!=="0x"}prepareWalletDeploy(e,r){const n=new St(gt.factory.abi);return{to:r.factory,data:n.encodeFunctionData(n.getFunction("deploy"),[r.mainModule,fn(e)])}}async prependWalletDeploy(e){const{config:r,context:n,transactions:i,nonce:s,signature:o}=e,a=Ft(r,n),l=new St(gt.mainModule.abi),u=async function(){const p=await o;return typeof p=="string"?p:Ci(p)}();return this.bundleCreation&&!await this.isWalletDeployed(a)?{to:n.guestModule,execute:{transactions:[Ln({},this.prepareWalletDeploy(r,n),{delegateCall:!1,revertOnError:!1,gasLimit:this.creationGasLimit,value:Be}),{delegateCall:!1,revertOnError:!0,gasLimit:Be,to:a,value:Be,data:l.encodeFunctionData(l.getFunction("execute"),[ti(i),s,await u])}],nonce:Be,signature:"0x"}}:{to:a,execute:{transactions:i,nonce:$.from(s),signature:await u}}}async prepareTransactions(e,r,n,...i){const s=na(...i);if(!s)throw new Error("Unable to prepare transactions without a defined nonce");const{to:o,execute:a}=await this.prependWalletDeploy({config:e,context:r,transactions:i,nonce:s,signature:n}),l=new St(gt.mainModule.abi);return{to:o,data:l.encodeFunctionData(l.getFunction("execute"),[ti(a.transactions),a.nonce,a.signature])}}}const _x=$.from(8e5),fv={waitPollRate:1e3,deltaBlocksLog:12,fromBlockLog:-1024};function sA(t){return t.provider!==void 0&&Gi.isProvider(t.provider)}class dv extends jp{constructor(e){super(e),this.provider=void 0,this.waitPollRate=void 0,this.deltaBlocksLog=void 0,this.fromBlockLog=void 0;const r=Ln({},fv,e);this.provider=r.provider,this.waitPollRate=r.waitPollRate,this.deltaBlocksLog=r.deltaBlocksLog,this.fromBlockLog=r.fromBlockLog}async simulate(e,...r){var n=this;return(await Promise.all(r.map(async function(i){if(i.gasLimit&&!$.from(i.gasLimit||0).eq(Be))return i.gasLimit;if(i.delegateCall||i.to===e&&!await n.isWalletDeployed(e))return _x;if(!n.provider)throw new Error("signer.provider is not set, but is required");return n.provider.estimateGas({from:e,to:i.to,data:i.data,value:i.value})}))).map(i=>({executed:!0,succeeded:!0,gasUsed:$.from(i).toNumber(),gasLimit:$.from(i).toNumber()}))}async getNonce(e,r,n,i){if(!this.provider)throw new Error("provider is not set");const s=Ft(e,r);if(await this.provider.getCode(s)==="0x")return 0;n===void 0&&(n=0);const a=await new Cn(s,gt.mainModule.abi,this.provider).readNonce(n,{blockTag:i});return Wp(n,a)}async wait(e,r,n=this.waitPollRate,i=5){var s=this;typeof e!="string"&&(te.info("computing id",e.config,e.context,e.chainId,...e.transactions),e=zl(Ft(e.config,e.context),e.chainId,...e.transactions));let o=!1;const a=async function(p,x){let w=0;for(;!o;){try{return await p()}catch(E){if(w++,i!==void 0&&w>=i)throw te.error(`giving up after ${w} failed attempts${x?`: ${x}`:""}`,E),E;te.warn(`attempt #${w} failed${x?`: ${x}`:""}`,E)}n>0&&await new Promise(E=>setTimeout(E,n))}throw new Error(`timed out after ${w} failed attempts${x?`: ${x}`:""}`)},l=async function(){let p=s.fromBlockLog;if(p<0&&(p=await a(()=>s.provider.getBlockNumber(),"unable to get latest block number")+p),typeof e!="string")throw new Error("impossible");const x=e.replace("0x","");for(;!o;){const w=await a(()=>s.provider.getBlockNumber(),"unable to get latest block number"),E=await a(()=>s.provider.getLogs({fromBlock:Math.max(0,p-s.deltaBlocksLog),toBlock:w,topics:["0x1f180c27086c7a39ea2a7b25239d1ab92348f07ca7bb59d1438fcf527568f881"]}),`unable to get NonceChange logs for blocks ${Math.max(0,p-s.deltaBlocksLog)} to ${w}`);p=w;const P=(await Promise.all(E.map(b=>a(()=>s.provider.getTransactionReceipt(b.transactionHash),`unable to get receipt for transaction ${b.transactionHash}`)))).find(b=>b.logs.find(A=>A.topics.length===0&&A.data.replace("0x","")===x||A.topics.length===1&&A.topics[0]==="0x3dbd1590ea96dd3253a91f24e64e3a502e1225d602a5731357bc12643070ccd7"&&A.data.length>=64&&A.data.replace("0x","").startsWith(x)));if(P)return Ln({receipt:P},await a(()=>s.provider.getTransaction(P.transactionHash),`unable to get transaction ${P.transactionHash}`));o||await new Promise(b=>setTimeout(b,n))}throw new Error(`Timeout waiting for transaction receipt ${e}`)};return r!==void 0?Promise.race([l(),new Promise((u,p)=>setTimeout(()=>{o=!0,p(`Timeout waiting for transaction receipt ${e}`)},r))]):l()}}function oA(t){return t.signer!==void 0&&Gr.isSigner(t.signer)}class aA extends dv{constructor(e){if(super(Gr.isSigner(e)?{provider:e.provider}:Ln({},e,{provider:e.signer.provider})),this.signer=void 0,this.txnOptions=void 0,this.signer=Gr.isSigner(e)?e:e.signer,!this.signer.provider)throw new Error("Signer must have a provider")}async deployWallet(e,r){const n=this.prepareWalletDeploy(e,r);return this.signer.sendTransaction(Ln({},n,{gasLimit:Qu.pow(17)}))}async getFeeOptions(e,r,...n){return{options:[]}}async gasRefundOptions(e,r,...n){const{options:i}=await this.getFeeOptions(e,r,...n);return i}setTransactionOptions(e){this.txnOptions=e}async relay(e,r,n=!0){if(r!==void 0&&te.warn("LocalRelayer doesn't accept fee quotes"),!e.context.guestModule||e.context.guestModule.length!==42)throw new Error("LocalRelayer requires the context.guestModule address");const{to:i,execute:s}=await this.prependWalletDeploy(e),o=new St(gt.mainModule.abi),a=o.encodeFunctionData(o.getFunction("execute"),[ti(s.transactions),s.nonce,s.signature]),l=this.signer.sendTransaction(Ln({to:i,data:a},this.txnOptions));if(n){const u=await l;return u.receipt=await u.wait(),u}else return l}}const lA="v1",cA="v0.4.0",uA="752f4f4274ca80d2fd974b5b44ed8245dfe40554";let Tn;(function(t){t.UNKNOWN="UNKNOWN",t.DROPPED="DROPPED",t.QUEUED="QUEUED",t.SENT="SENT",t.SUCCEEDED="SUCCEEDED",t.PARTIALLY_FAILED="PARTIALLY_FAILED",t.FAILED="FAILED"})(Tn||(Tn={}));let X0;(function(t){t.SEND="SEND",t.RECEIVE="RECEIVE",t.BRIDGE_DEPOSIT="BRIDGE_DEPOSIT",t.BRIDGE_WITHDRAW="BRIDGE_WITHDRAW",t.BURN="BURN",t.UNKNOWN="UNKNOWN"})(X0||(X0={}));let Z0;(function(t){t.UNKNOWN="UNKNOWN",t.ERC20_TOKEN="ERC20_TOKEN",t.ERC1155_TOKEN="ERC1155_TOKEN"})(Z0||(Z0={}));let eh;(function(t){t.DESC="DESC",t.ASC="ASC"})(eh||(eh={}));class hv{constructor(e,r){this.hostname=void 0,this.fetch=void 0,this.path="/rpc/Relayer/",this.ping=n=>this.fetch(this.url("Ping"),Mt({},n)).then(i=>Rt(i).then(s=>({status:s.status}))),this.version=n=>this.fetch(this.url("Version"),Mt({},n)).then(i=>Rt(i).then(s=>({version:s.version}))),this.runtimeStatus=n=>this.fetch(this.url("RuntimeStatus"),Mt({},n)).then(i=>Rt(i).then(s=>({status:s.status}))),this.getSequenceContext=n=>this.fetch(this.url("GetSequenceContext"),Mt({},n)).then(i=>Rt(i).then(s=>({data:s.data}))),this.getChainID=n=>this.fetch(this.url("GetChainID"),Mt({},n)).then(i=>Rt(i).then(s=>({chainID:s.chainID}))),this.sendMetaTxn=(n,i)=>this.fetch(this.url("SendMetaTxn"),Mt(n,i)).then(s=>Rt(s).then(o=>({status:o.status,txnHash:o.txnHash}))),this.getMetaTxnNonce=(n,i)=>this.fetch(this.url("GetMetaTxnNonce"),Mt(n,i)).then(s=>Rt(s).then(o=>({nonce:o.nonce}))),this.getMetaTxnReceipt=(n,i)=>this.fetch(this.url("GetMetaTxnReceipt"),Mt(n,i)).then(s=>Rt(s).then(o=>({receipt:o.receipt}))),this.simulate=(n,i)=>this.fetch(this.url("Simulate"),Mt(n,i)).then(s=>Rt(s).then(o=>({results:o.results}))),this.updateMetaTxnGasLimits=(n,i)=>this.fetch(this.url("UpdateMetaTxnGasLimits"),Mt(n,i)).then(s=>Rt(s).then(o=>({payload:o.payload}))),this.feeTokens=n=>this.fetch(this.url("FeeTokens"),Mt({},n)).then(i=>Rt(i).then(s=>({isFeeRequired:s.isFeeRequired,tokens:s.tokens}))),this.feeOptions=(n,i)=>this.fetch(this.url("FeeOptions"),Mt(n,i)).then(s=>Rt(s).then(o=>({options:o.options,quote:o.quote}))),this.getMetaTxnNetworkFeeOptions=(n,i)=>this.fetch(this.url("GetMetaTxnNetworkFeeOptions"),Mt(n,i)).then(s=>Rt(s).then(o=>({options:o.options}))),this.sentTransactions=(n,i)=>this.fetch(this.url("SentTransactions"),Mt(n,i)).then(s=>Rt(s).then(o=>({page:o.page,transactions:o.transactions}))),this.pendingTransactions=(n,i)=>this.fetch(this.url("PendingTransactions"),Mt(n,i)).then(s=>Rt(s).then(o=>({page:o.page,transactions:o.transactions}))),this.listGasSponsors=(n,i)=>this.fetch(this.url("ListGasSponsors"),Mt(n,i)).then(s=>Rt(s).then(o=>({page:o.page,gasSponsors:o.gasSponsors}))),this.addGasSponsor=(n,i)=>this.fetch(this.url("AddGasSponsor"),Mt(n,i)).then(s=>Rt(s).then(o=>({status:o.status,gasSponsor:o.gasSponsor}))),this.updateGasSponsor=(n,i)=>this.fetch(this.url("UpdateGasSponsor"),Mt(n,i)).then(s=>Rt(s).then(o=>({status:o.status,gasSponsor:o.gasSponsor}))),this.reportGasSponsorUsage=(n,i)=>this.fetch(this.url("ReportGasSponsorUsage"),Mt(n,i)).then(s=>Rt(s).then(o=>({gasSponsorUsage:o.gasSponsorUsage}))),this.hostname=e,this.fetch=(n,i)=>r(n,i)}url(e){return this.hostname+this.path+e}}const Mt=(t={},e={})=>({method:"POST",headers:Ln({},e,{"Content-Type":"application/json"}),body:JSON.stringify(t||{})}),Rt=t=>t.text().then(e=>{let r;try{r=JSON.parse(e)}catch{throw{code:"unknown",msg:`expecting JSON, got: ${e}`,status:t.status}}if(!t.ok)throw r;return r});var Cx=Object.freeze({__proto__:null,WebRPCVersion:lA,WebRPCSchemaVersion:cA,WebRPCSchemaHash:uA,get ETHTxnStatus(){return Tn},get TransferType(){return X0},get FeeTokenType(){return Z0},get SortOrder(){return eh},Relayer:hv});const fA=[Tn.DROPPED,Tn.SUCCEEDED,Tn.PARTIALLY_FAILED,Tn.FAILED],dA=[Tn.DROPPED,Tn.PARTIALLY_FAILED,Tn.FAILED];function pv(t){return t.url!==void 0&&typeof t.url=="string"}class gv extends jp{constructor(e){super(e),this.service=void 0,this.service=new hv(e.url,global.fetch)}async waitReceipt(e,r=1e3,n=5,i){typeof e!="string"&&(te.info("computing id",e.config,e.context,e.chainId,...e.transactions),e=zl(Ft(e.config,e.context),e.chainId,...e.transactions)),te.info(`[rpc-relayer/waitReceipt] waiting for ${e}`);let s=0;for(;i===void 0||!i();){try{const{receipt:o}=await this.service.getMetaTxnReceipt({metaTxID:e});if(o&&o.txnReceipt&&o.txnReceipt!=="null"&&fA.includes(o.status))return{receipt:o}}catch(o){if(s++,s===n)throw o}(i===void 0||!i())&&await new Promise(o=>setTimeout(o,r))}throw new Error(`Cancelled waiting for transaction receipt ${e}`)}async simulate(e,...r){const i=dn.encode([Dp],[ti(r)]);return(await this.service.simulate({wallet:e,transactions:i})).results}async getFeeOptions(e,r,...n){const i=await this.service.feeTokens();if(i.isFeeRequired){const s=i.tokens.map(I=>I.symbol).join(", ");te.info(`[rpc-relayer/getFeeOptions] relayer fees are required, accepted tokens are ${s}`);const o=Ft(e,r);let a=na(...n);if(a===void 0&&(a=await this.getNonce(e,r)),!this.provider)throw te.warn("[rpc-relayer/getFeeOptions] provider not set, needed for stub signature"),new Error("provider is not set");const{to:l,execute:u}=await this.prependWalletDeploy({config:e,context:r,transactions:n,nonce:a,signature:Zb(this.provider,e)}),p=new St(gt.mainModule.abi),x=p.encodeFunctionData(p.getFunction("execute"),[ti(u.transactions),u.nonce,u.signature]),{options:w,quote:E}=await this.service.feeOptions({wallet:o,to:l,data:x});return te.info(`[rpc-relayer/getFeeOptions] got refund options ${JSON.stringify(w)}`),{options:w,quote:{_tag:"FeeQuote",_quote:E}}}else return te.info("[rpc-relayer/getFeeOptions] relayer fees are not required"),{options:[]}}async gasRefundOptions(e,r,...n){const{options:i}=await this.getFeeOptions(e,r,...n);return i}async getNonce(e,r,n){const i=Ft(e,r);te.info(`[rpc-relayer/getNonce] get nonce for wallet ${i} space: ${n}`);const s=n!==void 0?$.from(n).toHexString():void 0,o=await this.service.getMetaTxnNonce({walletContractAddress:i,space:s}),a=$.from(o.nonce),[l,u]=$p(a);return te.info(`[rpc-relayer/getNonce] got next nonce for wallet ${i} ${u} space: ${l}`),a}async relay(e,r,n=!0){var i=this;te.info(`[rpc-relayer/relay] relaying signed meta-transactions ${JSON.stringify(e)} with quote ${JSON.stringify(r)}`);let s;if(r!==void 0&&(typeof r._quote=="string"?s=r._quote:te.warn("[rpc-relayer/relay] ignoring invalid fee quote")),!this.provider)throw te.warn("[rpc-relayer/relay] provider not set, failed relay"),new Error("provider is not set");const{to:o,execute:a}=await this.prependWalletDeploy(e),l=Ft(e.config,e.context),u=new St(gt.mainModule.abi),p=u.encodeFunctionData(u.getFunction("execute"),[ti(a.transactions),a.nonce,a.signature]),x=await this.service.sendMetaTxn({call:{walletAddress:l,contract:o,input:p},quote:s});if(te.info(`[rpc-relayer/relay] got relay result ${JSON.stringify(x)}`),n)return this.wait(x.txnHash);{const w={hash:x.txnHash,confirmations:0,from:l,wait:I=>Promise.reject(new Error("impossible"))},E=async function(P){var b;if(!i.provider)throw new Error("cannot wait for receipt, relayer has no provider set");const A=await i.wait(x.txnHash),k=(b=A.receipt)==null?void 0:b.transactionHash;if(!k)throw new Error("cannot wait for receipt, unknown native transaction hash");return Object.assign(w,A),i.provider.waitForTransaction(k,P)};return w.wait=E,w}}async wait(e,r,n=1e3,i=5){var s=this;let o=!1;const{receipt:a}=await(r!==void 0?Promise.race([this.waitReceipt(e,n,i,()=>o),new Promise((u,p)=>setTimeout(()=>{o=!0,p(`Timeout waiting for transaction receipt ${e}`)},r))]):this.waitReceipt(e,n,i));if(!a.txnReceipt||dA.includes(a.status))throw new hA(a);const l=JSON.parse(a.txnReceipt);return{blockHash:l.blockHash,blockNumber:$.from(l.blockNumber).toNumber(),confirmations:1,from:typeof e=="string"?void 0:Ft(e.config,e.context),hash:l.transactionHash,raw:a.txnReceipt,receipt:l,wait:async function(u){return s.provider.waitForTransaction(l.transactionHash,u)}}}}class hA{constructor(e){this.receipt=e}}function mv(t){return typeof t=="object"&&typeof t.simulate=="function"&&typeof t.getFeeOptions=="function"&&typeof t.gasRefundOptions=="function"&&typeof t.getNonce=="function"&&typeof t.relay=="function"&&typeof t.wait=="function"}const pA=Object.freeze(Object.defineProperty({__proto__:null,BaseRelayer:jp,BaseRelayerDefaults:uv,LocalRelayer:aA,ProviderRelayer:dv,ProviderRelayerDefaults:fv,RpcRelayer:gv,RpcRelayerProto:Cx,isBaseRelayerOptions:iA,isLocalRelayerOptions:oA,isProviderRelayerOptions:sA,isRelayer:mv,isRpcRelayerOptions:pv,proto:Cx},Symbol.toStringTag,{value:"Module"}));function _r(){return _r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_r.apply(this,arguments)}class Hp extends Gr{static isSequenceSigner(e){return xv(e)}}function xv(t){const e=t;return e&&e.updateConfig!==void 0&&e.publishConfig!==void 0&&e.getWalletContext!==void 0&&e.getWalletConfig!==void 0}class kx extends Error{}class xd extends Gr{signMessage(e,r){return this.signMessageWithData(e)}sendTransaction(e){throw new Error("sendTransaction method is not supported in RemoteSigner")}signTransaction(e){throw new Error("signTransaction method is not supported in RemoteSigner")}connect(e){throw new Error("connect method is not supported in RemoteSigner")}static signMessageWithData(e,r,n,i){return this.isRemoteSigner(e)?e.signMessageWithData(r,n,i):e.signMessage(r)}static isRemoteSigner(e){return e.signMessageWithData!==void 0}}async function Gp(t){return Array.isArray(t)?Promise.all(t.map(e=>pt(e))):pt(t)}let gA=class Pa extends Hp{constructor(e,...r){super(),this.context=void 0,this.config=void 0,this._signers=void 0,this.provider=void 0,this.sender=void 0,this.relayer=void 0,this.chainId=void 0;const{config:n,context:i,strict:s}=e;if(i?this.context=_r({},i):this.context=_r({},Ul),s===!0?this.context.nonStrict=void 0:s===!1&&(this.context.nonStrict=!0),!this.context.nonStrict&&!Nu(n))throw new Error("wallet config is not usable (strict mode)");this.config=Ms(n),this._signers=r.map(o=>Gr.isSigner(o)?o:new _o(o)),this.imageHash}useConfig(e,r){return new Pa({config:e,context:this.context,strict:r},...this._signers).setProvider(this.provider,this.chainId).setRelayer(this.relayer)}useSigners(...e){return new Pa({config:this.config,context:this.context},...e).setProvider(this.provider,this.chainId).setRelayer(this.relayer)}connect(e,r){if(Op(e))return new Pa({config:this.config,context:this.context},...this._signers).setProvider(e,this.chainId).setRelayer(r);throw new Error("Wallet provider argument is expected to be a JsonRpcProvider")}setProvider(e,r){if(e===void 0)return this;if(Gi.isProvider(e))this.provider=e,this.sender=new ai(e);else{const n=new Bp(e,{chainId:r,blockCache:!0});this.provider=n,this.sender=new ai(n)}return this.chainId=r,this}setRelayer(e){return e===void 0?this:(this.relayer=e,this)}async getProvider(e){return e&&await this.getChainIdNumber(e),this.provider}async getRelayer(e){return e&&await this.getChainIdNumber(e),this.relayer}async getWalletContext(){return this.context}async getWalletConfig(e){return e=await this.getChainIdNumber(e),[_r({},this.config,{chainId:e})]}async getWalletState(e){const[r,n,i]=await Promise.all([this.getAddress(),this.getChainId(),this.isDeployed()]);return[{context:this.context,config:this.config,address:r,chainId:n,deployed:i,imageHash:this.imageHash,lastImageHash:i?await wA(this):void 0}]}get connected(){return this.sender!==void 0}get address(){return Ft(this.config,this.context)}get imageHash(){return fn(this.config)}async getAddress(){return this.address}async getSigners(){return!this._signers||this._signers.length===0?[]:Promise.all(this._signers.map(e=>e.getAddress().then(r=>oe(r))))}async getChainId(){if(this.chainId)return this.chainId;if(!this.provider)throw new Error("provider is not set, first connect a provider");return this.chainId=(await this.provider.getNetwork()).chainId,this.chainId}async getNetworks(){return[{chainId:await this.getChainId(),name:"",rpcUrl:""}]}async getNonce(e,r){return this.relayer.getNonce(this.config,this.context,r,e)}async getTransactionCount(e){const r=await this.getNonce(e,0),[n,i]=$p(r);return $.from(i).toNumber()}async sendTransaction(e,r,n,i,s,o){const a=await this.signTransactions(e,r,n);if(s){const l=Ft(a.config,a.context),u=zl(l,a.chainId,...a.transactions);s(a,u)}return this.relayer.relay(a,i,o)}async sendTransactionBatch(e,r,n=!0,i,s,o){return this.sendTransaction(e,r,n,i,s,o)}async signTransactions(e,r,n){const i=await this.getChainIdNumber(r),s=await Gp(e);if(!this.provider)throw new Error("missing provider");if(!this.relayer)throw new Error("missing relayer");let o=await zp(this.context,this.address,s);if(o.some(p=>p.gasLimit===void 0)){const p=await this.relayer.simulate(this.address,...o);for(const x in o)o[x].gasLimit===void 0&&(o[x].gasLimit=p[x].gasLimit)}const a=na(...o),l=a||await this.getNonce();o=Q0(o,l);const u=Up(l,...o);return{digest:u,chainId:i,context:this.context,config:this.config,transactions:o,nonce:l,signature:await this.sign(u,!0,r,n)}}async sendSignedTransactions(e,r,n){if(!this.relayer)throw new Error("relayer is not set, first connect a relayer");return await this.getChainIdNumber(r),this.relayer.relay(e,n)}async signMessage(e,r,n,i=!1){const s=typeof e=="string"&&!e.startsWith("0x")?Ce(e):e;return this.sign(s,i,r,n)}async signTypedData(e,r,n,i,s){const o=await this.getChainIdNumber(i),a=e.chainId?$.from(e.chainId).toNumber():void 0;if(a&&a!==o)throw new Error(`signTypedData: domain.chainId (${e.chainId}) is expected to be ${o}`);const l=Fo({domain:e,types:r,message:n});return this.sign(l,!0,o,s)}async _signTypedData(e,r,n,i,s){return this.signTypedData(e,r,n,i,s)}async subDigest(e,r){const n=await this.getChainIdNumber(r);return V(Pp(this.address,n,e))}async sign(e,r=!0,n,i){var s=this;const o=await this.getChainIdNumber(n),a=r?e:pe(e),l=await this.subDigest(a,n),u=async function(b,A){const k=await Promise.all(b.map(O=>O.getAddress())),B=await Promise.all(s.config.signers.map(async function(O){try{const D=b[k.indexOf(O.address)];if(!D)return O;if(xv(D)){if(D===s)throw Error("Can't sign transactions for self");const F=await D.signMessage(l,o,i,!0)+"03";return _r({},O,{signature:F})}if(xd.isRemoteSigner(D)){const F=await D.signMessageWithData(l,A,o);try{if(pf(l,{weight:O.weight,signature:F})===O.address)return{weight:O.weight,signature:F}}catch{}return _r({},O,{signature:F})}return{weight:O.weight,signature:await D.signMessage(l)+"02"}}catch(D){if(i)throw D;return console.warn(`Skipped signer ${O.address}`),O}}));return{threshold:s.config.threshold,signers:B}},p=this._signers.filter(P=>!xd.isRemoteSigner(P)),x=await u(p,this.packMsgAndSig(a,[],o));if(x.signers.filter(hf).reduce((P,b)=>P+b.weight,0)>=this.config.threshold)return Ci(x);const E=this._signers.filter(P=>xd.isRemoteSigner(P)),I=await u(E,this.packMsgAndSig(a,Ci(x),o));return Ci(Qb(x,I))}async signWeight(){return(await this.getSigners()).reduce((r,n)=>{const i=this.config.signers.find(s=>s.address===n);return i?r.add(i.weight):r},Be)}async isDeployed(e){await this.getChainIdNumber(e);const r=await this.provider.getCode(this.address);return!!r&&r!=="0x"}async updateConfig(e,r,n=!1,i,s,o,a){e||(e=this.config);const[l,u]=await Promise.all([this.buildUpdateConfigTransaction(e,n,i),r??this.getNonce()]);return[_r({address:this.address},e),await this.sendTransaction(Q0(l,u),void 0,void 0,s,o,a)]}async publishConfig(e,r,n=[],i,s,o){return this.sendTransaction(this.config.address?this.buildPublishConfigTransaction(this.config,e,r):await this.buildPublishSignersTransaction(e,r,n),void 0,void 0,i,s,o)}async buildUpdateConfigTransaction(e,r=!1,n){var i=this;if(!this.context.nonStrict&&!Nu(e))throw new Error("wallet config is not usable (strict mode)");const s=await async function(){try{const E=await i.provider.getStorageAt(i.address,dn.encode(["address"],[i.address]));return ta(E,i.context.mainModuleUpgradable)===0}catch{return!1}}(),o=new St(gt.mainModule.abi),a=2*(1e5+1800*e.signers.length),l=s?[]:[{delegateCall:!1,revertOnError:!0,gasLimit:Be,to:this.address,value:Be,data:o.encodeFunctionData(o.getFunction("updateImplementation"),[this.context.mainModuleUpgradable])}],u=new St(gt.mainModuleUpgradable.abi),p={delegateCall:!1,revertOnError:!0,gasLimit:Be,to:this.address,value:Be,data:u.encodeFunctionData(u.getFunction("updateImageHash"),[fn(e)])},x=r?await this.buildPublishConfigTransaction(e,n):[],w=[...l,p,...x];return w.length===1?w:[{delegateCall:!1,revertOnError:!1,gasLimit:a,to:this.address,value:Be,data:o.encodeFunctionData(o.getFunction("selfExecute"),[ti(w)])}]}buildPublishConfigTransaction(e,r=!0,n){const i=new St(gt.sequenceUtils.abi);return[{delegateCall:!1,revertOnError:!0,gasLimit:Be,to:this.context.sequenceUtils,value:Be,nonce:n,data:i.encodeFunctionData(i.getFunction("publishConfig"),[this.address,e.threshold,Ms(e).signers.map(s=>({weight:s.weight,signer:s.address})),r])}]}async buildPublishSignersTransaction(e=!0,r,n=[]){var i;const s=new St(gt.sequenceUtils.abi),o=new St(gt.requireFreshSigner.abi),a=gs(32),l=await this.signMessage(a,this.chainId,!1),u=$s(l),p=Ci({threshold:u.threshold,signers:u.signers.map((w,E)=>{if(Ws(w)){const I=this.config.signers[E];return{weight:I.weight,address:I.address}}return w})}),x=(i=this.context.libs)==null?void 0:i.requireFreshSigner;if(n.length>0&&x===void 0)throw Error("requireFreshSigners missing library");return[...n.map(w=>({delegateCall:!1,revertOnError:!0,gasLimit:Be,to:x,value:Be,nonce:r,data:o.encodeFunctionData(o.getFunction("requireFreshSigner"),[w])})),{delegateCall:!1,revertOnError:!0,gasLimit:Be,to:this.context.sequenceUtils,value:Be,nonce:r,data:s.encodeFunctionData(s.getFunction("publishInitialSigners"),[this.address,pe(a),this.config.signers.length,p,e])}]}async getChainIdNumber(e){if(!e)return await this.getChainId();const r=cf(e);if(this.context.nonStrict)return r;const n=await this.getChainId();if(n!==r)throw new Error(`the specified chainId ${r} does not match the wallet's connected chainId ${n}`);return n}packMsgAndSig(e,r,n){return dn.encode(["address","uint256","bytes","bytes"],[this.address,n,e,r])}signTransaction(e){throw new Error("signTransaction method is not supported in Wallet, please use signTransactions(...)")}static async singleOwner(e,r){const n=Gr.isSigner(e)?e:new _o(e),i={threshold:1,signers:[{weight:1,address:oe(await n.getAddress())}]};return new Pa({config:i,context:r},n)}async hasEnoughSigners(e){return e&&await this.getChainIdNumber(e),(await this.signWeight()).gte(this.config.threshold)}};class hc extends Hp{constructor(e,...r){super(),this.options=void 0,this._wallets=void 0,this._signers=void 0,this.provider=void 0,this._chainId=void 0,this.options=e,this._signers=r,e.context||(this.options.context=_r({},Ul)),this.options.networks?this.setNetworks(this.options.networks):this.setNetworks([...Db])}useSigners(...e){return this._signers=e,this._wallets.forEach(r=>{r.wallet=r.wallet.useSigners(...e)}),this}async getWalletContext(){return this.options.context}getConfigFinder(){return this.options.configFinder?this.options.configFinder:new Tu(this.authWallet().wallet.provider)}async getWalletConfig(e){let r=[];if(e){const n=this.getWalletByNetwork(e);n&&r.push(n)}else r=this._wallets;return(await Promise.all(r.map(n=>n.wallet.getWalletConfig()))).flat()}async getWalletState(e){let r=[];if(e){const a=this.getWalletByNetwork(e);a&&r.push(a)}else r=this._wallets;const n=Promise.all(r.map(a=>this.getConfigFinder().findCurrentConfig({address:a.wallet.address,provider:a.wallet.provider,context:a.wallet.context,knownConfigs:[a.wallet.config]}))),i=(await Promise.all(r.map(a=>a.wallet.getWalletState()))).flat(),s=i.findIndex(a=>a.chainId===this.getAuthChainId());s>=0&&(i[s].config=await this.currentConfig(r[s].wallet));const o=await n;return i.map((a,l)=>{var u;return _r({},a,{config:(u=o[l])==null?void 0:u.config})})}get address(){return this._wallets[0].wallet.address}getAddress(){return this._wallets[0].wallet.getAddress()}async getSigners(){return this._wallets[0].wallet.getSigners()}async getProvider(e){var r,n;return e?(n=this._wallets.find(i=>i.network.chainId===e))==null?void 0:n.wallet.getProvider():(r=this.mainWallet())==null?void 0:r.wallet.getProvider()}async getRelayer(e){var r,n;return e?(n=this._wallets.find(i=>i.network.chainId===e))==null?void 0:n.wallet.getRelayer():(r=this.mainWallet())==null?void 0:r.wallet.getRelayer()}async getNetworks(){return this.options.networks}async getChainId(){if(this._chainId)return this._chainId;const e=await this.provider.getNetwork();return this._chainId=e.chainId,this._chainId}getAuthChainId(){try{return this.options.networks.find(e=>e.isAuthChain).chainId}catch{throw new Error("no auth network")}}async signMessage(e,r,n=!0,i=!1){var s=this;let{wallet:o}=await async function(){if(!r)return s.mainWallet();if(r.address){const u=await r.getChainId();return s.getWalletByNetwork(u)}return s.getWalletByNetwork(r)}(),a=await this.currentConfig(o);a=a||this._wallets[0].wallet.config,o=o.useConfig(a);const l=await o.signWeight();if(l.lt(o.config.threshold)&&n!==!1)throw new kx(`Sign message - wallet combined weight ${l.toString()} below required ${o.config.threshold.toString()}`);return o.signMessage(e,void 0,n,i)}async signAuthMessage(e,r=!0,n=!1){var i;return this.signMessage(e,(i=this.authWallet())==null?void 0:i.wallet,r,n)}async signTypedData(e,r,n,i,s=!0){const o=i?this.getWalletByNetwork(i).wallet:this.mainWallet().wallet,a=Fo({domain:e,types:r,message:n});return this.signMessage(a,o,s,!0)}async _signTypedData(e,r,n,i,s=!0){return this.signTypedData(e,r,n,i,s)}async hasEnoughSigners(e){const r=e?this.getWalletByNetwork(e).wallet:this.mainWallet().wallet,n=await this.currentConfig(r);return r.useConfig(n).hasEnoughSigners()}async getFeeOptions(e,r,n=!0){const i=r?this.getWalletByNetwork(r).wallet:this.mainWallet().wallet,s=this.options.context;if(!s)throw new Error("missing wallet context");const[o,a]=await Promise.all([this.currentConfig(i),this.prependConfigUpdate(e,r,n,!0)]);if(!o)throw new Error(`missing current config for chain ${r}`);const l=await zp(s,this.address,a);return i.relayer.getFeeOptions(o,s,...l)}async sendTransaction(e,r,n=!0,i,s){const o=await this.signTransactions(e,r,n);if(s){const l=Ft(o.config,o.context),u=zl(l,o.chainId,...o.transactions);s(o,u)}return(r?this.getWalletByNetwork(r).wallet:this.mainWallet().wallet).sendSignedTransactions(o,r,i)}async sendTransactionBatch(e,r,n=!0,i,s){return this.sendTransaction(e,r,n,i,s)}async signTransactions(e,r,n){const i=r?this.getWalletByNetwork(r).wallet:this.mainWallet().wallet;let s=await this.currentConfig(i);if(!s&&(s=await this.currentConfig(),!s))throw new Error("missing auth chain config");const o=await this.prependConfigUpdate(e,r,n);return i.useConfig(s).signTransactions(o)}async prependConfigUpdate(e,r,n,i){const s=await Gp(e),o=r?this.getWalletByNetwork(r).wallet:this.mainWallet().wallet,[a,l]=await Promise.all([this.currentConfig(o),this.currentConfig()]);if(!i){const p=await o.useConfig(a).signWeight();if(p.lt(a.threshold)&&n)throw new kx(`wallet combined weight ${p.toString()} below required threshold ${a.threshold.toString()}`)}if(await o.isDeployed()&&Xa(l,a))return s;const u=(()=>Array.isArray(s)?s:[s])();return[...await o.buildUpdateConfigTransaction(l,!1),...u]}async sendSignedTransactions(e,r,n){return(r?this.getWalletByNetwork(r).wallet:this.mainWallet().wallet).sendSignedTransactions(e,void 0,n)}async updateConfig(e,r,n,i){const s=this.authWallet().wallet;if(e?e=Ms(e):e=s.config,Xa(s.config,e)&&!await this.isDeployed())return await s.updateConfig(e,void 0,!0,r,n,i);const o=await this.currentConfig();if(Xa(o,e))return[_r({},o,{address:this.address}),void 0];const[a,l]=await s.useConfig(o).updateConfig(e,void 0,!0,r,n,i);return[_r({},e,{address:this.address}),l]}publishConfig(e,r=[],n,i){return this.authWallet().wallet.publishConfig(e,void 0,r,n,i)}async isDeployed(e){return(()=>e?e.address?e:this.getWalletByNetwork(e).wallet:this.authWallet().wallet)().isDeployed()}async currentConfig(e){const r=(()=>e?e.address?e:this.getWalletByNetwork(e).wallet:this.authWallet().wallet)();return(await this.getConfigFinder().findCurrentConfig({address:this.address,provider:r.provider,context:r.context,knownConfigs:[r.config]})).config}getWallets(){return this._wallets}getWalletByNetwork(e){const r=cf(e),n=this._wallets.find(i=>i.network.chainId===r);if(!n)throw new Error(`network ${e} not found in wallets list`);return n}mainWallet(){const e=this._wallets.find(r=>r.network.isDefaultChain);if(!e)throw new Error("mainWallet not found");return e}authWallet(){const e=this._wallets.find(r=>r.network.isAuthChain);if(!e)throw new Error("authChain wallet not found");return e}setNetworks(e,r=[],n){let i=[];if(this._chainId=void 0,n){const s=parseInt(n),o=e.find(l=>l.name===n||l.chainId===s),a=r.find(l=>l.name===n||l.chainId===s);if(o||a)o?(e.forEach(l=>l.isDefaultChain=!1),o.isDefaultChain=!0,i=e):a&&(r.forEach(l=>l.isDefaultChain=!1),a.isDefaultChain=!0,i=r);else throw new Error(`unable to set default network as chain '${n}' does not exist`)}else i=e;return this.options.networks=uf(ff(i)),this._wallets=this.options.networks.map(s=>{const o=new gA({config:this.options.initialConfig,context:this.options.context},...this._signers);if(s.provider)o.setProvider(s.provider,s.chainId);else if(s.rpcUrl&&s.rpcUrl!=="")o.setProvider(s.rpcUrl,s.chainId);else throw new Error(`network config is missing provider settings for chainId ${s.chainId}`);if(mv(s.relayer))o.setRelayer(s.relayer);else if(pv(s.relayer))o.setRelayer(new gv(_r({provider:o.provider},s.relayer)));else throw new Error(`network config is missing relayer settings for chainId ${s.chainId}`);return s.isDefaultChain&&(this._chainId=s.chainId,this.provider=o.provider),{network:s,wallet:o}}),this.options.networks.find(s=>s.isDefaultChain).chainId}connect(e){throw new Error("connect method is not supported in MultiWallet")}signTransaction(e){throw new Error("signTransaction method is not supported in MultiWallet, please use signTransactions(...)")}}async function yv(t,e,r,n,i,s){if(mA(t,e,r)||xA(t,e,r))return!0;const o=await yA(t,e,r,n);return o===void 0?!!await wv(t,e,r,i,n,s):o}function mA(t,e,r){try{return ta(si(e,pn(r)),t)===0}catch{return!1}}function xA(t,e,r){try{const n=pe(mr(["string","bytes32"],[`Ethereum Signed Message:
32`,e]));return ta(si(n,pn(r)),t)===0}catch{return!1}}async function yA(t,e,r,n){if(n)try{if(await n.getCode(t)==="0x")return;const s=await new Cn(t,gt.erc1271.abi,n).isValidSignature(e,r);return gt.erc1271.returns.isValidSignatureBytes32===s}catch{return!1}}async function wv(t,e,r,n,i,s){if(!(!i&&!s)&&n)try{const o=s||(await i.getNetwork()).chainId,a=$s(r),l=V(pe(lf(t,o,e))),u=await bv(l,a,i,n,s,!0),p=a.signers.reduce((x,w)=>ra(w)||Ws(w)?x+w.weight:x,0);return ta(Ft(u,n),t)===0&&p>=a.threshold}catch{return!1}}const wA=async t=>{const e=await t.getAddress(),n=await new Cn(e,gt.mainModuleUpgradable.abi,await t.getProvider()).functions.imageHash.call([]).catch(()=>[]);return n&&n.length>0?n[0]:""},bA=async(t,e,r,n,i,s)=>{const o=V(pe(t));return bv(o,e,r,n,i,s)},bv=async(t,e,r,n,i,s)=>{const o=e.threshold!==void 0?e:$s(e),a=await Promise.all(o.signers.map(async l=>{if(ra(l))return{weight:l.weight,address:pf(t,l)};if(Wl(l))return{weight:l.weight,address:oe(l.address)};if(Ws(l)){if(s&&!await yv(l.address,V(t),Q(l.signature),r,n,i))throw Error("Invalid signature");return{weight:l.weight,address:l.address}}else throw Error("Uknown signature type")}));return{threshold:o.threshold,signers:a}};function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},th.apply(this,arguments)}const qp=60*60*24*7,vA=3e7,EA=60;class Za{constructor(e,r,n,i,s,o,a,l,u){if(this.sequenceApiUrl=e,this.sequenceMetadataUrl=r,this.networks=n,this.config=i,this.context=s,this.account=o,this.metadata=a,this.authProvider=l,this._initialAuthRequest=void 0,this._jwt=void 0,this.proofStrings=new Map,this.onAuthCallbacks=[],this.apiClient=void 0,this.metadataClient=void 0,this.indexerClients=new Map,u){var p;this._jwt={token:Promise.resolve(u.token),expiration:(p=u.expiration)!=null?p:AA(u.token)}}}get name(){return this.metadata.name}get expiration(){return this.metadata.expiration?Math.max(this.metadata.expiration,120):qp}onAuth(e){this.onAuthCallbacks.push(e)}setAccount(e){this.account=e}setConfig(e){this.config=e}async auth(e=5){const r=this.sequenceApiUrl;if(!r)throw Error("No sequence api url");let n;for(let i=0;;i++)try{n=(await this.getJWT(!0)).token;break}catch(s){if(i===e-1)throw console.error(`couldn't authenticate after ${e} attempts`,s),s}return new Oc(r,n)}get isTestnetMode(){if(!(!this.networks||this.networks.length===0))return!!this.networks[0].testnet}async getAPIClient(e=!0){if(!this.apiClient){const r=this.sequenceApiUrl;if(!r)throw Error("No chaind url");const n=(await this.getJWT(e)).token;this.apiClient=new Oc(r,n)}return this.apiClient}getMetadataClient(){return this.metadataClient||(this.metadataClient=new nv(this.sequenceMetadataUrl)),this.metadataClient}async getIndexerClient(e){const r=Qa(this.networks,e);if(!r)throw Error(`No network for chain ${e}`);const n=(await this.getJWT(!0)).token;if(!this.indexerClients.has(r.chainId))if(r.indexer)this.indexerClients.set(r.chainId,r.indexer);else if(r.indexerUrl)this.indexerClients.set(r.chainId,new tv(r.indexerUrl,n));else throw Error(`No indexer url for chain ${e}`);return this.indexerClients.get(r.chainId)}async getJWT(e){var r=this;const n=this.sequenceApiUrl;if(!n)throw Error("No chaind url");if(this._jwt){const u=this._jwt,p=await u.token;if(this.now()<u.expiration)return{token:p,expiration:u.expiration};this._jwt=void 0}if(!e)throw new Error("no auth token in memory");const i=this.getProofStringKey(),{proofString:s,expiration:o}=this.getProofString(i),a={token:s.then(async function(u){const x=await new Oc(n).getAuthToken({ewtString:u,testnetMode:r.isTestnetMode});if((x==null?void 0:x.status)===!0&&x.jwtToken.length!==0)return x.jwtToken;throw await r.isProofStringValid(u)||r.proofStrings.delete(i),new Error("no auth token from server")}).catch(u=>{throw this._jwt=void 0,u}),expiration:o};return this._jwt=a,a.token.then(()=>{this.onAuthCallbacks.forEach(u=>{try{u({status:"fulfilled",value:void 0})}catch{}})}).catch(u=>{this.onAuthCallbacks.forEach(p=>{try{p({status:"rejected",reason:u})}catch{}})}),{token:await a.token,expiration:o}}getProofString(e){if(this.proofStrings.has(e)){const l=this.proofStrings.get(e);if(this.now()<l.expiration)return l;this.proofStrings.delete(e)}const r=new af({address:this.account.address});r.claims.app=this.name,r.setExpiryIn(this.expiration);const n=new bu,i=new Tu(this.authProvider),s=this.account.authWallet(),o=this.now()+this.expiration-EA,a={proofString:i.findCurrentConfig({address:s.wallet.address,provider:this.authProvider,context:s.wallet.context,knownConfigs:[s.wallet.config]}).then(l=>{if(!l.config)throw Error("Can't find latest config");return s.wallet.useConfig(l.config).sign(r.messageDigest()).then(u=>{const p=$s(u),x=p.signers.filter(hf).reduce((w,E)=>w+E.weight,0);if(x<p.threshold)throw Error(`insufficient signing power, need ${p.threshold}, have ${x}`);return r.signature=u,n.encodeProof(r,!0)})}).catch(l=>{throw this.proofStrings.delete(e),l}),expiration:o};return this.proofStrings.set(e,a),a}getProofStringKey(){return`${this.account.address} - ${this.name}`}async isProofStringValid(e){try{const r=new bu;return r.provider=this.authProvider,await r.decodeProof(e),!0}catch{return!1}}async dump(){let e;if(this._jwt)try{const r=this._jwt.expiration;e={token:await this._jwt.token,expiration:r}}catch{}return{config:this.config,context:this.context,metadata:this.metadata,jwt:e}}now(){return Math.floor(new Date().getTime()/1e3)}static async open(e){const{sequenceApiUrl:r,sequenceMetadataUrl:n,context:i,networks:s,referenceSigner:o,signers:a,threshold:l,deepSearch:u,knownConfigs:p,noIndex:x,metadata:w}=e,E=Nx(s),I=e.configFinder?e.configFinder:new Tu(E),P=Promise.all(a.map(async function(k){return th({},k,{address:typeof k.signer=="string"?k.signer:await k.signer.getAddress()})})),b=a.filter(k=>typeof k.signer!="string").map(k=>k.signer),A=(await I.findLastWalletOfInitialSigner({signer:o,context:i,provider:E,requireIndex:!u})).wallet;if(A){const k=(await I.findCurrentConfig({address:A,provider:E,context:i,knownConfigs:p})).config;if(!k)throw Error("Wallet config not found");const B=new hc({initialConfig:k,networks:s,context:i},...b),O=new Za(r,n,s,k,i,B,w,E),[D]=await B.updateConfig(Vb(k,{threshold:l,set:await P}),!x);return O.setConfig(D),O.setAccount(new hc({initialConfig:D,networks:s,context:i},...b)),r?O._initialAuthRequest=O.auth():O._initialAuthRequest=Promise.reject("no sequence api url"),O}else{const k=Kb(l,await P),B=new hc({initialConfig:k,networks:s,context:i},...b);await B.publishConfig(!x,[o]);const O=new Za(r,n,s,k,i,B,w,E);return r?O._initialAuthRequest=O.auth():O._initialAuthRequest=Promise.reject("no sequence api url"),O}}static load(e){const{sequenceApiUrl:r,sequenceMetadataUrl:n,dump:i,signers:s,networks:o}=e;return new Za(r,n,o,i.config,i.context,new hc({initialConfig:i.config,context:i.context,networks:o},...s),i.metadata,Nx(o),i.jwt)}}function Nx(t){var e;const r=Ob(t);if(!r)throw Error("Auth chain not found");return(e=r.provider)!=null?e:new Bp(r.rpcUrl,{chainId:r.chainId,blockCache:!0})}function AA(t){return kb(t).exp}const vv=async(t,e)=>{const r=await t.getChainId(),n=oe(await t.getAddress());if(!n||n===""||n==="0x")throw Ev;const i=new af;if(i.address=n,!e||!e.app||e.app==="")throw new Vp("authorization options requires app to be set");i.claims.app=e.app,i.claims.ogn=e.origin,i.setExpiryIn(e.expiry?Math.max(e.expiry,200):qp);const s=i.messageTypedData();i.signature=await t.signTypedData(s.domain,s.types,s.message,r);const a=await new bu().encodeProof(i,!0);return{typedData:s,proofString:a}};class Vp extends Error{constructor(e){super(e),this.name="AuthError"}}const Ev=new Vp("auth error: account address is empty"),SA=async(t,e,r)=>{if(!t||t===void 0||e===void 0)return{isValid:!1};const n=r.messageDigest(),i=await t.getCode(r.address);if(i==="0x"||i.length<=2)throw new Error("ValidateSequenceDeployedWalletProof failed. unable to fetch wallet contract code");const s=["function isValidSignature(bytes32, bytes) public view returns (bytes4)"];return await new Cn(r.address,s,t).isValidSignature(n,V(r.signature))===Sb?{isValid:!0}:{isValid:!1}},_A=t=>async(e,r,n)=>{if(!e||e===void 0||r===void 0)return{isValid:!1};if(V(await e.getCode(n.address)).length!==0)return{isValid:!1};const s=n.messageDigest(),o=V(pe(s));return{isValid:!!await wv(n.address,o,n.signature,t||Ul,e,r)}},CA=Object.freeze(Object.defineProperty({__proto__:null,AuthError:Vp,DEFAULT_SESSION_EXPIRATION:qp,ErrAccountIsRequired:Ev,LONG_SESSION_EXPIRATION:vA,Session:Za,ValidateSequenceDeployedWalletProof:SA,ValidateSequenceUndeployedWalletProof:_A,signAuthorization:vv},Symbol.toStringTag,{value:"Module"}));var $o={},kA={get exports(){return $o},set exports(t){$o=t}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(t,e){(function(r){var n=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(v){return Object.prototype.toString.call(v)==="[object Array]"},s=10,o=typeof process=="object"&&typeof process.nextTick=="function",a=typeof Symbol=="function",l=typeof Reflect=="object",u=typeof setImmediate=="function",p=u?setImmediate:setTimeout,x=a?l&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(g){var v=Object.getOwnPropertyNames(g);return v.push.apply(v,Object.getOwnPropertySymbols(g)),v}:Object.keys;function w(){this._events={},this._conf&&E.call(this,this._conf)}function E(g){g&&(this._conf=g,g.delimiter&&(this.delimiter=g.delimiter),g.maxListeners!==r&&(this._maxListeners=g.maxListeners),g.wildcard&&(this.wildcard=g.wildcard),g.newListener&&(this._newListener=g.newListener),g.removeListener&&(this._removeListener=g.removeListener),g.verboseMemoryLeak&&(this.verboseMemoryLeak=g.verboseMemoryLeak),g.ignoreErrors&&(this.ignoreErrors=g.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function I(g,v){var C="(node) warning: possible EventEmitter memory leak detected. "+g+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(C+=" Event name: "+v+"."),typeof process<"u"&&process.emitWarning){var h=new Error(C);h.name="MaxListenersExceededWarning",h.emitter=this,h.count=g,process.emitWarning(h)}else console.error(C),console.trace&&console.trace()}var P=function(g,v,C){var h=arguments.length;switch(h){case 0:return[];case 1:return[g];case 2:return[g,v];case 3:return[g,v,C];default:for(var c=new Array(h);h--;)c[h]=arguments[h];return c}};function b(g,v){for(var C={},h,c=g.length,m=v?v.length:0,S=0;S<c;S++)h=g[S],C[h]=S<m?v[S]:r;return C}function A(g,v,C){this._emitter=g,this._target=v,this._listeners={},this._listenersCount=0;var h,c;if((C.on||C.off)&&(h=C.on,c=C.off),v.addEventListener?(h=v.addEventListener,c=v.removeEventListener):v.addListener?(h=v.addListener,c=v.removeListener):v.on&&(h=v.on,c=v.off),!h&&!c)throw Error("target does not implement any known event API");if(typeof h!="function")throw TypeError("on method must be a function");if(typeof c!="function")throw TypeError("off method must be a function");this._on=h,this._off=c;var m=g._observers;m?m.push(this):g._observers=[this]}Object.assign(A.prototype,{subscribe:function(g,v,C){var h=this,c=this._target,m=this._emitter,S=this._listeners,f=function(){var N=P.apply(null,arguments),R={data:N,name:v,original:g};if(C){var L=C.call(c,R);L!==!1&&m.emit.apply(m,[R.name].concat(N));return}m.emit.apply(m,[v].concat(N))};if(S[g])throw Error("Event '"+g+"' is already listening");this._listenersCount++,m._newListener&&m._removeListener&&!h._onNewListener?(this._onNewListener=function(N){N===v&&S[g]===null&&(S[g]=f,h._on.call(c,g,f))},m.on("newListener",this._onNewListener),this._onRemoveListener=function(N){N===v&&!m.hasListeners(N)&&S[g]&&(S[g]=null,h._off.call(c,g,f))},S[g]=null,m.on("removeListener",this._onRemoveListener)):(S[g]=f,h._on.call(c,g,f))},unsubscribe:function(g){var v=this,C=this._listeners,h=this._emitter,c,m,S=this._off,f=this._target,N;if(g&&typeof g!="string")throw TypeError("event must be a string");function R(){v._onNewListener&&(h.off("newListener",v._onNewListener),h.off("removeListener",v._onRemoveListener),v._onNewListener=null,v._onRemoveListener=null);var L=G.call(h,v);h._observers.splice(L,1)}if(g){if(c=C[g],!c)return;S.call(f,g,c),delete C[g],--this._listenersCount||R()}else{for(m=x(C),N=m.length;N-- >0;)g=m[N],S.call(f,g,C[g]);this._listeners={},this._listenersCount=0,R()}}});function k(g,v,C,h){var c=Object.assign({},v);if(!g)return c;if(typeof g!="object")throw TypeError("options must be an object");var m=Object.keys(g),S=m.length,f,N,R;function L(K){throw Error('Invalid "'+f+'" option value'+(K?". Reason: "+K:""))}for(var W=0;W<S;W++){if(f=m[W],!h&&!n.call(v,f))throw Error('Unknown "'+f+'" option');N=g[f],N!==r&&(R=C[f],c[f]=R?R(N,L):N)}return c}function B(g,v){return(typeof g!="function"||!g.hasOwnProperty("prototype"))&&v("value must be a constructor"),g}function O(g){var v="value must be type of "+g.join("|"),C=g.length,h=g[0],c=g[1];return C===1?function(m,S){if(typeof m===h)return m;S(v)}:C===2?function(m,S){var f=typeof m;if(f===h||f===c)return m;S(v)}:function(m,S){for(var f=typeof m,N=C;N-- >0;)if(f===g[N])return m;S(v)}}var D=O(["function"]),F=O(["object","function"]);function j(g,v,C){var h,c,m=0,S,f=new g(function(N,R,L){C=k(C,{timeout:0,overload:!1},{timeout:function(J,me){return J*=1,(typeof J!="number"||J<0||!Number.isFinite(J))&&me("timeout must be a positive number"),J}}),h=!C.overload&&typeof g.prototype.cancel=="function"&&typeof L=="function";function W(){c&&(c=null),m&&(clearTimeout(m),m=0)}var K=function(J){W(),N(J)},q=function(J){W(),R(J)};h?v(K,q,L):(c=[function(J){q(J||Error("canceled"))}],v(K,q,function(J){if(S)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof J!="function")throw TypeError("onCancel callback must be a function");c.push(J)}),S=!0),C.timeout>0&&(m=setTimeout(function(){var J=Error("timeout");J.code="ETIMEDOUT",m=0,f.cancel(J),R(J)},C.timeout))});return h||(f.cancel=function(N){if(c){for(var R=c.length,L=1;L<R;L++)c[L](N);c[0](N),c=null}}),f}function G(g){var v=this._observers;if(!v)return-1;for(var C=v.length,h=0;h<C;h++)if(v[h]._target===g)return h;return-1}function z(g,v,C,h,c){if(!C)return null;if(h===0){var m=typeof v;if(m==="string"){var S,f,N=0,R=0,L=this.delimiter,W=L.length;if((f=v.indexOf(L))!==-1){S=new Array(5);do S[N++]=v.slice(R,f),R=f+W;while((f=v.indexOf(L,R))!==-1);S[N++]=v.slice(R),v=S,c=N}else v=[v],c=1}else m==="object"?c=v.length:(v=[v],c=1)}var K=null,q,J,me,Z,ue,br=v[h],ke=v[h+1],Ee,wt;if(h===c)C._listeners&&(typeof C._listeners=="function"?(g&&g.push(C._listeners),K=[C]):(g&&g.push.apply(g,C._listeners),K=[C]));else if(br==="*"){for(Ee=x(C),f=Ee.length;f-- >0;)q=Ee[f],q!=="_listeners"&&(wt=z(g,v,C[q],h+1,c),wt&&(K?K.push.apply(K,wt):K=wt));return K}else if(br==="**"){for(ue=h+1===c||h+2===c&&ke==="*",ue&&C._listeners&&(K=z(g,v,C,c,c)),Ee=x(C),f=Ee.length;f-- >0;)q=Ee[f],q!=="_listeners"&&(q==="*"||q==="**"?(C[q]._listeners&&!ue&&(wt=z(g,v,C[q],c,c),wt&&(K?K.push.apply(K,wt):K=wt)),wt=z(g,v,C[q],h,c)):q===ke?wt=z(g,v,C[q],h+2,c):wt=z(g,v,C[q],h,c),wt&&(K?K.push.apply(K,wt):K=wt));return K}else C[br]&&(K=z(g,v,C[br],h+1,c));if(J=C["*"],J&&z(g,v,J,h+1,c),me=C["**"],me)if(h<c)for(me._listeners&&z(g,v,me,c,c),Ee=x(me),f=Ee.length;f-- >0;)q=Ee[f],q!=="_listeners"&&(q===ke?z(g,v,me[q],h+2,c):q===br?z(g,v,me[q],h+1,c):(Z={},Z[q]=me[q],z(g,v,{"**":Z},h+1,c)));else me._listeners?z(g,v,me,c,c):me["*"]&&me["*"]._listeners&&z(g,v,me["*"],c,c);return K}function X(g,v,C){var h=0,c=0,m,S=this.delimiter,f=S.length,N;if(typeof g=="string")if((m=g.indexOf(S))!==-1){N=new Array(5);do N[h++]=g.slice(c,m),c=m+f;while((m=g.indexOf(S,c))!==-1);N[h++]=g.slice(c)}else N=[g],h=1;else N=g,h=g.length;if(h>1){for(m=0;m+1<h;m++)if(N[m]==="**"&&N[m+1]==="**")return}var R=this.listenerTree,L;for(m=0;m<h;m++)if(L=N[m],R=R[L]||(R[L]={}),m===h-1)return R._listeners?(typeof R._listeners=="function"&&(R._listeners=[R._listeners]),C?R._listeners.unshift(v):R._listeners.push(v),!R._listeners.warned&&this._maxListeners>0&&R._listeners.length>this._maxListeners&&(R._listeners.warned=!0,I.call(this,R._listeners.length,L))):R._listeners=v,!0;return!0}function ee(g,v,C,h){for(var c=x(g),m=c.length,S,f,N,R=g._listeners,L;m-- >0;)f=c[m],S=g[f],f==="_listeners"?N=C:N=C?C.concat(f):[f],L=h||typeof f=="symbol",R&&v.push(L?N:N.join(this.delimiter)),typeof S=="object"&&ee.call(this,S,v,N,L);return v}function ae(g){for(var v=x(g),C=v.length,h,c,m;C-- >0;)c=v[C],h=g[c],h&&(m=!0,c!=="_listeners"&&!ae(h)&&delete g[c]);return m}function M(g,v,C){this.emitter=g,this.event=v,this.listener=C}M.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function d(g,v,C){if(C===!0)c=!0;else if(C===!1)h=!0;else{if(!C||typeof C!="object")throw TypeError("options should be an object or true");var h=C.async,c=C.promisify,m=C.nextTick,S=C.objectify}if(h||m||c){var f=v,N=v._origin||v;if(m&&!o)throw Error("process.nextTick is not supported");c===r&&(c=v.constructor.name==="AsyncFunction"),v=function(){var R=arguments,L=this,W=this.event;return c?m?Promise.resolve():new Promise(function(K){p(K)}).then(function(){return L.event=W,f.apply(L,R)}):(m?process.nextTick:p)(function(){L.event=W,f.apply(L,R)})},v._async=!0,v._origin=N}return[v,S?new M(this,g,v):this]}function y(g){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,E.call(this,g)}y.EventEmitter2=y,y.prototype.listenTo=function(g,v,C){if(typeof g!="object")throw TypeError("target musts be an object");var h=this;C=k(C,{on:r,off:r,reducers:r},{on:D,off:D,reducers:F});function c(m){if(typeof m!="object")throw TypeError("events must be an object");var S=C.reducers,f=G.call(h,g),N;f===-1?N=new A(h,g,C):N=h._observers[f];for(var R=x(m),L=R.length,W,K=typeof S=="function",q=0;q<L;q++)W=R[q],N.subscribe(W,m[W]||W,K?S:S&&S[W])}return i(v)?c(b(v)):c(typeof v=="string"?b(v.split(/\s+/)):v),this},y.prototype.stopListeningTo=function(g,v){var C=this._observers;if(!C)return!1;var h=C.length,c,m=!1;if(g&&typeof g!="object")throw TypeError("target should be an object");for(;h-- >0;)c=C[h],(!g||c._target===g)&&(c.unsubscribe(v),m=!0);return m},y.prototype.delimiter=".",y.prototype.setMaxListeners=function(g){g!==r&&(this._maxListeners=g,this._conf||(this._conf={}),this._conf.maxListeners=g)},y.prototype.getMaxListeners=function(){return this._maxListeners},y.prototype.event="",y.prototype.once=function(g,v,C){return this._once(g,v,!1,C)},y.prototype.prependOnceListener=function(g,v,C){return this._once(g,v,!0,C)},y.prototype._once=function(g,v,C,h){return this._many(g,1,v,C,h)},y.prototype.many=function(g,v,C,h){return this._many(g,v,C,!1,h)},y.prototype.prependMany=function(g,v,C,h){return this._many(g,v,C,!0,h)},y.prototype._many=function(g,v,C,h,c){var m=this;if(typeof C!="function")throw new Error("many only accepts instances of Function");function S(){return--v===0&&m.off(g,S),C.apply(this,arguments)}return S._origin=C,this._on(g,S,h,c)},y.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||w.call(this);var g=arguments[0],v,C=this.wildcard,h,c,m,S,f;if(g==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(C&&(v=g,g!=="newListener"&&g!=="removeListener"&&typeof g=="object")){if(c=g.length,a){for(m=0;m<c;m++)if(typeof g[m]=="symbol"){f=!0;break}}f||(g=g.join(this.delimiter))}var N=arguments.length,R;if(this._all&&this._all.length)for(R=this._all.slice(),m=0,c=R.length;m<c;m++)switch(this.event=g,N){case 1:R[m].call(this,g);break;case 2:R[m].call(this,g,arguments[1]);break;case 3:R[m].call(this,g,arguments[1],arguments[2]);break;default:R[m].apply(this,arguments)}if(C)R=[],z.call(this,R,v,this.listenerTree,0,c);else if(R=this._events[g],typeof R=="function"){switch(this.event=g,N){case 1:R.call(this);break;case 2:R.call(this,arguments[1]);break;case 3:R.call(this,arguments[1],arguments[2]);break;default:for(h=new Array(N-1),S=1;S<N;S++)h[S-1]=arguments[S];R.apply(this,h)}return!0}else R&&(R=R.slice());if(R&&R.length){if(N>3)for(h=new Array(N-1),S=1;S<N;S++)h[S-1]=arguments[S];for(m=0,c=R.length;m<c;m++)switch(this.event=g,N){case 1:R[m].call(this);break;case 2:R[m].call(this,arguments[1]);break;case 3:R[m].call(this,arguments[1],arguments[2]);break;default:R[m].apply(this,h)}return!0}else if(!this.ignoreErrors&&!this._all&&g==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},y.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||w.call(this);var g=arguments[0],v=this.wildcard,C,h,c,m,S,f;if(g==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(v&&(C=g,g!=="newListener"&&g!=="removeListener"&&typeof g=="object")){if(m=g.length,a){for(S=0;S<m;S++)if(typeof g[S]=="symbol"){h=!0;break}}h||(g=g.join(this.delimiter))}var N=[],R=arguments.length,L;if(this._all)for(S=0,m=this._all.length;S<m;S++)switch(this.event=g,R){case 1:N.push(this._all[S].call(this,g));break;case 2:N.push(this._all[S].call(this,g,arguments[1]));break;case 3:N.push(this._all[S].call(this,g,arguments[1],arguments[2]));break;default:N.push(this._all[S].apply(this,arguments))}if(v?(L=[],z.call(this,L,C,this.listenerTree,0)):L=this._events[g],typeof L=="function")switch(this.event=g,R){case 1:N.push(L.call(this));break;case 2:N.push(L.call(this,arguments[1]));break;case 3:N.push(L.call(this,arguments[1],arguments[2]));break;default:for(c=new Array(R-1),f=1;f<R;f++)c[f-1]=arguments[f];N.push(L.apply(this,c))}else if(L&&L.length){if(L=L.slice(),R>3)for(c=new Array(R-1),f=1;f<R;f++)c[f-1]=arguments[f];for(S=0,m=L.length;S<m;S++)switch(this.event=g,R){case 1:N.push(L[S].call(this));break;case 2:N.push(L[S].call(this,arguments[1]));break;case 3:N.push(L[S].call(this,arguments[1],arguments[2]));break;default:N.push(L[S].apply(this,c))}}else if(!this.ignoreErrors&&!this._all&&g==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(N)},y.prototype.on=function(g,v,C){return this._on(g,v,!1,C)},y.prototype.prependListener=function(g,v,C){return this._on(g,v,!0,C)},y.prototype.onAny=function(g){return this._onAny(g,!1)},y.prototype.prependAny=function(g){return this._onAny(g,!0)},y.prototype.addListener=y.prototype.on,y.prototype._onAny=function(g,v){if(typeof g!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),v?this._all.unshift(g):this._all.push(g),this},y.prototype._on=function(g,v,C,h){if(typeof g=="function")return this._onAny(g,v),this;if(typeof v!="function")throw new Error("on only accepts instances of Function");this._events||w.call(this);var c=this,m;return h!==r&&(m=d.call(this,g,v,h),v=m[0],c=m[1]),this._newListener&&this.emit("newListener",g,v),this.wildcard?(X.call(this,g,v,C),c):(this._events[g]?(typeof this._events[g]=="function"&&(this._events[g]=[this._events[g]]),C?this._events[g].unshift(v):this._events[g].push(v),!this._events[g].warned&&this._maxListeners>0&&this._events[g].length>this._maxListeners&&(this._events[g].warned=!0,I.call(this,this._events[g].length,g))):this._events[g]=v,c)},y.prototype.off=function(g,v){if(typeof v!="function")throw new Error("removeListener only takes instances of Function");var C,h=[];if(this.wildcard){var c=typeof g=="string"?g.split(this.delimiter):g.slice();if(h=z.call(this,null,c,this.listenerTree,0),!h)return this}else{if(!this._events[g])return this;C=this._events[g],h.push({_listeners:C})}for(var m=0;m<h.length;m++){var S=h[m];if(C=S._listeners,i(C)){for(var f=-1,N=0,R=C.length;N<R;N++)if(C[N]===v||C[N].listener&&C[N].listener===v||C[N]._origin&&C[N]._origin===v){f=N;break}if(f<0)continue;return this.wildcard?S._listeners.splice(f,1):this._events[g].splice(f,1),C.length===0&&(this.wildcard?delete S._listeners:delete this._events[g]),this._removeListener&&this.emit("removeListener",g,v),this}else(C===v||C.listener&&C.listener===v||C._origin&&C._origin===v)&&(this.wildcard?delete S._listeners:delete this._events[g],this._removeListener&&this.emit("removeListener",g,v))}return this.listenerTree&&ae(this.listenerTree),this},y.prototype.offAny=function(g){var v=0,C=0,h;if(g&&this._all&&this._all.length>0){for(h=this._all,v=0,C=h.length;v<C;v++)if(g===h[v])return h.splice(v,1),this._removeListener&&this.emit("removeListenerAny",g),this}else{if(h=this._all,this._removeListener)for(v=0,C=h.length;v<C;v++)this.emit("removeListenerAny",h[v]);this._all=[]}return this},y.prototype.removeListener=y.prototype.off,y.prototype.removeAllListeners=function(g){if(g===r)return!this._events||w.call(this),this;if(this.wildcard){var v=z.call(this,null,g,this.listenerTree,0),C,h;if(!v)return this;for(h=0;h<v.length;h++)C=v[h],C._listeners=null;this.listenerTree&&ae(this.listenerTree)}else this._events&&(this._events[g]=null);return this},y.prototype.listeners=function(g){var v=this._events,C,h,c,m,S;if(g===r){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!v)return[];for(C=x(v),m=C.length,c=[];m-- >0;)h=v[C[m]],typeof h=="function"?c.push(h):c.push.apply(c,h);return c}else{if(this.wildcard){if(S=this.listenerTree,!S)return[];var f=[],N=typeof g=="string"?g.split(this.delimiter):g.slice();return z.call(this,f,N,S,0),f}return v?(h=v[g],h?typeof h=="function"?[h]:h:[]):[]}},y.prototype.eventNames=function(g){var v=this._events;return this.wildcard?ee.call(this,this.listenerTree,[],null,g):v?x(v):[]},y.prototype.listenerCount=function(g){return this.listeners(g).length},y.prototype.hasListeners=function(g){if(this.wildcard){var v=[],C=typeof g=="string"?g.split(this.delimiter):g.slice();return z.call(this,v,C,this.listenerTree,0),v.length>0}var h=this._events,c=this._all;return!!(c&&c.length||h&&(g===r?x(h).length:h[g]))},y.prototype.listenersAny=function(){return this._all?this._all:[]},y.prototype.waitFor=function(g,v){var C=this,h=typeof v;return h==="number"?v={timeout:v}:h==="function"&&(v={filter:v}),v=k(v,{timeout:0,filter:r,handleError:!1,Promise,overload:!1},{filter:D,Promise:B}),j(v.Promise,function(c,m,S){function f(){var N=v.filter;if(!(N&&!N.apply(C,arguments)))if(C.off(g,f),v.handleError){var R=arguments[0];R?m(R):c(P.apply(null,arguments).slice(1))}else c(P.apply(null,arguments))}S(function(){C.off(g,f)}),C._on(g,f,!1)},{timeout:v.timeout,overload:v.overload})};function _(g,v,C){C=k(C,{Promise,timeout:0,overload:!1},{Promise:B});var h=C.Promise;return j(h,function(c,m,S){var f;if(typeof g.addEventListener=="function"){f=function(){c(P.apply(null,arguments))},S(function(){g.removeEventListener(v,f)}),g.addEventListener(v,f,{once:!0});return}var N=function(){R&&g.removeListener("error",R),c(P.apply(null,arguments))},R;v!=="error"&&(R=function(L){g.removeListener(v,N),m(L)},g.once("error",R)),S(function(){R&&g.removeListener("error",R),g.removeListener(v,N)}),g.once(v,N)},{timeout:C.timeout,overload:C.overload})}var T=y.prototype;Object.defineProperties(y,{defaultMaxListeners:{get:function(){return T._maxListeners},set:function(g){if(typeof g!="number"||g<0||Number.isNaN(g))throw TypeError("n must be a non-negative number");T._maxListeners=g},enumerable:!0},once:{value:_,writable:!0,configurable:!0}}),Object.defineProperties(T,{_maxListeners:{value:s,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof r=="function"&&r.amd?r(function(){return y}):t.exports=y})()})(kA);function Wr(){return Wr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wr.apply(this,arguments)}class Hl extends URLSearchParams{static new(e){return new URLSearchParams(e)}}let ye;(function(t){t.OPEN="open",t.CLOSE="close",t.MESSAGE="message",t.CONNECT="connect",t.DISCONNECT="disconnect",t.ACCOUNTS_CHANGED="accountsChanged",t.CHAIN_CHANGED="chainChanged",t.NETWORKS="networks",t.WALLET_CONTEXT="walletContext",t.INIT="init",t.DEBUG="_debug"})(ye||(ye={}));let pr;(function(t){t[t.CLOSED=0]="CLOSED",t[t.OPENING=1]="OPENING",t[t.OPENED=2]="OPENED"})(pr||(pr={}));let Me;(function(t){t[t.NIL=0]="NIL",t[t.SENT_NONCE=1]="SENT_NONCE",t[t.OK=2]="OK"})(Me||(Me={}));class Av extends Error{constructor(e){super(e),this.name="ProviderError"}}const Sv=new Av("Wallet is not signed in. Connect a wallet and try again."),Kp=3e4;let NA=0;const _v=()=>++NA;class Gl{constructor(){var e=this;this.pendingMessageRequests=[],this.responseCallbacks=new Map,this.state=void 0,this.confirmationOnly=!1,this.events=new $o.EventEmitter2,this.openPayload=void 0,this.connectPayload=void 0,this.accountsChangedPayload=void 0,this.networksPayload=void 0,this.walletContextPayload=void 0,this._sessionId=void 0,this._init=void 0,this._registered=void 0,this.sendAsync=async function(r,n,i){e.state===pr.CLOSED&&(e.confirmationOnly=!0),e.openWallet(void 0,{type:"jsonRpcRequest",method:r.method},i);try{e.isOpened()||await e.waitUntilOpened();const s=await e.sendMessageRequest({idx:_v(),type:ye.MESSAGE,data:r,chainId:i});n(void 0,s.data)}catch(s){n(s)}},this.sendMessageRequest=async function(r){return new Promise((n,i)=>{(!r.idx||r.idx<=0)&&r.type!=="init"&&i(new Error("message idx not set"));const s=(a,l)=>{if(a)i(a);else if(l)n(l);else throw new Error("no valid response to return")},o=r.idx;e.responseCallbacks.get(o)?i(new Error("duplicate message idx, should never happen")):e.responseCallbacks.set(o,s),e.isOpened()?e.sendMessage(r):(te.debug("pushing to pending requests",r),e.pendingMessageRequests.push(r))})},this.waitUntilOpened=async function(r=Kp){let n=!1;return Promise.race([new Promise((i,s)=>{const o=setTimeout(()=>{clearTimeout(o),n||(e.state=pr.CLOSED,e.events.emit("close",{code:1005,message:"opening wallet timed out"})),s(new Error("opening wallet timed out"))},r)}),new Promise(i=>{if(e.isOpened()){var s;n=!0,i((s=e.openPayload)==null?void 0:s.session);return}e.events.once("open",o=>{e.openPayload=o,n=!0,i(o.session)})})])},this.waitUntilConnected=async function(){await e.waitUntilOpened();const r=new Promise(i=>{if(e.connectPayload){i(e.connectPayload);return}e.events.once("connect",s=>{e.connectPayload=s,i(s)})}),n=new Promise((i,s)=>{e.events.once("close",o=>{s(o?new Error(`wallet closed due to ${JSON.stringify(o)}`):new Error("user closed the wallet"))})});return Promise.race([r,n])},this.state=pr.CLOSED,this._registered=!1,this._init=Me.NIL}get registered(){return this._registered}register(){throw new Error("abstract method")}unregister(){throw new Error("abstract method")}openWallet(e,r,n){throw new Error("abstract method")}closeWallet(){throw new Error("abstract method")}isOpened(){return this.registered&&this.state===pr.OPENED}isConnected(){var e;const r=(e=this.openPayload)==null?void 0:e.session;return this.registered&&r!==void 0&&!!r.accountAddress&&r.accountAddress.length===42&&!!r.networks&&r.networks.length>0}handleMessage(e){var r=this;if(e.type===ye.INIT){te.debug("MessageProvider, received INIT message",e);const{nonce:l}=e.data;if(!l||l.length==0){te.error("invalid init nonce");return}this._init=Me.OK,this.sendMessage({idx:-1,type:ye.INIT,data:{sessionId:this._sessionId,nonce:l}})}if(this._init!==Me.OK)return;te.debug("RECEIVED MESSAGE FROM WALLET",e.idx,e);const n=e.idx,i=this.responseCallbacks.get(n);if(n&&this.responseCallbacks.delete(n),e.type===ye.OPEN&&!this.isOpened()){var s,o;if(this._sessionId&&this._sessionId!==((s=e.data)==null?void 0:s.sessionId)){te.debug("open event received from wallet, but does not match sessionId",this._sessionId);return}if((o=e.data)!=null&&o.error){var a;const l=new Error(`opening wallet failed: received ${(a=e.data)==null?void 0:a.error}`);throw te.error(l),this.close(),l}this.state=pr.OPENED,this.openPayload=e.data,this.events.emit("open",this.openPayload),this.pendingMessageRequests.length!==0&&this.pendingMessageRequests.splice(0,this.pendingMessageRequests.length).forEach(async function(u){r.sendMessage(u)});return}if(e.type===ye.MESSAGE){if(this.confirmationOnly&&setTimeout(()=>{this.responseCallbacks.size===0&&this.closeWallet()},500),!i)throw new Error("impossible state");if(i){this.events.emit("message",e),i(e.data.error,e);return}}if(e.type===ye.ACCOUNTS_CHANGED){this.accountsChangedPayload={accounts:[]},e.data&&e.data.length>0?(this.accountsChangedPayload={accounts:[oe(e.data[0])],origin:e.origin},this.events.emit("accountsChanged",this.accountsChangedPayload.accounts,this.accountsChangedPayload.origin)):this.events.emit("accountsChanged",[],e.origin);return}if(e.type===ye.CHAIN_CHANGED){this.events.emit("chainChanged",e.data);return}if(e.type===ye.NETWORKS){this.networksPayload=e.data,this.events.emit("networks",this.networksPayload);return}if(e.type===ye.WALLET_CONTEXT){this.walletContextPayload=e.data,this.events.emit("walletContext",this.walletContextPayload);return}e.type===ye.CLOSE&&this.state!==pr.CLOSED&&this.close(e.data),e.type===ye.CONNECT&&(this.connectPayload=e.data,this.events.emit("connect",this.connectPayload)),e.type===ye.DISCONNECT&&this.isConnected()&&(this.events.emit("disconnect",e.data),this.close())}sendMessage(e){throw new Error("abstract method")}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}emit(e,...r){return this.events.emit(e,...r)}close(e){this.state!==pr.CLOSED&&(this.state=pr.CLOSED,this.confirmationOnly=!1,this._sessionId=void 0,te.info("closing wallet and flushing!"),this.pendingMessageRequests.length=0,this.responseCallbacks.forEach(r=>{r(Wr({},new Error("wallet closed"),{code:4001}))}),this.responseCallbacks.clear(),this.connectPayload=void 0,this.openPayload=void 0,this.accountsChangedPayload=void 0,this.networksPayload=void 0,this.walletContextPayload=void 0,this.events.emit("close",e))}}const TA=1e4;class Cv{constructor(e,r,n,i,s=[]){var o=this;this.signer=void 0,this.signerReadyCallbacks=[],this.prompter=void 0,this.auxDataProvider=void 0,this.mainnetNetworks=void 0,this.testnetNetworks=void 0,this._openIntent=void 0,this._connectOptions=void 0,this._defaultNetworkId=void 0,this._chainId=void 0,this.events=new $o.EventEmitter2,this.promptConnect=async function(a){if(!a&&!o._connectOptions)throw new Error("prompter connect options are empty");if(!o.prompter)return o.connect(a);const l=await o.prompter.promptConnect(a||o._connectOptions).catch(p=>({connected:!1})),u=l;return u.connected&&!u.session&&(u.session=await o.walletSession()),l},this.sendAsync=async function(a,l,u){const p={jsonrpc:"2.0",id:a.id,result:null};await o.getSigner();try{if((!o.signer||o.signer===null)&&!PA.includes(a.method))throw Sv;const x=o.signer;if(!x)throw new Error("WalletRequestHandler: wallet signer is not configured");const w=await x.getProvider(u);if(!w)throw new Error(`WalletRequestHandler: wallet provider is not configured for chainId ${u}`);switch(a.method){case"net_version":{const E=await w.send("net_version",[]);p.result=E;break}case"eth_chainId":{const E=await w.send("eth_chainId",[]);p.result=E;break}case"eth_accounts":{const E=await x.getAddress();p.result=[E];break}case"eth_getBalance":{const[E,I]=a.params,P=await w.getBalance(E,I);p.result=P.toHexString();break}case"personal_sign":case"eth_sign":{let E;if(a.method==="personal_sign"){const[b,A]=a.params;E=b}else{const[b,A]=a.params;E=A}let I="";const P=Sl(E);if(o.prompter===null?I=await x.signMessage(P,u):await o.handleConfirmWalletDeployPrompt(o.prompter,x,u)&&(I=await o.prompter.promptSignMessage({chainId:u,message:P},o.connectOptions)),I&&I.length>0)p.result=I;else throw new Error("declined by user");break}case"eth_signTypedData":case"eth_signTypedData_v4":{const[E,I]=a.params;let P;if(typeof I=="string")try{P=JSON.parse(I)}catch{}else P=I;if(!P||!P.domain||!P.types||!P.message)throw new Error("invalid typedData object");let b="";if(o.prompter===null?b=await x.signTypedData(P.domain,P.types,P.message,u):await o.handleConfirmWalletDeployPrompt(o.prompter,x,u)&&(b=await o.prompter.promptSignMessage({chainId:u,typedData:P},o.connectOptions)),b&&b.length>0)p.result=b;else throw new Error("declined by user");break}case"eth_sendTransaction":{const[E]=a.params;"gas"in E&&E.gasLimit===void 0&&(E.gasLimit=E.gas,delete E.gas);let I="";if(o.prompter===null?I=(await x.sendTransaction(E,u)).hash:I=await o.prompter.promptSendTransaction(E,u,o.connectOptions),I)p.result=I;else throw new Error("declined by user");break}case"eth_signTransaction":{const[E]=a.params;if(oe(E.from)!==await x.getAddress())throw new Error("sender address does not match wallet");o.prompter===null?p.result=await x.signTransactions(E,u):p.result=await o.prompter.promptSignTransaction(E,u,o.connectOptions);break}case"eth_sendRawTransaction":{if(cv(a.params[0])){const E=$.from(a.params[0].chainId).toNumber(),I=await(await x.getRelayer(E)).relay(a.params[0]);p.result=(await I).hash}else{const E=await w.sendTransaction(a.params[0]);p.result=E.hash}break}case"eth_getTransactionCount":{const E=oe(a.params[0]),I=a.params[1],P=oe(await x.getAddress());if(E===P){const b=await x.getTransactionCount(I);p.result=$.from(b).toHexString()}else{const b=await w.getTransactionCount(E,I);p.result=$.from(b).toHexString()}break}case"eth_blockNumber":{p.result=await w.getBlockNumber();break}case"eth_getBlockByNumber":{p.result=await w.getBlock(a.params[0]);break}case"eth_getBlockByHash":{p.result=await w.getBlock(a.params[0]);break}case"eth_getTransactionByHash":{p.result=await w.getTransaction(a.params[0]);break}case"eth_call":{const[E,I]=a.params;p.result=await w.call(E,I);break}case"eth_getCode":{const[E,I]=a.params;p.result=await w.getCode(E,I);break}case"eth_estimateGas":{const[E]=a.params;p.result=await w.estimateGas(E);break}case"eth_gasPrice":{const E=await w.getGasPrice();p.result=E.toHexString();break}case"wallet_switchEthereumChain":{const[E]=a.params;if(!E.chainId||E.chainId.length===0)throw new Error("invalid chainId");const I=$.from(E.chainId);if(!await o.setDefaultNetwork(I.toString(),!0))throw new Error(`unable to set chainId ${I}`);p.result=null;break}case"sequence_getWalletContext":{p.result=await x.getWalletContext();break}case"sequence_getWalletConfig":{const[E]=a.params;p.result=await x.getWalletConfig(E);break}case"sequence_getWalletState":{const[E]=a.params;p.result=await x.getWalletState(E);break}case"sequence_getNetworks":{p.result=await o.getNetworks(!0);break}case"sequence_updateConfig":throw new Error("sequence_updateConfig method is not allowed from a dapp");case"sequence_publishConfig":throw new Error("sequence_publishConfig method is not allowed from a dapp");case"sequence_gasRefundOptions":break;case"sequence_getNonce":break;case"sequence_relay":break;case"sequence_setDefaultNetwork":{const[E]=a.params;if(!E)throw new Error("invalid request, method argument defaultNetworkId cannot be empty");if(!await o.setDefaultNetwork(E))throw new Error(`unable to set default network ${E}`);p.result=await o.getNetworks(!0);break}default:{const E=await w.send(a.method,a.params);p.result=E}}}catch(x){te.error(x),p.result=null,p.error=Wr({},new Error(x),{code:4001})}l(void 0,p)},this.isSignedIn=async function(){return await o.signerReady(),!!o.signer},this.getSigner=async function(){if(await o.signerReady(),o.signer===void 0)throw new Error("signerReady failed resolve");return o.signer},this.signer=e,this.prompter=r,this.auxDataProvider=n,this.mainnetNetworks=i,this.testnetNetworks=s}async signIn(e,r={}){this.setSigner(e);const{connect:n,mainnetNetworks:i,testnetNetworks:s,defaultNetworkId:o}=r;if(i&&i.length>0&&(this.mainnetNetworks=i),s&&s.length>0&&(this.testnetNetworks=s),(!this.mainnetNetworks||this.mainnetNetworks.length===0)&&(!this.testnetNetworks||this.testnetNetworks.length===0))throw new Error("signIn failed as network configuration is empty");const a=o||this._defaultNetworkId;if(a&&!await this.setDefaultNetwork(a,!1))throw new Error(`WalletRequestHandler setup unable to set defaultNetworkId ${a}`);if(n){const l=this._connectOptions,u=await this.connect(l);this.notifyConnect(u),(!l||l.keepWalletOpened!==!0)&&this.notifyClose()}}signOut(){this.setSigner(null)}signerReset(){this.signer=void 0}signerReady(e=TA){return new Promise((r,n)=>{this.signer!==void 0?r():(setTimeout(()=>{this.signer===void 0&&(this.signerReadyCallbacks=[],n("signerReady timed out"))},e),this.signerReadyCallbacks.push(r))})}async connect(e){if(!this.signer)return{connected:!1,chainId:"0x0",error:"unable to connect without signed in account"};const r={connected:!0,chainId:Q(await this.getChainId())};if(e&&e.askForEmail){var n;const i=await((n=this.auxDataProvider)==null?void 0:n.get("email"));i&&(r.email=i)}if(e&&e.authorize){const i={app:e.app,origin:e.origin,expiry:e.expiry};try{r.proof=await vv(this.signer,i)}catch(s){return te.warn(`connect, signAuthorization failed for options: ${JSON.stringify(e)}, due to: ${s.message}`),{connected:!1,chainId:"0x0",error:`signAuthorization failed: ${s.message}`}}}return r.session=await this.walletSession(),r}sendMessageRequest(e){return new Promise(r=>{this.sendAsync(e.data,(n,i)=>{const s=Wr({},e,{data:i});r(s)},e.chainId)})}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}async getAddress(){return this.signer?this.signer.getAddress():""}async getChainId(){return this.signer?this._chainId?this._chainId:(this._chainId=await this.signer.getChainId(),this._chainId):0}get openIntent(){return this._openIntent}setOpenIntent(e){this._openIntent=e}get connectOptions(){return this._connectOptions}setConnectOptions(e){this._connectOptions=e}get defaultNetworkId(){return this._defaultNetworkId}async setDefaultNetwork(e,r=!0){if(e)if(this._defaultNetworkId=e,this._chainId=void 0,this.signer&&this.signer.setNetworks){const n=this.signer.setNetworks(this.mainnetNetworks,this.testnetNetworks,e);return n&&r&&await this.notifyNetworks(),n}else return}async getNetworks(e){if(!this.signer)return te.warn("signer not set: getNetworks is returning an empty list"),[];const r=await this.signer.getNetworks();return e?r.map(n=>{const i=Wr({},n);return i.provider=void 0,i.relayer=void 0,i}):r}async walletSession(){return this.signer?{walletContext:await this.signer.getWalletContext(),accountAddress:await this.signer.getAddress(),networks:await this.getNetworks(!0)}:void 0}notifyConnect(e,r){var n;if(this.events.emit("connect",e),(n=e.session)!=null&&n.accountAddress){var i;this.events.emit("accountsChanged",[(i=e.session)==null?void 0:i.accountAddress],r)}}notifyDisconnect(e){this.events.emit("accountsChanged",[],e),this.events.emit("disconnect")}async notifyNetworks(e){const r=e||await this.getNetworks(!0);if(this.events.emit("networks",r),r.length>0){const n=r.find(i=>i.isDefaultChain);n&&this.events.emit("chainChanged",Q(n.chainId))}else this.events.emit("chainChanged","0x0")}async notifyWalletContext(){if(!this.signer){te.warn("signer not set: skipping to notify wallet context");return}const e=await this.signer.getWalletContext();this.events.emit("walletContext",e)}notifyClose(e){this.events.emit("close",e)}setSigner(e){if(this.signer=e,e!==void 0){for(let r=0;r<this.signerReadyCallbacks.length;r++)this.signerReadyCallbacks[r]();this.signerReadyCallbacks=[]}}async handleConfirmWalletDeployPrompt(e,r,n){return!n||await Ru(r,n)?!0:await e.promptConfirmWalletDeploy(n,this.connectOptions)?await Ru(r,n)?!0:(te.error("WalletRequestHandler: result for promptConfirmWalletDeploy is not correct"),!1):!1}}const PA=["net_version","eth_chainId","eth_getBalance","eth_getTransactionCount","eth_blockNumber","eth_getBlockByNumber","eth_getBlockByHash","eth_getTransactionByHash","eth_getCode","eth_estimateGas","eth_gasPrice","sequence_getWalletContext","sequence_getNetworks","sequence_setDefaultNetwork"];class vs extends o7{static isSequenceProvider(e){return kv(e)}constructor(e,r){const n=new ai(e,fr(r));e=n,super(e,"any"),this._sender=void 0,this._isSequenceProvider=void 0,this._defaultChainId=void 0,this._sender=n,this._isSequenceProvider=!0,this._defaultChainId=fr(r)}sendAsync(e,r,n){this._sender.sendAsync(e,r,n)}send(e,r,n){return this._sender.send(e,r,n)}request(e){return this.send(e.method,e.params||[],e.chainId)}getSigner(){return new Jp(this,this._defaultChainId)}async getChainId(){const e=await this.send("eth_chainId",[]),r=$.from(e).toNumber();if(this._defaultChainId&&this._defaultChainId!==r)throw new Error(`provider chainId (${r}) does not match provider-bound chainId ${this._defaultChainId}`);return r}}function kv(t){const e=t;return e&&e.send!==void 0&&e._isSequenceProvider===!0}class IA extends vs{constructor(e,r){const n=new Cv(e,null,null,r||[]);super(n)}}class Jp extends Hp{constructor(e,r){super(),this.provider=void 0,this.defaultChainId=void 0,this._address=void 0,this._index=void 0,this._context=void 0,this._networks=void 0,this._providers={},this.provider=e,this.defaultChainId=r}async getAddress(){if(this._address)return this._address;const e=await this.provider.send("eth_accounts",[]);return this._address=e[0],this._index=0,oe(this._address)}signTransaction(e){throw new Error("signTransaction is unsupported, use signTransactions instead")}connect(e){throw new Error("unsupported: cannot alter JSON-RPC Signer connection")}async getProvider(e){if(e){const r=await this.getChainId();if(r!==e)throw new Error(`signer is attempting to access chain ${e}, but is already bound to chain ${r}`)}return this.provider}async getSender(e){return!e||e&&e===this.defaultChainId?this.provider:(this._providers[e]||(this._providers[e]=new vs(new ai(this.provider,e),e)),this._providers[e])}getRelayer(e){throw new Error("TODO")}async getWalletContext(){return this._context||(this._context=await this.provider.send("sequence_getWalletContext",[])),this._context}async getWalletConfig(e){return await this.provider.send("sequence_getWalletConfig",[fr(e)],fr(e)||this.defaultChainId)}async getWalletState(e){return await this.provider.send("sequence_getWalletState",[fr(e)],fr(e)||this.defaultChainId)}async getNetworks(){return this._networks||(this._networks=await this.provider.send("sequence_getNetworks",[])),this._networks}async getSigners(){const r=(await this.getNetworks()).find(i=>i.isAuthChain);if(!r)throw new Error("authChainId could not be determined from network list");const n=await this.getWalletConfig(r);if(!n||n.length===0)throw new Error("walletConfig returned zero results for authChainId {authChainId}");return n[0].signers.map(i=>i.address)}async signMessage(e,r,n){const i=await this.getSender(fr(r)||this.defaultChainId),s=typeof e=="string"?Ce(e):e,o=await this.getAddress();return await i.send("personal_sign",[Q(s),o])}async signTypedData(e,r,n,i,s){return await this.provider.send("eth_signTypedData_v4",[await this.getAddress(),Tt.getPayload(e,r,n)],fr(i)||this.defaultChainId)}async sendTransaction(e,r,n){const i=await this.getSender(fr(r)||this.defaultChainId);return this.sendUncheckedTransaction(e,r).then(o=>ms(()=>i.getTransaction(o).then(a=>{if(a!==null)return i._wrapTransaction(a,o)}),{onceBlock:this.provider}).catch(a=>{throw a.transactionHash=o,a}))}async sendTransactionBatch(e,r,n){const i=await Gp(e);if(!i||i.length===0)throw new Error("cannot send empty batch");if(i.find(o=>o.wait!==void 0&&o.wait!==null))throw new Error("transaction request expected for sendTransactionBatch, transaction response found");const s=Wr({},i[0]);return i.length>1&&(s.auxiliary=i.splice(1)),this.sendTransaction(s,r,n)}signTransactions(e,r,n){return e=Au(e),this.provider.send("eth_signTransaction",[e],fr(r)||this.defaultChainId)}sendSignedTransactions(e,r){throw new Error("TODO")}async updateConfig(e){const[r,n]=await this.provider.send("sequence_updateConfig",[e],this.defaultChainId);if(n===null)return[r,void 0];const i=await this.getSender(this.defaultChainId);return[r,i._wrapTransaction(n,n.hash)]}async publishConfig(){const e=await this.getSender(this.defaultChainId),r=await e.send("sequence_publishConfig",[]);if(r!==null)return e._wrapTransaction(r,r.hash)}async isDeployed(e){const n=await(await this.getSender(fr(e))).getCode(await this.getAddress());return!!n&&n!=="0x"}async _legacySignMessage(e,r,n){const i=await this.getSender(fr(r)||this.defaultChainId),s=typeof e=="string"?Ce(e):e,o=await this.getAddress();return await i.send("eth_sign",[o,Q(s)])}async _signTypedData(e,r,n,i,s){return this.signTypedData(e,r,n,i,s)}async sendUncheckedTransaction(e,r){e=Au(e);const n=this.getAddress(),i=await this.getSender(fr(r)||this.defaultChainId);return L0({tx:L0(e),sender:await n}).then(({tx:s,sender:o})=>{if(s.from!=null){if(oe(s.from)!==o)throw new Error(`from address mismatch for transaction ${e}`)}else s.from=o;const a=Nv(s);return i.send("eth_sendTransaction",[a]).then(l=>l,l=>{throw l})})}connectUnchecked(){return new RA(this.provider,this.defaultChainId)}async unlock(e){const r=await this.getAddress();return this.provider.send("personal_unlockAccount",[r,e,null])}}const MA={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,from:!0,auxiliary:!0,expiration:!0,afterNonce:!0,delegateCall:!0,revertOnError:!0},Nv=(t,e)=>{const r=Au(MA);if(e)for(const s in e)e[s]&&(r[s]=!0);Ku(t,r);const n={};["gasLimit","gasPrice","nonce","value"].forEach(s=>{const o=t[s];if(o==null)return;const a=Rl(o);s==="gasLimit"&&(s="gas"),n[s]=a}),["from","to","data"].forEach(s=>{t[s]&&(n[s]=Q(t[s]))}),["delegateCall","revertOnError"].forEach(s=>{const o=t[s];o!=null&&(n[s]=o)});const i=t.auxiliary;return i&&i.length>0&&(n.auxiliary=[],i.forEach(s=>{n.auxiliary.push(Nv(s))})),n};class RA extends Jp{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({chainId:0,confirmations:0,data:"",from:"",gasLimit:Be,gasPrice:Be,hash:r,nonce:0,value:Be,wait:n=>this.provider.waitForTransaction(r,n)}))}}function OA(t){return BA.some(e=>e.predicate(t))}const BA=[{name:"Decentraland Exception",predicate:DA},{name:"0x v3 Exception",predicate:FA}],LA=/^Decentraland Login\nEphemeral address: 0x[a-fA-F0-9]{40}\nExpiration: (\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)((-(\d{2}):(\d{2})|Z)?)$/;function DA(t){try{const e=Hi(t);return LA.test(e)}catch{return!1}}function FA(t){const e=new St(UA);try{return e.decodeFunctionData("OrderWithHash",t),!0}catch{return!1}}const UA=[{inputs:[{components:[{internalType:"address",name:"makerAddress",type:"address"},{internalType:"address",name:"takerAddress",type:"address"},{internalType:"address",name:"feeRecipientAddress",type:"address"},{internalType:"address",name:"senderAddress",type:"address"},{internalType:"uint256",name:"makerAssetAmount",type:"uint256"},{internalType:"uint256",name:"takerAssetAmount",type:"uint256"},{internalType:"uint256",name:"makerFee",type:"uint256"},{internalType:"uint256",name:"takerFee",type:"uint256"},{internalType:"uint256",name:"expirationTimeSeconds",type:"uint256"},{internalType:"uint256",name:"salt",type:"uint256"},{internalType:"bytes",name:"makerAssetData",type:"bytes"},{internalType:"bytes",name:"takerAssetData",type:"bytes"},{internalType:"bytes",name:"makerFeeAssetData",type:"bytes"},{internalType:"bytes",name:"takerFeeAssetData",type:"bytes"}],internalType:"struct IEIP1271Data.Order",name:"order",type:"tuple"},{internalType:"bytes32",name:"orderHash",type:"bytes32"}],name:"OrderWithHash",outputs:[],stateMutability:"pure",type:"function"}],WA=Ce(`Ethereum Signed Message:
`),Tv=t=>ui(t)||be(t)?V(t):Ce(t),Sl=t=>{const e=Tv(t);return OA(e)?e:Re([WA,Ce(String(e.length)),e])},zo=async(t,e,r,n,i,s)=>{if(!i){var o;i=(o=await n.getNetwork())==null?void 0:o.chainId}return!s&&vs.isSequenceProvider(n)&&(s=await n.getSigner().getWalletContext()),yv(t,e,r,n,s,i)},Pv=async(t,e,r,n,i,s)=>{const o=Sl(e),a=vu(o);return zo(t,a,r,n,i,s)},Iv=(t,e,r,n,i,s)=>zo(t,Fo(e),r,n,i,s),el=async(t,e,r,n,i)=>{const s=lf(t,n,e),o=await bA(s,r);if(i){const a=Ft(o,i);if(o.address&&o.address!==a)throw new Error("recovered address does not match the WalletConfig address, check the WalletContext");o.address=a}return o},Mu=()=>window.location.protocol==="chrome-extension:"||window.location.protocol==="moz-extension:",Mv=()=>!!navigator.userAgent.match(/UnitySequence/i),Ru=async(t,e)=>{var r;const n=await t.getWalletState(),i=await t.getNetworks(),s=n.find(w=>w.chainId===e);if(!s)throw new Error(`WalletRequestHandler: could not find wallet state for chainId ${e}`);const o=s.deployed;if(!i)throw new Error("isWalletUpToDate util: could not get networks from signer");const a=i.find(w=>w.isAuthChain);if(!a)throw new Error("isWalletUpToDate util: could not get auth chain network information");const l=a.chainId,u=(r=n.find(w=>w.chainId===l))==null?void 0:r.config;if(!u)throw new Error("isWalletUpToDate util: could not get auth chain config");const p=s.config;if(!p)throw new Error(`isWalletUpToDate util: could not get config for chainId ${e}`);const x=Xa(u,p);return o&&x};class Xt{constructor(){}static getInstance(){return Xt._instance||(Xt._instance={getItem:e=>Promise.resolve(window.localStorage.getItem(e)),setItem:(e,r)=>Promise.resolve(window.localStorage.setItem(e,r)),removeItem:e=>Promise.resolve(window.localStorage.removeItem(e))}),this._instance}static use(e){Xt._instance=e}}Xt._instance=void 0;class Rv{constructor(e,r){this.def=r,this.key=void 0,this.key=e}async get(){const e=await Xt.getInstance().getItem(this.key);if(e===null)return this.def;try{return JSON.parse(e)}catch(r){console.error(r)}}set(e){e?Xt.getInstance().setItem(this.key,JSON.stringify(e)):Xt.getInstance().removeItem(this.key)}del(){Xt.getInstance().removeItem(this.key)}}const Tx="@sequence.transportSession";class ql{constructor(e){var r=this;this.walletRequestHandler=void 0,this._sessionId=void 0,this._registered=void 0,this._init=void 0,this._initNonce=void 0,this._initCallback=void 0,this.appOrigin=void 0,this.sendAsync=async function(n,i,s){throw new Error("abstract method")},this.handleMessage=async function(n){const i=n;if(r._init!==Me.OK){if(i.type===ye.INIT)if(r.isValidInitAck(n))r._initCallback&&r._initCallback();else{r._initCallback&&r._initCallback("invalid init");return}return}switch(i.type){case ye.OPEN:{if(r._init!==Me.OK)return;const s={sessionId:i.data.sessionId,intent:i.data.intent,networkId:i.data.networkId};await r.open(s);return}case ye.CLOSE:return r._init!==Me.OK,void 0;case ye.MESSAGE:{const s=await r.walletRequestHandler.sendMessageRequest(i);r.sendMessage(s),s.data.error;return}default:te.error(`unexpected payload type ${i.type}`)}},this.sendMessageRequest=async function(n){return r.walletRequestHandler.sendMessageRequest(n)},this.open=async function({sessionId:n,intent:i,networkId:s}){if(n&&(r._sessionId=Tb(n),r.saveTransportSession({sessionId:n,intent:i,networkId:s})),r.walletRequestHandler.setOpenIntent(i),await r.init(),i&&i.type==="connect"&&i.options){const o=i.options,a=o;if(r.appOrigin&&a!=null&&a.origin){if(!Mu()&&a.origin!==r.appOrigin)throw new Error("origin is invalid")}else!r.appOrigin&&a!=null&&a.origin?o.origin=Ib(a.origin):r.appOrigin&&(o.origin=r.appOrigin);o.app&&(o.app=Pb(o.app)),r.walletRequestHandler.setConnectOptions(o),o.networkId?s=o.networkId:s&&(o.networkId=s)}else r.walletRequestHandler.setConnectOptions(void 0);if(await r.walletRequestHandler.getSigner(),await r.walletRequestHandler.isSignedIn())if(i&&i.type==="connect"){let o;try{s?o=await r.walletRequestHandler.setDefaultNetwork(s,!1):o=await r.walletRequestHandler.getChainId()}catch(a){console.error(a)}(!o||o<=0)&&console.log("Failed to set default network on open"),r.notifyOpen({sessionId:r._sessionId});try{const a=await r.walletRequestHandler.promptConnect(i.options);a.connected&&r.walletRequestHandler.notifyConnect(a)}catch(a){te.warn("promptConnect not connected:",a)}finally{(!i.options||i.options.keepWalletOpened!==!0)&&r.notifyClose()}}else{let o;try{s?o=await r.walletRequestHandler.setDefaultNetwork(s,!1):o=await r.walletRequestHandler.getChainId()}catch(a){console.error(a)}if(!o||o<=0)return r.notifyOpen({sessionId:r._sessionId,error:`failed to open wallet on network ${s}`}),!1;r.notifyOpen({sessionId:r._sessionId,chainId:`${o}`,session:await r.walletRequestHandler.walletSession()})}else return r.notifyOpen({sessionId:r._sessionId}),!0;return!0},this.saveTransportSession=n=>{Xt.getInstance().setItem(Tx,JSON.stringify(n))},this.getCachedTransportSession=async function(){const n=await Xt.getInstance().getItem(Tx);try{return n?JSON.parse(n):null}catch{return console.error(`unable to parse transport session: ${n}`),null}},this.walletRequestHandler=e,this._init=Me.NIL,this.walletRequestHandler.on("connect",n=>{this.registered&&this.notifyConnect(n)}),this.walletRequestHandler.on("disconnect",n=>{this.registered&&this.notifyDisconnect(n)}),this.walletRequestHandler.on("accountsChanged",(n,i)=>{this.registered&&this.notifyAccountsChanged(n,i)}),this.walletRequestHandler.on("networks",n=>{this.registered&&(this.notifyNetworks(n),!n||n.length===0?this.notifyChainChanged("0x0"):this.notifyChainChanged(Q(n.find(i=>i.isDefaultChain).chainId)))}),this.walletRequestHandler.on("walletContext",n=>{!this.registered||!n||this.notifyWalletContext(n)}),this.walletRequestHandler.on("close",n=>{this.registered&&this.notifyClose(n)})}get registered(){return this._registered}register(){throw new Error("abstract method")}unregister(){throw new Error("abstract method")}sendMessage(e){throw new Error("abstract method")}notifyOpen(e){const{chainId:r,sessionId:n,session:i,error:s}=e;this.sendMessage({idx:-1,type:ye.OPEN,data:{chainId:r,sessionId:n,session:i,error:s}})}notifyClose(e){this.sendMessage({idx:-1,type:ye.CLOSE,data:e?{error:e}:null})}notifyConnect(e){this.sendMessage({idx:-1,type:ye.CONNECT,data:e})}notifyDisconnect(e){this.sendMessage({idx:-1,type:ye.DISCONNECT,data:e?{error:e}:null})}notifyAccountsChanged(e,r){this.sendMessage({idx:-1,type:ye.ACCOUNTS_CHANGED,data:e,origin:r})}notifyChainChanged(e){this.sendMessage({idx:-1,type:ye.CHAIN_CHANGED,data:e})}notifyNetworks(e){this.sendMessage({idx:-1,type:ye.NETWORKS,data:e})}notifyWalletContext(e){this.sendMessage({idx:-1,type:ye.WALLET_CONTEXT,data:e})}isValidInitAck(e){if(this._init===Me.OK)return te.warn("isValidInitAck, already in init'd state, so inquiry is invalid."),!1;if(e.type!==ye.INIT)return te.warn("isValidInitAck, invalid message type, expecting init"),!1;const{sessionId:r,nonce:n}=e.data;return!r||r.length===0||!n||n.length===0?(te.error("invalid init ack"),!1):r!==this._sessionId||n!==this._initNonce?(te.error("invalid init ack match"),!1):!0}init(){return new Promise((e,r)=>{if(this._init===Me.OK){e();return}if(this._init!==Me.NIL||this._initCallback){r("transport init is in progress");return}const n=setTimeout(()=>{te.warn("transport init timed out"),this._initCallback&&this._initCallback("transport init timed out")},Kp/2);this._initCallback=i=>{this._initCallback=void 0,clearTimeout(n),i?r(i):(this._init=Me.OK,e())},this._initNonce=`${performance.now()}`,this.sendMessage({idx:-1,type:ye.INIT,data:{nonce:this._initNonce}}),this._init=Me.SENT_NONCE})}}class $A{constructor(){this.app=void 0,this.wallet=void 0;const e=new rh,r=new rh;e.conn=r,r.conn=e,this.app=e,this.wallet=r}}class rh{constructor(){this.conn=void 0,this.events=new $o.EventEmitter2,this.handleMessage=e=>{throw new Error("ProxyMessageChannelPort is not registered")},this.sendMessage=e=>{this.conn.handleMessage(e),e.type==="open"&&this.events.emit("open",e),e.type==="close"&&this.events.emit("close",e),e.type==="connect"&&this.events.emit("connect",e),e.type==="disconnect"&&this.events.emit("disconnect",e)}}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}}class Ov extends Gl{constructor(e){if(super(),this.port=void 0,this.register=()=>{this.port.handleMessage=r=>{this.handleMessage(r)},this.on("open",(...r)=>{this.port.events.emit("open",...r)}),this.on("close",(...r)=>{this.port.events.emit("close",...r)}),this.on("connect",(...r)=>{this.port.events.emit("connect",...r)}),this.on("disconnect",(...r)=>{this.port.events.emit("disconnect",...r)}),this._registered=!0},this.unregister=()=>{this._registered=!1,this.closeWallet(),this.events.removeAllListeners(),this.port.handleMessage=void 0},this.openWallet=(r,n,i)=>{if(this.state===pr.CLOSED){this.state=pr.OPENING;const s=`${performance.now()}`;this._sessionId=s,this.sendMessage({idx:-1,type:ye.OPEN,data:{path:r,intent:n,networkId:i,sessionId:s}})}},this.state=pr.CLOSED,this.port=e,!e)throw new Error("port argument cannot be empty");this._init=Me.OK}closeWallet(){this.sendMessage({idx:-1,type:ye.CLOSE,data:null}),this.close()}sendMessage(e){if(!e.idx)throw new Error("message idx is empty");this.port.sendMessage(e)}}class zA extends ql{constructor(e,r){super(e),this.port=void 0,this.port=r,this._init=Me.OK}register(){this.port.handleMessage=e=>{this.handleMessage(e)},this._registered=!0}async restoreSession(){const e=await this.getCachedTransportSession();e&&this.open(e)}unregister(){this.port.handleMessage=void 0,this._registered=!1}sendMessage(e){this.port.sendMessage(e)}}class Bv{constructor(...e){var r=this;this.messageProviders=void 0,this.provider=void 0,this.register=()=>{if(this.messageProviders.length===1){this.provider=this.messageProviders[0],this.provider.register();return}this.messageProviders.forEach(n=>{n.register(),n.once("open",()=>{this.provider||(this.provider=n,this.messageProviders.forEach(i=>{this.provider!==i&&i.unregister()}))})})},this.unregister=()=>{this.messageProviders.forEach(n=>n.unregister()),this.provider=void 0},this.openWallet=(n,i,s)=>{if(this.provider){this.provider.openWallet(n,i,s);return}this.messageProviders.forEach(o=>o.openWallet(n,i,s))},this.sendAsync=async function(n,i,s){if(r.provider){r.provider.sendAsync(n,i,s);return}throw new Error("impossible state, wallet must be opened first")},this.sendMessageRequest=async function(n){if(r.provider)return r.provider.sendMessageRequest(n);throw new Error("impossible state, wallet must be opened first")},this.waitUntilOpened=async function(){return r.provider?r.provider.waitUntilOpened():Promise.race(r.messageProviders.map(n=>n.waitUntilOpened()))},this.waitUntilConnected=async function(){if(r.provider)return r.provider.waitUntilConnected();throw new Error("impossible state, wallet must be opened first")},this.messageProviders=e,this.provider=void 0}add(...e){this.messageProviders.push(...e)}closeWallet(){this.provider&&this.provider.closeWallet()}isOpened(){return this.provider?this.provider.isOpened():!1}isConnected(){return this.provider?this.provider.isConnected():!1}on(e,r){if(this.provider){this.provider.on(e,r);return}this.messageProviders.forEach(n=>{n.on(e,r)})}once(e,r){if(this.provider){this.provider.once(e,r);return}this.messageProviders.forEach(n=>{n.once(e,r)})}emit(e,...r){if(this.provider)return this.provider.emit(e,...r);for(let n=0;n<this.messageProviders.length;n++)this.messageProviders[n].emit(e,...r);return!0}sendMessage(e){if(!e.idx||e.idx<=0)throw new Error("message idx is empty");if(this.provider)this.provider.sendMessage(e);else throw new Error("impossible state, wallet must be opened first")}handleMessage(e){if(this.provider){this.provider.handleMessage(e);return}throw new Error("impossible state, wallet must be opened first")}}let Ks;class Lv extends Gl{constructor(e){super(),this.walletURL=void 0,this.walletWindow=void 0,this.register=()=>{Ks&&(Ks.unregister(),Ks=this),window.addEventListener("message",this.onWindowEvent),Ks=this,this.on("open",()=>{const r=this.walletWindow,n=setInterval(()=>{r&&r.closed&&(clearInterval(n),this.close())},500)}),this.on("close",()=>{this.walletWindow&&(this.walletWindow.close(),this.walletWindow=null)}),this._registered=!0},this.unregister=()=>{this._registered=!1,this.closeWallet(),Ks===this&&(Ks=void 0),window.removeEventListener("message",this.onWindowEvent),this.events.removeAllListeners()},this.openWallet=(r,n,i)=>{if(this.walletWindow&&this.isOpened()){this.walletWindow.focus();return}const s=new URL(this.walletURL.href),o=new Hl;r&&r!==""&&(s.pathname=r.toLowerCase()),this._init=Me.NIL,this._sessionId=`${performance.now()}`,o.set("sid",this._sessionId),n&&(n.type==="connect"&&(n.options||(n.options={}),!Mu()&&!Mv()&&(n.options.origin=window.location.origin)),o.set("intent",Np(n))),i&&o.set("net",`${i}`);let a,l;Mu()?(a=[450,750],l=[Math.abs(window.screen.width/2-a[0]/2),Math.abs(window.screen.height/2-a[1]/2)]):(a=[450,750],l=[Math.abs(window.screenX+window.innerWidth/2-a[0]/2),Math.abs(window.screenY+window.innerHeight/2-a[1]/2)]);const u=`toolbar=0,location=0,menubar=0,scrollbars=yes,status=yes,width=${a[0]},height=${a[1]},left=${l[0]},top=${l[1]}`;s.search=o.toString(),this.walletWindow=window.open(s.href,"sequence.app",u)},this.onWindowEvent=r=>{if(r.origin!==this.walletURL.origin)return;let n;try{n=JSON.parse(r.data)}catch{return}if(!n)throw new Error("ProviderMessage object is empty");this.handleMessage(n)},this.walletURL=new URL(e)}closeWallet(){var e;this.close(),(e=this.walletWindow)==null||e.close()}sendMessage(e){if(!this.walletWindow){te.warn("WindowMessageProvider: sendMessage failed as walletWindow is unavailable");return}const r=typeof e!="string"?JSON.stringify(e):e;this.walletWindow.postMessage(r,this.walletURL.origin)}}class jA extends ql{constructor(e){var r;super(e),r=this,this.parentWindow=void 0,this._isPopup=!1,this.onWindowEvent=async function(n){if(!n.origin||n.origin===""||r.appOrigin&&n.origin!==r.appOrigin)return;let i;try{i=JSON.parse(n.data)}catch{return}if(te.debug("RECEIVED MESSAGE",i),r._init!==Me.OK&&r.isValidInitAck(i)&&(r.appOrigin=n.origin),r._init===Me.OK&&(!r.appOrigin||r.appOrigin.length<8)){te.error("impossible state, init.OK and appOrigin required");return}r.handleMessage(i)},this.getWindowTransportSession=n=>{const i=new Hl(n);return{sessionId:i.get("sid"),networkId:i.get("net"),intent:Tp(i.get("intent"))}},this._init=Me.NIL}async register(e){const r=parent.window.opener!==null;if(this._isPopup=r,r!==!0)return;const{pathname:n,search:i}=new URL(e||window.location.href);let s=this.getWindowTransportSession(i);if(!!s.sessionId||(s=await this.getCachedTransportSession()),!s){te.error("window session is undefined");return}this.parentWindow=parent.window.opener,window.addEventListener("message",this.onWindowEvent,!1),this._registered=!0,this.open(s).then(a=>{if(!a){var l;const u=`failed to open to network ${(l=s)==null?void 0:l.networkId}`;te.error(u),this.notifyClose({message:u}),window.close()}}).catch(a=>{var l;const u=`failed to open to network ${(l=s)==null?void 0:l.networkId}, due to: ${a}`;te.error(u),this.notifyClose({message:u}),window.close()})}unregister(){window.removeEventListener("message",this.onWindowEvent),this._registered=!1}sendMessage(e){const r=JSON.stringify(e);e.type===ye.INIT?this.postMessage(r,!0):this.postMessage(r)}get isPopup(){return this._isPopup}postMessage(e,r=!1){if(r!==!0&&this._init!==Me.OK){te.error("impossible state, should not be calling postMessage until inited");return}r?this.parentWindow.postMessage(e,"*"):this.appOrigin&&this.appOrigin.length>4?this.parentWindow.postMessage(e,this.appOrigin):te.error("unable to postMessage as parentOrigin is invalid")}}const Qp="sequence-extension-message-handler";class HA extends ql{constructor(e,r){super(e),this.runtime=r,this.port=void 0,this._init=Me.OK}register(){this._registered=!0,this.port=this.runtime.connect({name:Qp})}sendMessage(e){te.info("[ExtensionMessageHandler send]",e),this.port.postMessage(e)}}class Dv extends Gl{constructor(e){super(),this.register=()=>{this._registered=!0},e.onConnect.addListener(r=>{r.name===Qp&&(this._init=Me.OK,r.onMessage.addListener(n=>{this.handleMessage(n)}))})}sendMessage(e){}unregister(){}openWallet(e,r,n){}closeWallet(){}}class GA extends $o.EventEmitter2{constructor(e){var r;super(),r=this,this.stream=e,this.responseCallbacks=new Map,this._messageIdx=0,this.nextMessageIdx=()=>++this._messageIdx,this.handleMessage=n=>{if(!n.type||!n.data)return;te.info("[received message]",n);const i=n.idx,s=this.responseCallbacks.get(i);switch(i&&this.responseCallbacks.delete(i),n.type){case ye.MESSAGE:if(s)this.emit(ye.MESSAGE,n),s(n.data.error,n);else throw new Error("impossible state");break;case ye.DISCONNECT:case ye.ACCOUNTS_CHANGED:case ye.CHAIN_CHANGED:this.emit(n.type,n.data);break;default:console.error("unknown message type",n);break}},this.sendMessageRequest=async function(n){return new Promise((i,s)=>{(!n.idx||n.idx<=0)&&s(new Error("message idx not set"));const o=(l,u)=>{if(l)s(l);else if(u)i(u);else throw new Error("no valid response to return")},{idx:a}=n;r.responseCallbacks.get(a)?s(new Error("duplicate message idx, should never happen")):r.responseCallbacks.set(a,o),r.sendMessage(n)})},this.stream.on("data",this.handleMessage)}sendMessage(e){this.stream.writable||console.error("window post message stream is not writable"),this.stream.write(e)}}function Fv(t){var e;if((e=window.ue)!=null&&e.sequencewallettransport&&!window.logsOverriddenForUnreal){var r;const n=(r=window.ue)==null?void 0:r.sequencewallettransport;console.log=(...i)=>{n.logfromjs(`${t}: ${yd(i)}`)},console.warn=(...i)=>{n.warnfromjs(`${t}: ${yd(i)}`)},console.error=(...i)=>{n.errorfromjs(`${t}: ${yd(i)}`)},window.logsOverriddenForUnreal=!0}}function yd(t){return t.map(e=>typeof e=="object"?e instanceof Error?e.message:JSON.stringify(e):String(e)).join(" ")}let Js;class Uv extends Gl{constructor(e){super(),this.walletURL=void 0,this.register=()=>{var r;Fv("dapp"),Js&&(Js.unregister(),Js=this),(r=window.ue)!=null&&r.sequencewallettransport&&(window.ue.sequencewallettransport.onmessagefromwallet=this.onUnrealCallback),Js=this,this._registered=!0,console.log("registering transport!")},this.unregister=()=>{var r,n;this._registered=!1,this.closeWallet(),Js===this&&(Js=void 0),((r=window.ue)==null||(n=r.sequencewallettransport)==null?void 0:n.onmessagefromwallet)===this.onUnrealCallback&&delete window.ue.sequencewallettransport.onmessagefromwallet,this.events.removeAllListeners()},this.openWallet=(r,n,i)=>{if(this.isOpened()){console.log("wallet already open!");return}console.log("opening wallet!");const s=new URL(this.walletURL.href),o=new Hl;r&&(s.pathname=r.toLowerCase()),this._init=Me.NIL,this._sessionId=`${performance.now()}`,o.set("sid",this._sessionId),n&&o.set("intent",Np(n)),i&&o.set("net",`${i}`),s.search=o.toString(),console.log("opening wallet to",s.href),window.open(s.href)},this.onUnrealCallback=r=>{if(!r)throw new Error("ProviderMessage object is empty");this.handleMessage(r)},this.walletURL=new URL(e)}closeWallet(){this.close()}sendMessage(e){var r,n;const i=typeof e!="string"?JSON.stringify(e):e;console.log("Sending message to wallet:",i),(r=window.ue)==null||(n=r.sequencewallettransport)==null||n.sendmessagetowallet(i)}}class qA extends ql{constructor(e){super(e),this.onMessageFromUnreal=r=>{te.debug("RECEIVED MESSAGE",r),this.handleMessage(r)},this.getUnrealTransportSession=r=>{const n=new Hl(r);return{sessionId:n.get("sid"),networkId:n.get("net"),intent:Tp(n.get("intent"))}},this._init=Me.NIL}async register(e){var r;if(((r=window.ue)==null?void 0:r.sequencewallettransport)===void 0)return;Fv("wallet");const{search:n}=new URL(e||window.location.href);let i=this.getUnrealTransportSession(n);if(!!i.sessionId||(i=await this.getCachedTransportSession()),!i){te.error("unreal session is undefined");return}window.ue.sequencewallettransport.onmessagefromsequencejs=this.onMessageFromUnreal,this._registered=!0,this.open(i).then(o=>{if(!o){var a;const l=`failed to open to network ${(a=i)==null?void 0:a.networkId}`;te.error(l),this.notifyClose({message:l}),window.close()}}).catch(o=>{var a;const l=`failed to open to network ${(a=i)==null?void 0:a.networkId}, due to: ${o}`;te.error(l),this.notifyClose({message:l}),window.close()})}unregister(){var e,r;((e=window.ue)==null||(r=e.sequencewallettransport)==null?void 0:r.onmessagefromsequencejs)===this.onMessageFromUnreal&&delete window.ue.sequencewallettransport.onmessagefromsequencejs,this._registered=!1}sendMessage(e){var r,n;if(e.type!==ye.INIT&&this._init!==Me.OK){te.error("impossible state, should not be calling postMessage until inited");return}const i=JSON.stringify(e);(r=window.ue)==null||(n=r.sequencewallettransport)==null||n.sendmessagetosequencejs(i)}}class VA{constructor(e){var r=this;this.wallet=void 0,this.recoverWalletConfig=async function(n,i,s,o,a){return a=a||await r.wallet.getWalletContext(),el(n,i,s,o,a)},this.recoverWalletConfigFromMessage=async function(n,i,s,o,a){return a=a||await r.wallet.getWalletContext(),el(n,vu(Sl(i)),s,o,a)},this.recoverWalletConfigFromTypedData=async function(n,i,s,o,a){return a=a||await r.wallet.getWalletContext(),el(n,Fo(i),s,o,a)},this.wallet=e}signMessage(e,r,n){const i=this.wallet.getSigner();if(!i)throw new Error("unable to get signer");return i.signMessage(e,r,n)}async signAuthMessage(e,r){const n=await this.wallet.getAuthSigner();if(!n)throw new Error("unable to get AuthChain signer");return n.signMessage(e,await n.getChainId(),r)}signTypedData(e,r,n,i,s){const o=this.wallet.getSigner();if(!o)throw new Error("unable to get signer");return o.signTypedData(e,r,n,i,s)}async signAuthTypedData(e,r,n,i){const s=await this.wallet.getAuthSigner();if(!s)throw new Error("unable to get AuthChain signer");return s.signTypedData(e,r,n,await s.getChainId(),i)}async isValidSignature(e,r,n,i,s){const o=this.wallet.getProvider(i);if(!o)throw new Error(`unable to get provider for chainId ${i}`);return zo(e,r,n,o,i,s)}async isValidMessageSignature(e,r,n,i,s){const o=this.wallet.getProvider(i);if(!o)throw new Error(`unable to get provider for chainId ${i}`);const a=Sl(r),l=vu(a);return zo(e,l,n,o,i,s)}isValidTypedDataSignature(e,r,n,i,s){return this.isValidSignature(e,Fo(r),n,i,s)}}class Yp{constructor(e,r){var n=this;this.utils=void 0,this.config=void 0,this.session=void 0,this.connectedSites=void 0,this.transport=void 0,this.networks=void 0,this.providers=void 0,this.init=()=>{var i,s,o,a,l,u,p,x;this.transport.provider||(this.transport.messageProvider=new Bv,(i=this.config.transports)!=null&&(s=i.windowTransport)!=null&&s.enabled&&(this.transport.windowMessageProvider=new Lv(this.config.walletAppURL),this.transport.messageProvider.add(this.transport.windowMessageProvider)),(o=this.config.transports)!=null&&(a=o.proxyTransport)!=null&&a.enabled&&(this.transport.proxyMessageProvider=new Ov(this.config.transports.proxyTransport.appPort),this.transport.messageProvider.add(this.transport.proxyMessageProvider)),(l=this.config.transports)!=null&&(u=l.extensionTransport)!=null&&u.enabled&&(this.transport.extensionMessageProvider=new Dv(this.config.transports.extensionTransport.runtime),this.transport.messageProvider.add(this.transport.extensionMessageProvider)),(p=this.config.transports)!=null&&(x=p.unrealTransport)!=null&&x.enabled&&(this.transport.unrealMessageProvider=new Uv(this.config.walletAppURL),this.transport.messageProvider.add(this.transport.unrealMessageProvider)),this.transport.messageProvider.register(),this.transport.allowProvider=Su(w=>{if(w.method==="sequence_setDefaultNetwork")return!0;const E=this.isConnected();if(!E)throw new Error("Sequence: wallet not connected");return E}),this.transport.networkProvider=Wb(w=>!this.networks||this.networks.length===0?0:this.networks.find(E=>E.isDefaultChain).chainId),this.transport.cachedProvider=new _u,this.transport.cachedProvider.onUpdate(()=>{this.session||(this.session={providerCache:{}}),this.session.providerCache=this.transport.cachedProvider.getCache(),this.saveSession(this.session)}),this.transport.router=new Ya([Dc,this.transport.networkProvider,this.transport.allowProvider,Lc,this.transport.cachedProvider],this.transport.messageProvider),this.transport.provider=new vs(this.transport.router),this.transport.messageProvider.on("open",w=>{const{session:E}=w;E?this.useSession(E,!0):(this.session&&this.session.accountAddress&&this.transport.messageProvider.emit("disconnect"),this.clearSession())}),this.transport.messageProvider.on("accountsChanged",(w,E)=>{if(E){w.length>0&&this.useSession({accountAddress:w[0]},!0);return}!w||w.length===0||w[0]===""?this.clearSession():this.useSession({accountAddress:w[0]},!0)}),this.transport.messageProvider.on("networks",w=>{this.useSession({networks:w},!0)}),this.transport.messageProvider.on("walletContext",w=>{this.useSession({walletContext:w},!0)}))},this.loadSession=async function(i){const s=await Xt.getInstance().getItem("@sequence.session");if(!(!s||s===""))try{const a=JSON.parse(s);if(a){if(i!==void 0){var o;const l=typeof i=="string"?parseInt(i):i,u=w=>w.name===i||w.chainId===l,p=(o=a.networks)==null?void 0:o.find(u),x=p==null?void 0:p.isDefaultChain;if(a.networks&&p&&!x){const w=a.networks.map(E=>Wr({},E,{isDefaultChain:u(E)}));a.networks=ff(w),a.providerCache=void 0}}n.useSession(a,!0)}return a}catch{te.warn("loadSession failed, unable to parse session payload from storage.");return}},this.connect=async function(i){if((i==null?void 0:i.refresh)===!0&&n.disconnect(),n.isConnected()&&await n.isSiteConnected(i==null?void 0:i.origin)&&n.session&&!(i!=null&&i.authorize)&&!(i!=null&&i.askForEmail))return{connected:!0,session:n.session,chainId:Q(await n.getChainId())};if(i&&i.authorize&&(!i.app||i.app===""))throw new Error("connecting with 'authorize' option also requires 'app' to be set");await n.openWallet(void 0,{type:"connect",options:i});const s=await n.transport.messageProvider.waitUntilConnected().catch(o=>o instanceof Error?{connected:!1,error:o.message}:{connected:!1,error:JSON.stringify(o)});if(s.connected)if(s.session)n.useSession(s.session,!0),n.addConnectedSite(i==null?void 0:i.origin);else throw new Error("impossible state, connect response is missing session");return s},this.authorize=async function(i){return n.connect(Wr({},i,{authorize:!0}))},this.getSession=()=>{if(this.isConnected())return this.session},this.getAddress=async function(){if(!n.isConnected())throw new Error("connect first");return n.getSession().accountAddress},this.getNetworks=async function(i){if(!n.isConnected()||!n.networks)throw new Error("connect first");if(i){const s=Qa(n.networks,i);return s?[s]:[]}return n.networks},this.getChainId=async function(){if(!n.networks||n.networks.length<1)throw new Error("networks have not been set by session. connect first.");const i=n.networks.find(s=>s.isDefaultChain);if(!i)throw new Error("networks must have a default chain specified");return i.chainId},this.getAuthChainId=async function(){if(!n.networks||n.networks.length<1)throw new Error("networks have not been set by session. connect first.");const i=n.networks.find(s=>s.isAuthChain);if(!i)throw new Error("networks must have an auth chain specified");return i.chainId},this.openWallet=async function(i,s,o){if((s==null?void 0:s.type)!=="connect"&&!n.isConnected())throw new Error("connect first");let a;return!n.networks||n.networks.length<1?a=n.config.defaultNetworkId:a=await n.getChainId(),n.transport.messageProvider.openWallet(i,s,o||a),await n.transport.messageProvider.waitUntilOpened(),!0},this.closeWallet=()=>{this.transport.messageProvider.closeWallet()},this.unregister=()=>{var i;this.disconnect(),(i=this.transport.messageProvider)==null||i.unregister()},this.saveSession=async function(i){te.debug("wallet provider: saving session");const s=JSON.stringify(i);await Xt.getInstance().setItem("@sequence.session",s)},this.useSession=async function(i,s=!0){n.session||(n.session={}),n.config.walletContext?n.session.walletContext=n.config.walletContext:i.walletContext&&(n.session.walletContext=i.walletContext),i.accountAddress&&n.useAccountAddress(i.accountAddress),i.networks&&n.useNetworks(i.networks),i.providerCache?n.transport.cachedProvider.setCache(i.providerCache):n.transport.cachedProvider.clearCache(),s&&n.saveSession(n.session)},this.config=Wr({},Wv),r&&(this.config=Wr({},this.config,r)),e?this.config.defaultNetworkId=e:this.config.defaultNetworkId||(this.config.defaultNetworkId="mainnet"),r!=null&&r.localStorage&&Xt.use(r.localStorage),this.transport={},this.networks=[],this.providers={},this.connectedSites=new Rv("@sequence.connectedSites",[]),this.utils=new VA(this),this.init()}async addConnectedSite(e){e=e||window.location.origin;const r=await this.connectedSites.get();if(r){if(r.includes(e))return;this.connectedSites.set([...r,e])}else this.connectedSites.set([e])}async removeConnectedSite(e){const r=await this.connectedSites.get();r&&this.connectedSites.set(r.filter(n=>n!==e))}getConnectedSites(){return this.connectedSites.get()}async isSiteConnected(e){const r=await this.connectedSites.get();return!!r&&r.includes(e||window.location.origin)}disconnect(){this.isOpened()&&this.closeWallet(),this.clearSession()}getProviderConfig(){return this.config}isOpened(){return this.transport.messageProvider.isOpened()}isConnected(){return this.session!==void 0&&this.session.networks!==void 0&&this.session.networks.length>0&&this.networks!==void 0&&this.networks.length>0&&!!this.session.accountAddress&&this.session.accountAddress.startsWith("0x")}getProvider(e){if(!this.isConnected()){if(e)throw new Error("session is empty. connect and try again.");return this.transport.provider}let r=this.networks.find(s=>s.isDefaultChain);if(e&&(r=Qa(this.networks,e),!r))throw new Error(`network ${e} is not in the network list`);if(this.providers[r.chainId])return this.providers[r.chainId];let n;const i=r.provider?r.provider:new Fl(r.rpcUrl,r.chainId);if(r.isDefaultChain){const s=new Ya([Dc,Lc,new Cu({accountAddress:this.session.accountAddress,walletContext:this.session.walletContext}),new D0(this.transport.provider),this.transport.cachedProvider],new ai(i));n=new vs(s,r.chainId)}else{const s=new Ya([Dc,Lc,new Cu({accountAddress:this.session.accountAddress,walletContext:this.session.walletContext,chainId:r.chainId}),new D0(this.transport.provider),new _u({defaultChainId:r.chainId})],new ai(i));n=new vs(s,r.chainId)}return this.providers[r.chainId]=n,n}async getAuthProvider(){return this.getProvider((await this.getAuthNetwork()).chainId)}async getAuthNetwork(){return(await this.getNetworks()).find(e=>e.isAuthChain)}getAllProviders(){return this.providers}getSigner(e){return this.getProvider(e).getSigner()}async getAuthSigner(){return(await this.getAuthProvider()).getSigner()}getWalletConfig(e){return this.getSigner().getWalletConfig(e)}getWalletState(e){return this.getSigner().getWalletState(e)}getWalletContext(){return this.getSigner().getWalletContext()}isDeployed(e){return this.getSigner(e).isDeployed()}on(e,r){this.transport.messageProvider.on(e,r)}once(e,r){this.transport.messageProvider.once(e,r)}useAccountAddress(e){this.session||(this.session={}),this.session.accountAddress=oe(e)}useNetworks(e){if(this.session||(this.session={}),this.session.networks=e,!(!this.session.networks||this.session.networks.length===0)){if(!this.config.networks&&!this.config.networkRpcUrl){this.networks=e;return}if(this.networks=e,this.config.networks&&(this.networks=e.map(r=>Wr({},r)),this.config.networks.forEach(r=>{const n=Qa(this.networks,r.chainId||r.name);n&&Lb(r,n)}),uf(this.networks,!0)),this.config.networkRpcUrl){const r=this.networks.find(n=>n.isDefaultChain);r&&(r.rpcUrl=this.config.networkRpcUrl)}}}clearSession(){var e;te.debug("wallet provider: clearing session"),Xt.getInstance().removeItem("@sequence.session"),this.session=void 0,this.networks=[],this.providers={},(e=this.transport.cachedProvider)==null||e.clearCache()}}const Wv={walletAppURL:"https://sequence.app",transports:{windowTransport:{enabled:!0},proxyTransport:{enabled:!1}}};let vn;const $v=async(t,e)=>vn||(vn=new Yp(t,e),await vn.loadSession(t),vn),KA=()=>{vn&&(vn.closeWallet(),vn.unregister())},zv=()=>{if(!vn)throw new Error("Wallet has not been initialized, call sequence.initWallet(network, config) first.");return vn},JA=Object.freeze(Object.defineProperty({__proto__:null,BaseInjectedTransport:GA,BaseProviderTransport:Gl,BaseWalletTransport:ql,CHANNEL_ID:Qp,DefaultProviderConfig:Wv,ErrSignedInRequired:Sv,get EventType(){return ye},ExtensionMessageHandler:HA,ExtensionMessageProvider:Dv,get InitState(){return Me},LocalStorage:Xt,LocalStore:Rv,LocalWeb3Provider:IA,MuxMessageProvider:Bv,get OpenState(){return pr},PROVIDER_OPEN_TIMEOUT:Kp,ProviderError:Av,ProxyMessageChannel:$A,ProxyMessageChannelPort:rh,ProxyMessageHandler:zA,ProxyMessageProvider:Ov,UnrealMessageHandler:qA,UnrealMessageProvider:Uv,Wallet:Yp,WalletRequestHandler:Cv,Web3Provider:vs,Web3Signer:Jp,WindowMessageHandler:jA,WindowMessageProvider:Lv,WindowSessionParams:Hl,getWallet:zv,initWallet:$v,isBrowserExtension:Mu,isSequenceProvider:kv,isUnityPlugin:Mv,isValidMessageSignature:Pv,isValidSignature:zo,isValidTypedDataSignature:Iv,isWalletUpToDate:Ru,messageToBytes:Tv,nextMessageIdx:_v,prefixEIP191Message:Sl,recoverWalletConfig:el,unregisterWallet:KA},Symbol.toStringTag,{value:"Module"}));function Tr(t,e){return e.forEach(function(r){r&&typeof r!="string"&&!Array.isArray(r)&&Object.keys(r).forEach(function(n){if(n!=="default"&&!(n in t)){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}})}),Object.freeze(t)}var QA=Tr({__proto__:null},[M7]),YA=Tr({__proto__:null},[L7]),XA=Tr({__proto__:null},[CA]),ZA=Tr({__proto__:null},[$9]),eS=Tr({__proto__:null},[nA]),tS=Tr({__proto__:null},[G9]),rS=Tr({__proto__:null},[J9]),nS=Tr({__proto__:null},[I9]),iS=Tr({__proto__:null},[A9]),sS=Tr({__proto__:null},[JA]),oS=Tr({__proto__:null},[pA]),aS=Tr({__proto__:null},[X9]),lS=Tr({__proto__:null,isValidSignature:zo,isValidMessageSignature:Pv,isValidTypedDataSignature:Iv,recoverWalletConfig:el,isWalletUpToDate:Ru},[d9]),Ie=Object.freeze({__proto__:null,abi:QA,api:YA,auth:XA,config:ZA,guard:eS,indexer:tS,metadata:rS,multicall:nS,network:iS,provider:sS,relayer:oS,transactions:aS,utils:lS,initWallet:$v,getWallet:zv,Wallet:Yp});const Px=[{constant:!1,inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(this,arguments)}var Or;(function(t){t[t.DEBUG=1]="DEBUG",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.DISABLED=5]="DISABLED"})(Or||(Or={}));class cS{constructor(e){this.config=e,this.logLevel=void 0,this.configure(e)}configure(e){switch(this.config=nh({},this.config,e),this.config.logLevel){case"DEBUG":this.logLevel=Or.DEBUG;break;case"INFO":this.logLevel=Or.INFO;break;case"WARN":this.logLevel=Or.WARN;break;case"ERROR":this.logLevel=Or.ERROR;break;case"DISABLED":this.logLevel=Or.DISABLED;break;default:this.logLevel=Or.INFO;break}this.config.silence===void 0&&(this.config.silence=!1)}debug(e,...r){this.config.silence!==!0&&this.logLevel===Or.DEBUG&&console.log(e,...r)}info(e,...r){this.config.silence!==!0&&this.logLevel<=Or.INFO&&console.log(e,...r)}warn(e,...r){this.config.silence!==!0&&this.logLevel<=Or.WARN&&(console.warn(e,...r),this.config.onwarn&&this.config.onwarn(e,r))}error(e,...r){this.config.silence!==!0&&this.logLevel<=Or.ERROR&&(console.error(e,...r),this.config.onerror&&this.config.onerror(e,r))}}const uS=new cS({logLevel:"INFO",silence:!0}),fS=t=>uS.configure(t),dS={gray1:"hsl(0, 0%, 8.5%)",gray2:"hsl(0, 0%, 11.0%)",gray3:"hsl(0, 0%, 13.6%)",gray4:"hsl(0, 0%, 15.8%)",gray5:"hsl(0, 0%, 17.9%)",gray6:"hsl(0, 0%, 20.5%)",gray7:"hsl(0, 0%, 24.3%)",gray8:"hsl(0, 0%, 31.2%)",gray9:"hsl(0, 0%, 43.9%)",gray10:"hsl(0, 0%, 49.4%)",gray11:"hsl(0, 0%, 62.8%)",gray12:"hsl(0, 0%, 93.0%)"};var Ne="colors",ir="sizes",re="space",hS={gap:re,gridGap:re,columnGap:re,gridColumnGap:re,rowGap:re,gridRowGap:re,inset:re,insetBlock:re,insetBlockEnd:re,insetBlockStart:re,insetInline:re,insetInlineEnd:re,insetInlineStart:re,margin:re,marginTop:re,marginRight:re,marginBottom:re,marginLeft:re,marginBlock:re,marginBlockEnd:re,marginBlockStart:re,marginInline:re,marginInlineEnd:re,marginInlineStart:re,padding:re,paddingTop:re,paddingRight:re,paddingBottom:re,paddingLeft:re,paddingBlock:re,paddingBlockEnd:re,paddingBlockStart:re,paddingInline:re,paddingInlineEnd:re,paddingInlineStart:re,top:re,right:re,bottom:re,left:re,scrollMargin:re,scrollMarginTop:re,scrollMarginRight:re,scrollMarginBottom:re,scrollMarginLeft:re,scrollMarginX:re,scrollMarginY:re,scrollMarginBlock:re,scrollMarginBlockEnd:re,scrollMarginBlockStart:re,scrollMarginInline:re,scrollMarginInlineEnd:re,scrollMarginInlineStart:re,scrollPadding:re,scrollPaddingTop:re,scrollPaddingRight:re,scrollPaddingBottom:re,scrollPaddingLeft:re,scrollPaddingX:re,scrollPaddingY:re,scrollPaddingBlock:re,scrollPaddingBlockEnd:re,scrollPaddingBlockStart:re,scrollPaddingInline:re,scrollPaddingInlineEnd:re,scrollPaddingInlineStart:re,fontSize:"fontSizes",background:Ne,backgroundColor:Ne,backgroundImage:Ne,borderImage:Ne,border:Ne,borderBlock:Ne,borderBlockEnd:Ne,borderBlockStart:Ne,borderBottom:Ne,borderBottomColor:Ne,borderColor:Ne,borderInline:Ne,borderInlineEnd:Ne,borderInlineStart:Ne,borderLeft:Ne,borderLeftColor:Ne,borderRight:Ne,borderRightColor:Ne,borderTop:Ne,borderTopColor:Ne,caretColor:Ne,color:Ne,columnRuleColor:Ne,fill:Ne,outline:Ne,outlineColor:Ne,stroke:Ne,textDecorationColor:Ne,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:ir,minBlockSize:ir,maxBlockSize:ir,inlineSize:ir,minInlineSize:ir,maxInlineSize:ir,width:ir,minWidth:ir,maxWidth:ir,height:ir,minHeight:ir,maxHeight:ir,flexBasis:ir,gridTemplateColumns:ir,gridTemplateRows:ir,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},pS=(t,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,ia=()=>{const t=Object.create(null);return(e,r,...n)=>{const i=(s=>JSON.stringify(s,pS))(e);return i in t?t[i]:t[i]=r(e,...n)}},Es=Symbol.for("sxs.internal"),Xp=(t,e)=>Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)),Ix=t=>{for(const e in t)return!0;return!1},{hasOwnProperty:gS}=Object.prototype,ih=t=>t.includes("-")?t:t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),mS=/\s+(?![^()]*\))/,Qs=t=>e=>t(...typeof e=="string"?String(e).split(mS):[e]),Mx={appearance:t=>({WebkitAppearance:t,appearance:t}),backfaceVisibility:t=>({WebkitBackfaceVisibility:t,backfaceVisibility:t}),backdropFilter:t=>({WebkitBackdropFilter:t,backdropFilter:t}),backgroundClip:t=>({WebkitBackgroundClip:t,backgroundClip:t}),boxDecorationBreak:t=>({WebkitBoxDecorationBreak:t,boxDecorationBreak:t}),clipPath:t=>({WebkitClipPath:t,clipPath:t}),content:t=>({content:t.includes('"')||t.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(t)?t:`"${t}"`}),hyphens:t=>({WebkitHyphens:t,hyphens:t}),maskImage:t=>({WebkitMaskImage:t,maskImage:t}),maskSize:t=>({WebkitMaskSize:t,maskSize:t}),tabSize:t=>({MozTabSize:t,tabSize:t}),textSizeAdjust:t=>({WebkitTextSizeAdjust:t,textSizeAdjust:t}),userSelect:t=>({WebkitUserSelect:t,userSelect:t}),marginBlock:Qs((t,e)=>({marginBlockStart:t,marginBlockEnd:e||t})),marginInline:Qs((t,e)=>({marginInlineStart:t,marginInlineEnd:e||t})),maxSize:Qs((t,e)=>({maxBlockSize:t,maxInlineSize:e||t})),minSize:Qs((t,e)=>({minBlockSize:t,minInlineSize:e||t})),paddingBlock:Qs((t,e)=>({paddingBlockStart:t,paddingBlockEnd:e||t})),paddingInline:Qs((t,e)=>({paddingInlineStart:t,paddingInlineEnd:e||t}))},wd=/([\d.]+)([^]*)/,xS=(t,e)=>t.length?t.reduce((r,n)=>(r.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(i)?`:is(${n})`:n):n+" "+i)),r),[]):e,yS=(t,e)=>t in wS&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(r,n,i,s)=>n+(i==="stretch"?`-moz-available${s};${ih(t)}:${n}-webkit-fill-available`:`-moz-fit-content${s};${ih(t)}:${n}fit-content`)+s):String(e),wS={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},li=t=>t?t+"-":"",jv=(t,e,r)=>t.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(n,i,s,o,a)=>o=="$"==!!s?n:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?li(e)+(a.includes("$")?"":li(r))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),bS=/\s*,\s*(?![^()]*\))/,vS=Object.prototype.toString,fo=(t,e,r,n,i)=>{let s,o,a;const l=(u,p,x)=>{let w,E;const I=P=>{for(w in P){const k=w.charCodeAt(0)===64,B=k&&Array.isArray(P[w])?P[w]:[P[w]];for(E of B){const O=/[A-Z]/.test(A=w)?A:A.replace(/-[^]/g,F=>F[1].toUpperCase()),D=typeof E=="object"&&E&&E.toString===vS&&(!n.utils[O]||!p.length);if(O in n.utils&&!D){const F=n.utils[O];if(F!==o){o=F,I(F(E)),o=null;continue}}else if(O in Mx){const F=Mx[O];if(F!==a){a=F,I(F(E)),a=null;continue}}if(k&&(b=w.slice(1)in n.media?"@media "+n.media[w.slice(1)]:w,w=b.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(F,j,G,z,X,ee)=>{const ae=wd.test(j),M=.0625*(ae?-1:1),[d,y]=ae?[z,j]:[j,z];return"("+(G[0]==="="?"":G[0]===">"===ae?"max-":"min-")+d+":"+(G[0]!=="="&&G.length===1?y.replace(wd,(_,T,g)=>Number(T)+M*(G===">"?1:-1)+g):y)+(X?") and ("+(X[0]===">"?"min-":"max-")+d+":"+(X.length===1?ee.replace(wd,(_,T,g)=>Number(T)+M*(X===">"?-1:1)+g):ee):"")+")"})),D){const F=k?x.concat(w):[...x],j=k?[...p]:xS(p,w.split(bS));s!==void 0&&i(Rx(...s)),s=void 0,l(E,j,F)}else s===void 0&&(s=[[],p,x]),w=k||w.charCodeAt(0)!==36?w:`--${li(n.prefix)}${w.slice(1).replace(/\$/g,"-")}`,E=D?E:typeof E=="number"?E&&O in ES?String(E)+"px":String(E):jv(yS(O,E??""),n.prefix,n.themeMap[O]),s[0].push(`${k?`${w} `:`${ih(w)}:`}${E}`)}}var b,A};I(u),s!==void 0&&i(Rx(...s)),s=void 0};l(t,e,r)},Rx=(t,e,r)=>`${r.map(n=>`${n}{`).join("")}${e.length?`${e.join(",")}{`:""}${t.join(";")}${e.length?"}":""}${Array(r.length?r.length+1:0).join("}")}`,ES={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},Ox=t=>String.fromCharCode(t+(t>25?39:97)),As=t=>(e=>{let r,n="";for(r=Math.abs(e);r>52;r=r/52|0)n=Ox(r%52)+n;return Ox(r%52)+n})(((e,r)=>{let n=r.length;for(;n;)e=33*e^r.charCodeAt(--n);return e})(5381,JSON.stringify(t))>>>0),Ia=["themed","global","styled","onevar","resonevar","allvar","inline"],AS=t=>{if(t.href&&!t.href.startsWith(location.origin))return!1;try{return!!t.cssRules}catch{return!1}},SS=t=>{let e;const r=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const u in e.rules)if(e.rules[u].group===s)return`--sxs{--sxs:${[...e.rules[u].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},n=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const u in a)delete a[u]}const i=Object(t).styleSheets||[];for(const a of i)if(AS(a)){for(let l=0,u=a.cssRules;u[l];++l){const p=Object(u[l]);if(p.type!==1)continue;const x=Object(u[l+1]);if(x.type!==4)continue;++l;const{cssText:w}=p;if(!w.startsWith("--sxs"))continue;const E=w.slice(14,-3).trim().split(/\s+/),I=Ia[E[0]];I&&(e||(e={sheet:a,reset:n,rules:{},toString:r}),e.rules[I]={group:x,index:l,cache:new Set(E)})}if(e)break}if(!e){const a=(l,u)=>({type:u,cssRules:[],insertRule(p,x){this.cssRules.splice(x,0,a(p,{import:3,undefined:1}[(p.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,p=>p.cssText).join("")}}`:l}});e={sheet:t?(t.head||t).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:n,toString:r}}const{sheet:s,rules:o}=e;for(let a=Ia.length-1;a>=0;--a){const l=Ia[a];if(!o[l]){const u=Ia[a+1],p=o[u]?o[u].index:s.cssRules.length;s.insertRule("@media{}",p),s.insertRule(`--sxs{--sxs:${a}}`,p),o[l]={group:s.cssRules[p+1],index:p,cache:new Set([a])}}_S(o[l])}};return n(),e},_S=t=>{const e=t.group;let r=e.cssRules.length;t.apply=n=>{try{e.insertRule(n,r),++r}catch{}}},Aa=Symbol(),CS=ia(),Bx=(t,e)=>CS(t,()=>(...r)=>{let n={type:null,composers:new Set};for(const i of r)if(i!=null)if(i[Es]){n.type==null&&(n.type=i[Es].type);for(const s of i[Es].composers)n.composers.add(s)}else i.constructor!==Object||i.$$typeof?n.type==null&&(n.type=i):n.composers.add(kS(i,t));return n.type==null&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),NS(t,n,e)}),kS=({variants:t,compoundVariants:e,defaultVariants:r,...n},i)=>{const s=`${li(i.prefix)}c-${As(n)}`,o=[],a=[],l=Object.create(null),u=[];for(const w in r)l[w]=String(r[w]);if(typeof t=="object"&&t)for(const w in t){p=l,x=w,gS.call(p,x)||(l[w]="undefined");const E=t[w];for(const I in E){const P={[w]:String(I)};String(I)==="undefined"&&u.push(w);const b=E[I],A=[P,b,!Ix(b)];o.push(A)}}var p,x;if(typeof e=="object"&&e)for(const w of e){let{css:E,...I}=w;E=typeof E=="object"&&E||{};for(const b in I)I[b]=String(I[b]);const P=[I,E,!Ix(E)];a.push(P)}return[s,n,o,a,l,u]},NS=(t,e,r)=>{const[n,i,s,o]=TS(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(x=>{function w(){for(let E=0;E<w[Aa].length;E++){const[I,P]=w[Aa][E];x.rules[I].apply(P)}return w[Aa]=[],null}return w[Aa]=[],w.rules={},Ia.forEach(E=>w.rules[E]={apply:I=>w[Aa].push([E,I])}),w})(r):null,l=(a||r).rules,u=`.${n}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,p=x=>{x=typeof x=="object"&&x||PS;const{css:w,...E}=x,I={};for(const A in s)if(delete E[A],A in x){let k=x[A];typeof k=="object"&&k?I[A]={"@initial":s[A],...k}:(k=String(k),I[A]=k!=="undefined"||o.has(A)?k:s[A])}else I[A]=s[A];const P=new Set([...i]);for(const[A,k,B,O]of e.composers){r.rules.styled.cache.has(A)||(r.rules.styled.cache.add(A),fo(k,[`.${A}`],[],t,j=>{l.styled.apply(j)}));const D=Lx(B,I,t.media),F=Lx(O,I,t.media,!0);for(const j of D)if(j!==void 0)for(const[G,z,X]of j){const ee=`${A}-${As(z)}-${G}`;P.add(ee);const ae=(X?r.rules.resonevar:r.rules.onevar).cache,M=X?l.resonevar:l.onevar;ae.has(ee)||(ae.add(ee),fo(z,[`.${ee}`],[],t,d=>{M.apply(d)}))}for(const j of F)if(j!==void 0)for(const[G,z]of j){const X=`${A}-${As(z)}-${G}`;P.add(X),r.rules.allvar.cache.has(X)||(r.rules.allvar.cache.add(X),fo(z,[`.${X}`],[],t,ee=>{l.allvar.apply(ee)}))}}if(typeof w=="object"&&w){const A=`${n}-i${As(w)}-css`;P.add(A),r.rules.inline.cache.has(A)||(r.rules.inline.cache.add(A),fo(w,[`.${A}`],[],t,k=>{l.inline.apply(k)}))}for(const A of String(x.className||"").trim().split(/\s+/))A&&P.add(A);const b=E.className=[...P].join(" ");return{type:e.type,className:b,selector:u,props:E,toString:()=>b,deferredInjector:a}};return Xp(p,{className:n,selector:u,[Es]:e,toString:()=>(r.rules.styled.cache.has(n)||p(),n)})},TS=t=>{let e="";const r=[],n={},i=[];for(const[s,,,,o,a]of t){e===""&&(e=s),r.push(s),i.push(...a);for(const l in o){const u=o[l];(n[l]===void 0||u!=="undefined"||a.includes(u))&&(n[l]=u)}}return[e,r,n,new Set(i)]},Lx=(t,e,r,n)=>{const i=[];e:for(let[s,o,a]of t){if(a)continue;let l,u=0,p=!1;for(l in s){const x=s[l];let w=e[l];if(w!==x){if(typeof w!="object"||!w)continue e;{let E,I,P=0;for(const b in w){if(x===String(w[b])){if(b!=="@initial"){const A=b.slice(1);(I=I||[]).push(A in r?r[A]:b.replace(/^@media ?/,"")),p=!0}u+=P,E=!0}++P}if(I&&I.length&&(o={["@media "+I.join(", ")]:o}),!E)continue e}}}(i[u]=i[u]||[]).push([n?"cv":`${l}-${s[l]}`,o,p])}return i},PS={},IS=ia(),MS=(t,e)=>IS(t,()=>(...r)=>{const n=()=>{for(let i of r){i=typeof i=="object"&&i||{};let s=As(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}fo(i,[],[],t,o=>{e.rules.global.apply(o)})}}return""};return Xp(n,{toString:n})}),RS=ia(),OS=(t,e)=>RS(t,()=>r=>{const n=`${li(t.prefix)}k-${As(r)}`,i=()=>{if(!e.rules.global.cache.has(n)){e.rules.global.cache.add(n);const s=[];fo(r,[],[],t,a=>s.push(a));const o=`@keyframes ${n}{${s.join("")}}`;e.rules.global.apply(o)}return n};return Xp(i,{get name(){return i()},toString:i})}),BS=class{constructor(t,e,r,n){this.token=t==null?"":String(t),this.value=e==null?"":String(e),this.scale=r==null?"":String(r),this.prefix=n==null?"":String(n)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+li(this.prefix)+li(this.scale)+this.token}toString(){return this.computedValue}},LS=ia(),DS=(t,e)=>LS(t,()=>(r,n)=>{n=typeof r=="object"&&r||Object(n);const i=`.${r=(r=typeof r=="string"?r:"")||`${li(t.prefix)}t-${As(n)}`}`,s={},o=[];for(const l in n){s[l]={};for(const u in n[l]){const p=`--${li(t.prefix)}${l}-${u}`,x=jv(String(n[l][u]),t.prefix,l);s[l][u]=new BS(u,x,l,t.prefix),o.push(`${p}:${x}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(r)){e.rules.themed.cache.add(r);const l=`${n===t.theme?":root,":""}.${r}{${o.join(";")}}`;e.rules.themed.apply(l)}return r};return{...s,get className(){return a()},selector:i,toString:a}}),FS=ia(),US=ia(),WS=t=>{const e=(r=>{let n=!1;const i=FS(r,s=>{n=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,u=typeof s.theme=="object"&&s.theme||{},p={prefix:o,media:a,theme:u,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...hS},utils:typeof s.utils=="object"&&s.utils||{}},x=SS(l),w={css:Bx(p,x),globalCss:MS(p,x),keyframes:OS(p,x),createTheme:DS(p,x),reset(){x.reset(),w.theme.toString()},theme:{},sheet:x,config:p,prefix:o,getCssText:x.toString,toString:x.toString};return String(w.theme=w.createTheme(u)),w});return n||i.reset(),i})(t);return e.styled=(({config:r,sheet:n})=>US(r,()=>{const i=Bx(r,n);return(...s)=>{const o=i(...s),a=o[Es].type,l=Vn.forwardRef((u,p)=>{const x=u&&u.as||a,{props:w,deferredInjector:E}=o(u);return delete w.as,w.ref=p,E?Vn.createElement(Vn.Fragment,null,Vn.createElement(x,w),Vn.createElement(E,null)):Vn.createElement(x,w)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[Es]=o[Es],l}}))(e),e};const $S=t=>Object.values(t).reduce((e,r,n)=>({...e,[`tint${n+1}`]:r}),{}),pc={sm:0,md:480,lg:769,xl:1281},{styled:Qr,css:Ir,keyframes:zS,globalCss:jS,getCssText:h_,createTheme:p_,theme:g_,config:m_}=WS({theme:{radii:{1:"4px",2:"8px",3:"15px",4:"30px",5:"75px",circle:"9999px"},space:{0:0,1:4,2:8,3:16,4:32,5:64,6:128},borderWidths:{thin:"1px",thick:"2px"},zIndices:{modal:17},colors:{positive:"#2fc888",negative:"#ff5454",alert:"#F4B03E",...$S(dS),tint1:"black",background:"$tint1",inputBackground:"$tint2",uiBackground:"$tint3",uiBackgroundHover:"$tint4",uiBackgroundActive:"$tint5",border:"$tint6",borderHover:"$tint7",borderActive:"$tint8",textTertiary:"$tint10",textSecondary:"$tint11",textPrimary:"$tint12",gradientPrimary:"linear-gradient(83.57deg, rgba(39, 249, 111, 0) 13.55%, rgba(34, 201, 161, 0.65) 98.35%), linear-gradient(265.77deg, rgba(97, 12, 235, 0) 44.4%, rgba(70, 27, 92, 0) 44.41%, #661A8D 110.31%), #4B35A2",gradientPrimaryHover:"linear-gradient(83.57deg, rgba(69, 255, 141, 0) 13.55%, rgba(44, 211, 171, 0.85) 98.35%), linear-gradient(265.77deg, rgba(127, 42, 255, 0) 44.4%, rgba(100, 57, 122, 0) 44.41%, #661a8d 110.31%), #8B75E2",gradientSecondary:"linear-gradient(83.57deg, rgba(0, 0, 0, 0) 13.55%, rgba(34, 201, 191, 0.25) 98.35%), linear-gradient(265.77deg, rgba(92, 47, 115, 0) 58.48%, rgba(92, 47, 115, 0.5) 110.31%), #FFFFFF",gradientSecondaryHover:"linear-gradient(83.57deg, rgba(0, 0, 0, 0) 13.55%, rgba(34, 201, 191, 0.15) 98.35%), linear-gradient(265.77deg, rgba(92, 47, 115, 0) 58.48%, rgba(92, 47, 115, 0.4) 110.31%), #FFFFFF",gradientTertiary:"linear-gradient(83.57deg, rgba(0, 0, 0, 0) 13.55%, rgba(34, 201, 191, 0.2) 98.35%), linear-gradient(265.77deg, rgba(92, 47, 115, 0) 58.48%, rgba(92, 47, 115, 0.3) 110.31%), rgba(74, 74, 74, 0.5)"},fonts:{heading:"Arial",body:"Arial",code:"monospace"},fontSizes:{xs:"10px",sm:"12px",md:"16px",lg:"18px",xl:"20px",xxl:"35px"},fontWeights:{heading:500,body:600,bold:700},letterSpacings:{heading:"0.01em",body:"0.02em"},fontStyles:{normal:"normal",italic:"italic"},lineHeights:{heading:1.2,body:1.4}},media:{sm:`(min-width: ${pc.sm}px)`,md:`(min-width: ${pc.md}px)`,lg:`(min-width: ${pc.lg}px)`,xl:`(min-width: ${pc.xl}px)`},utils:{size:t=>({width:t,height:t}),mx:t=>({marginLeft:t,marginRight:t}),my:t=>({marginTop:t,marginBottom:t}),mt:t=>({marginTop:t}),mb:t=>({marginBottom:t}),px:t=>({paddingLeft:t,paddingRight:t}),py:t=>({paddingTop:t,paddingBottom:t}),pt:t=>({paddingTop:t}),pb:t=>({paddingBottom:t})}});jS({"*":{boxSizing:"border-box"},body:{background:"$background",margin:0}})();const gf={h1:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$heading",fontSize:"$lg",lineHeight:"$heading",letterSpacing:"$heading"}),h2:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$heading",fontSize:"14px",lineHeight:"$heading",letterSpacing:"$heading"}),h3:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:600,fontSize:"$xl",lineHeight:"$heading",letterSpacing:"$heading"}),b1:Ir({fontFamily:"$body",fontStyle:"$normal",fontWeight:"$bold",fontSize:"$md",lineHeight:"$body",letterSpacing:"$body"}),b2:Ir({fontFamily:"$body",fontStyle:"$normal",fontWeight:"$body",fontSize:"$sm",lineHeight:"$body",letterSpacing:"$body"}),b3:Ir({fontFamily:"$body",fontStyle:"$normal",fontWeight:400,fontSize:"$sm",lineHeight:"$body",letterSpacing:"$body"}),b4:Ir({fontFamily:"$body",fontStyle:"$normal",fontWeight:"$body",fontSize:"$xs",lineHeight:"$body",letterSpacing:"$body"}),button:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$heading",fontSize:"14px",lineHeight:"$heading",letterSpacing:"$heading"}),buttonSmall:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$body",fontSize:"$xs",lineHeight:"$body",letterSpacing:"$body"}),balance:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$heading",fontSize:"$xxl",lineHeight:"$heading",letterSpacing:"0.03em"}),amount:Ir({fontFamily:"$heading",fontStyle:"$normal",fontWeight:"$heading",fontSize:"25px",lineHeight:"$heading",letterSpacing:"0.03em"}),code:Ir({fontFamily:"$code",fontSttyle:"$normal",fontWeight:400,fontSize:"$sm",lineHeight:"$body",letterSpacing:"$body"})},Te=Qr("button",gf.button,{border:"none",display:"inline-block",userSelect:"none",cursor:"pointer",color:"$textPrimary",backgroundColor:"$uiBackground",position:"relative",width:"100%",height:"50px",borderRadius:"15px",padding:"15px",alignItems:"center","&:hover":{backgroundColor:"$uiBackgroundHover"},"&:disabled":{pointerEvents:"none",cursor:"default",opacity:"0.6"}}),HS="/demo-dapp/assets/logo-b757309e.svg",GS="/demo-dapp/assets/skyweaver-banner-6d47c1d1.png",qS=({message:t,loading:e})=>mn(VS,{children:[ge("div",{children:"Output:"}),ge("div",{children:mn(QS,{children:[t,e&&(()=>t?`
...`:"...")(),ge(JS,{children:"_"})]})})]}),VS=Qr("div",{color:"$uiBackground",backgroundColor:"grey",padding:"15px",borderRadius:"15px"}),KS=zS({"0%":{visibility:"hidden"},"50%":{visibility:"hidden"},"100%":{visibility:"visible"}}),JS=Qr("div",{display:"inline-block",fontSize:"24px",animation:`${KS} 2s infinite`,lineHeight:"16px",top:"-4px",position:"relative"}),QS=Qr("pre",{whiteSpace:"break-spaces",overflowWrap:"anywhere"}),Ys=t=>{const{label:e,children:r,style:n,className:i,layout:s="rows"}=t;return mn(YS,{className:i,style:n,children:[e&&ge(XS,{children:e}),ge(ZS,{layout:s,children:Vn.Children.map(r,(o,a)=>ge(e_,{children:o},a))})]})},YS=Qr("div",{width:"100%",margin:"40px 0 36px"}),XS=Qr("h2",gf.h2,{color:"$tint9",marginBottom:"15px"}),ZS=Qr("div",{variants:{layout:{rows:{"& > *:not(:last-child)":{marginBottom:"12px"}},grid:{display:"grid",gridColumnGap:"12px",gridRowGap:"12px",gridAutoRows:"1fr",gridTemplateColumns:"repeat(2, minmax(0, 1fr))","@lg":{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"}}}}}),e_=Qr("div");fS({logLevel:"DEBUG"});const t_={}.REACT_APP_WALLET_APP_URL||"https://sequence.app",sh="polygon";Ie.initWallet(sh,{walletAppURL:t_});const r_=()=>{const[t,e]=wn.useState(null),[r,n]=wn.useState(!1),[i,s]=wn.useState(!1),o=Ie.getWallet();wn.useEffect(()=>{s(o.isConnected())},[o]),wn.useEffect(()=>{C()},[i]);const a=async(c=!1,m=!1)=>{if(i){g(),v("Wallet already connected!"),n(!1);return}try{g(),v("Connecting");const S=Ie.getWallet(),f=await S.connect({app:"Demo Dapp",authorize:c,askForEmail:!0,...m&&{settings:{theme:"indigoDark",bannerUrl:`${window.location.origin}${GS}`,includedPaymentProviders:["moonpay"],defaultFundingCurrency:"matic",defaultPurchaseAmount:111}}});if(console.warn("connectDetails",{connectDetails:f}),c){const N=new bu;if(f.proof){const R=await N.decodeProof(f.proof.proofString,!0);console.warn({decodedProof:R});const L=await S.utils.isValidTypedDataSignature(await S.getAddress(),f.proof.typedData,R.signature,await S.getAuthChainId());if(console.log("isValid?",L),T(`isValid?: ${L}`),!L)throw new Error("sig invalid")}}n(!1),f.connected?(T("Wallet connected!"),s(!0)):T("Failed to connect wallet - "+f.error)}catch(S){console.error(S),h()}},l=()=>{Ie.getWallet().disconnect(),C(),s(!1)},u=()=>{Ie.getWallet().openWallet()},p=()=>{const c=Ie.getWallet(),S={type:"openWithOptions",options:{settings:{theme:"goldDark",includedPaymentProviders:["moonpay","ramp","wyre"],defaultFundingCurrency:"eth",defaultPurchaseAmount:400,lockFundingCurrencyToDefault:!1}}},f="wallet/add-funds";c.openWallet(f,S)},x=()=>{Ie.getWallet().closeWallet()},w=async()=>{g();const c=Ie.getWallet();console.log("isConnected?",c.isConnected()),v(`isConnected?: ${c.isConnected()}`),n(!1)},E=async()=>{g();const c=Ie.getWallet();console.log("isOpened?",c.isOpened()),v(`isOpened?: ${c.isOpened()}`),n(!1)},I=async()=>{g(),console.log("TODO"),v("TODO"),n(!1)},P=async()=>{try{g();const m=await Ie.getWallet().getAuthChainId();console.log("auth chainId:",m),v(`auth chainId: ${m}`),n(!1)}catch(c){console.error(c),h()}},b=async()=>{try{g();const c=await o.getChainId();console.log("chainId:",c),v(`chainId: ${c}`);const S=await o.getProvider().getChainId();console.log("provider.getChainId()",S),T(`provider.getChainId(): ${S}`);const N=await o.getSigner().getChainId();console.log("signer.getChainId()",N),T(`provider.getChainId(): ${N}`),n(!1)}catch(c){console.error(c),h()}},A=async()=>{try{g();const c=Ie.getWallet(),m=await c.getAddress();console.log(`getAddress(): ${m}`),v(`getAddress(): ${m}`);const f=await c.getProvider().listAccounts();console.log("accounts:",f),T(`accounts: ${JSON.stringify(f)}`),n(!1)}catch(c){console.error(c),h()}},k=async()=>{try{g();const c=Ie.getWallet(),m=c.getProvider(),S=await c.getAddress(),f=await m.getBalance(S);console.log("balance check 1",f.toString()),v(`balance check 1: ${f.toString()}`);const R=await c.getSigner().getBalance();console.log("balance check 2",R.toString()),T(`balance check 2: ${R.toString()}`),n(!1)}catch(c){console.error(c),h()}},B=async()=>{try{g();const c=await o.getSigner().getWalletState();console.log("wallet state:",c),v(`wallet state: ${JSON.stringify(c)}`),n(!1)}catch(c){console.error(c),h()}},O=async()=>{try{g();const m=await Ie.getWallet().getNetworks();console.log("networks:",m),v(`networks: ${JSON.stringify(m)}`),n(!1)}catch(c){console.error(c),h()}},D=async()=>{try{g();const c=Ie.getWallet();console.log("signing message..."),v("signing message...");const m=c.getSigner(),S=`1915 Robert Frost
The Road Not Taken
  
Two roads diverged in a yellow wood,
And sorry I could not travel both
And be one traveler, long I stood
And looked down one as far as I could
To where it bent in the undergrowth
  
Then took the other, as just as fair,
And having perhaps the better claim,
Because it was grassy and wanted wear
Though as for that the passing there
Had worn them really about the same,
  
And both that morning equally lay
In leaves no step had trodden black.
Oh, I kept the first for another day!
Yet knowing how way leads on to way,
I doubted if I should ever come back.
  
I shall be telling this with a sigh
Somewhere ages and ages hence:
Two roads diverged in a wood, and I—
I took the one less traveled by,
And that has made all the difference.
  
☁ ☀ ☂`,f=await m.signMessage(S);console.log("signature:",f),T(`signature: ${f}`);const N=await c.utils.isValidMessageSignature(await c.getAddress(),Q(Ce(S)),f,await m.getChainId());console.log("isValidHex?",N),T(`isValidHex?: ${N}`);const R=await c.utils.isValidMessageSignature(await c.getAddress(),S,f,await m.getChainId());if(console.log("isValid?",R),T(`isValid?: ${R}`),!R)throw new Error("sig invalid");n(!1)}catch(c){console.error(c),h()}},F=async()=>{try{g();const c=Ie.getWallet();console.log("signing message on AuthChain..."),v("signing message on AuthChain...");const m=await c.getAuthSigner(),S="Hi there! Please sign this message, 123456789, thanks.",f=await m.signMessage(S,await m.getChainId());if(console.log("signature:",f),T(`signature: ${f}`),f==="0x0002000134ab8771a3f2f7556dab62622ce62224d898175eddfdd50c14127c5a2bb0c8703b3b3aadc3fa6a63dd2dc66107520bc90031c015aaa4bf381f6d88d9797e9b9f1c02010144a0c1cbe7b29d97059dba8bbfcab2405dfb8420000145693d051135be70f588948aeaa043bd3ac92d98057e4a2c0fbd0f7289e028f828a31c62051f0d5fb96768c635a16eacc325d9e537ca5c8c5d2635b8de14ebce1c02")throw new Error("this sig is from the DefaultChain, not what we expected..");const R=await c.utils.isValidMessageSignature(await c.getAddress(),Q(Ce(S)),f,await m.getChainId());console.log("isValidHex?",R),T(`isValidHex?: ${R}`);const L=await c.utils.isValidMessageSignature(await c.getAddress(),S,f,await m.getChainId());if(console.log("isValid?",L),T(`isValid?: ${L}`),!L)throw new Error("sig invalid");const W=await c.isDeployed("mainnet");console.log("is wallet deployed on mainnet?",W),T(`is wallet deployed on mainnet?: ${W}`);const K=await c.isDeployed("polygon");console.log("is wallet deployed on matic?",K),T(`is wallet deployed on matic?: ${K}`),n(!1)}catch(c){console.error(c),h()}},j=async()=>{try{g();const c=Ie.getWallet();console.log("signing typedData..."),v("signing typedData...");const m={types:{Person:[{name:"name",type:"string"},{name:"wallet",type:"address"}],Mail:[{name:"from",type:"Person"},{name:"to",type:"Person"},{name:"cc",type:"Person[]"},{name:"contents",type:"string"},{name:"attachements",type:"string[]"}]},primaryType:"Mail",domain:{name:"Ether Mail",version:"1",chainId:1,verifyingContract:"0xCcCCccccCCCCcCCCCCCcCcCccCcCCCcCcccccccC"},message:{from:{name:"Cow",wallet:"0xCD2a3d9F938E13CD947Ec05AbC7FE734Df8DD826"},to:{name:"Bob",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},cc:[{name:"Dev Team",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"},{name:"Accounting",wallet:"0xbBbBBBBbbBBBbbbBbbBbbbbBBbBbbbbBbBbbBBbB"}],contents:"Hello, Bob!",attachements:["cat.png","dog.png"]}},S=c.getSigner(),f=await S.signTypedData(m.domain,m.types,m.message);console.log("signature:",f),T(`signature: ${f}`);const N=await c.utils.isValidTypedDataSignature(await c.getAddress(),m,f,await S.getChainId());if(console.log("isValid?",N),T(`isValid?: ${N}`),!N)throw new Error("sig invalid");n(!1)}catch(c){console.error(c),h()}},G=async()=>{try{g();const c=Ie.getWallet(),m=await c.getAddress(),S=await c.getAuthSigner(),f=await S.getChainId();console.log("AUTH CHAINID..",f),v(`AUTH CHAINID.. ${f}`);const N=await S.getChainId(),R=new af;R.address=m,R.claims.app="wee",R.claims.ogn="http://localhost:4000",R.setIssuedAtNow(),R.setExpiryIn(1e6);const L=R.messageTypedData(),W=Ie.utils.encodeTypedDataDigest(L);console.log("proof claims",R.claims),console.log("we expect digest:",Q(W)),T(`we expect digest: ${W}`);const K=await S.signTypedData(L.domain,L.types,L.message);console.log("signature:",K),T(`signature: ${K}`);const q=await c.utils.isValidTypedDataSignature(await c.getAddress(),L,K,N);if(console.log("isValid?",q),T(`isValid? ${q}`),!q)throw new Error("sig invalid");n(!1)}catch(c){console.error(c),h()}},z=async()=>{try{g();const c=Ie.getWallet(),m="0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270",S=new St(["function withdraw(uint256 amount)"]),f={to:m,data:S.encodeFunctionData("withdraw",["1000000000000000000"])},R=await c.getProvider().estimateGas(f);console.log("estimated gas needed for wmatic withdrawal:",R.toString()),v(`estimated gas needed for wmatic withdrawal : ${R.toString()}`),n(!1)}catch(c){console.error(c),h()}},X=async c=>{try{g();const m=Ie.getWallet();c=c||m.getSigner(),console.log(`Transfer txn on ${c.getChainId()} chainId`),v(`Transfer txn on ${c.getChainId()} chainId`);const S=_o.createRandom().address,f={delegateCall:!1,revertOnError:!1,gasLimit:"0x55555",to:S,value:N0("1.234"),data:"0x"},N={delegateCall:!1,revertOnError:!1,gasLimit:"0x55555",to:S,value:N0("0.4242"),data:"0x"},R=c.provider,L=await R.getBalance(S);console.log(`balance of ${S}, before:`,L),T(`balance of ${S}, before: ${L}`);const W=await c.sendTransactionBatch([f,N]);console.log("txnResponse:",W),T(`txnResponse: ${JSON.stringify(W)}`);const K=await R.getBalance(S);console.log(`balance of ${S}, after:`,K),T(`balance of ${S}, after: ${K}`),n(!1)}catch(m){console.error(m),h()}},ee=async c=>{try{g();const m=Ie.getWallet();c=c||m.getSigner();const S=_o.createRandom().address,f=yu("1",1),R={delegateCall:!1,revertOnError:!1,gasLimit:"0x55555",to:"0x4DBCdF9B62e891a7cec5A2568C3F4FAF9E8Abe2b",value:0,data:new St(Px).encodeFunctionData("transfer",[S,f.toHexString()])},L=await c.sendTransactionBatch([R],4);console.log("txnResponse:",L),v(`txnResponse: ${JSON.stringify(L)}`),n(!1)}catch(m){console.error(m),h()}},ae=async c=>{try{g();const m=Ie.getWallet();c=c||m.getSigner();const S=_o.createRandom().address,f=yu("5",18),R={delegateCall:!1,revertOnError:!1,gasLimit:"0x55555",to:"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063",value:0,data:new St(Px).encodeFunctionData("transfer",[S,f.toHexString()])},L=await c.sendTransactionBatch([R]);console.log("txnResponse:",L),v(`txnResponse: ${JSON.stringify(L)}`),n(!1)}catch(m){console.error(m),h()}},M=async()=>{try{const c=Ie.getWallet(),S=(await c.getNetworks()).find(f=>f.isAuthChain);X(c.getSigner(S))}catch(c){console.error(c),h()}},d=async()=>{try{g(),console.log("TODO"),v("TODO"),n(!1)}catch(c){console.error(c),h()}},y=async c=>{try{g();const m=Ie.getWallet();c=c||m.getSigner();const S=["function balanceOf(address owner) view returns (uint256)","function decimals() view returns (uint8)","function symbol() view returns (string)","function transfer(address to, uint amount) returns (bool)","event Transfer(address indexed from, address indexed to, uint amount)"],f="0x2791bca1f2de4661ed88a30c99a7a9449aa84174",N=new Cn(f,S,c),R=await N.symbol();console.log(`Token symbol: ${R}`),v(`Token symbol: ${R}`);const L=await N.balanceOf(await c.getAddress());console.log("Token Balance",L.toString()),T(`Token Balance: ${L.toString()}`),n(!1)}catch(m){console.error(m),h()}},_=async()=>{try{g();const S=await Ie.getWallet().getSigner().getAddress(),f=new Ie.indexer.SequenceIndexerClient(Ie.indexer.SequenceIndexerServices.POLYGON),N=await f.getTokenBalances({accountAddress:S,includeMetadata:!0});console.log("tokens in your account:",N),v(`tokens in your account: ${JSON.stringify(N)}`);const R=await f.getTokenBalances({accountAddress:S,includeMetadata:!0,contractAddress:"0x631998e91476DA5B870D741192fc5Cbc55F5a52E"});console.log("skyweaver collectibles in your account:",R),T(`skyweaver collectibles in your account: ${JSON.stringify(R)}`),n(!1)}catch(c){console.error(c),h()}},T=c=>e(m=>`${m}

${c}`),g=()=>{e(null),n(!0)},v=c=>{e(()=>c)},C=()=>{n(!1),e(i?"Status: Wallet is connected :)":"Status: Wallet not connected. Please connect wallet first.")},h=()=>{n(!1),e("An error occurred")};return mn(n_,{children:[ge(i_,{alt:"logo",src:HS}),mn(s_,{children:["Demo Dapp (",sh.length>0?sh:"mainnet",")"]}),ge(o_,{children:"Please open your browser dev inspector to view output of functions below"}),mn(Ys,{label:"Connection",layout:"grid",children:[ge(Te,{onClick:()=>a(),children:"Connect"}),ge(Te,{onClick:()=>a(!0),children:"Connect & Auth"}),ge(Te,{onClick:()=>a(!0,!0),children:"Connect with Settings"}),ge(Te,{onClick:()=>l(),children:"Disconnect"}),ge(Te,{disabled:!i,onClick:()=>u(),children:"Open Wallet"}),ge(Te,{disabled:!i,onClick:()=>p(),children:"Open Wallet with Settings"}),ge(Te,{disabled:!i,onClick:()=>x(),children:"Close Wallet"}),ge(Te,{disabled:!i,onClick:()=>w(),children:"Is Connected?"}),ge(Te,{disabled:!i,onClick:()=>E(),children:"Is Opened?"}),ge(Te,{disabled:!i,onClick:()=>I(),children:"DefaultChain?"}),ge(Te,{disabled:!i,onClick:()=>P(),children:"AuthChain?"})]}),mn(Ys,{label:"State",layout:"grid",children:[ge(Te,{disabled:!i,onClick:()=>b(),children:"ChainID"}),ge(Te,{disabled:!i,onClick:()=>O(),children:"Networks"}),ge(Te,{disabled:!i,onClick:()=>A(),children:"Get Accounts"}),ge(Te,{disabled:!i,onClick:()=>k(),children:"Get Balance"}),ge(Te,{disabled:!i,onClick:()=>B(),children:"Get Wallet State"})]}),mn(Ys,{label:"Signing",layout:"grid",children:[ge(Te,{disabled:!i,onClick:()=>D(),children:"Sign Message"}),ge(Te,{disabled:!i,onClick:()=>j(),children:"Sign TypedData"}),ge(Te,{disabled:!i,onClick:()=>F(),children:"Sign Message on AuthChain"}),ge(Te,{disabled:!i,onClick:()=>G(),children:"Sign ETHAuth"})]}),ge(Ys,{label:"Simulation",layout:"grid",children:ge(Te,{disabled:!i,onClick:()=>z(),children:"Estimate Unwrap Gas"})}),mn(Ys,{label:"Transactions",layout:"grid",children:[ge(Te,{disabled:!i,onClick:()=>X(),children:"Send on DefaultChain"}),ge(Te,{disabled:!i,onClick:()=>M(),children:"Send on AuthChain"}),ge(Te,{disabled:!i,onClick:()=>ae(),children:"Send DAI"}),ge(Te,{disabled:!i,onClick:()=>d(),children:"Send ERC-1155 Tokens"}),ge(Te,{disabled:!i,onClick:()=>ee(),children:"Send on Rinkeby"})]}),mn(Ys,{label:"Various",layout:"grid",children:[ge(Te,{css:{height:"60px"},disabled:!i,onClick:()=>y(),children:"Contract Example (read token symbol and balance)"}),ge(Te,{css:{height:"60px"},disabled:!i,onClick:()=>_(),children:"Fetch Token Balances + Metadata"})]}),ge(qS,{message:t,loading:r})]})},n_=Qr("div",{padding:"80px 25px 80px",margin:"0 auto",maxWidth:"720px"}),i_=Qr("img",{height:"40px"}),s_=Qr("h1",gf.h1,{color:"$textPrimary",fontSize:"25px"}),o_=Qr("p",gf.b1,{color:"$textSecondary",marginBottom:"15px"}),a_=Vn.memo(r_);r6.render(ge(Vn.StrictMode,{children:ge(a_,{})}),document.getElementById("root"));
